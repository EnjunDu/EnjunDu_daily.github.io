{
    "version": "https://jsonfeed.org/version/1",
    "title": "Hexo • All posts by \"嵩天的爱-ece-bc\" category",
    "description": "",
    "home_page_url": "https://enjundu.github.io",
    "items": [
        {
            "id": "https://enjundu.github.io/ECEBC/%E9%AB%98%E5%BE%B7%E6%89%BE%E6%88%BF/",
            "url": "https://enjundu.github.io/ECEBC/%E9%AB%98%E5%BE%B7%E6%89%BE%E6%88%BF/",
            "title": "高德找房",
            "date_published": "2024-07-08T17:41:31.000Z",
            "content_html": "<h1 id=\"项目介绍\"><a class=\"anchor\" href=\"#项目介绍\">#</a> 项目介绍</h1>\n<h2 id=\"高德开放平台\"><a class=\"anchor\" href=\"#高德开放平台\">#</a> 高德开放平台</h2>\n<p>高德开放平台是国内技术领先的 LBS 服务提供商，拥有先进的数据融合技术和海量的数据处理能力。</p>\n<p>高德开放平台为开发者提供了三项主要的能力：</p>\n<ul>\n<li>专业、易用的地图开发工具：API/SDK</li>\n<li>快捷的位置云计算：云图</li>\n<li>权威的位置大数据：高德位智</li>\n</ul>\n<h2 id=\"html\"><a class=\"anchor\" href=\"#html\">#</a> HTML</h2>\n<p>HTML 的全称为超文本标记语言，是一种标记语言。</p>\n<p>它包括一系列标签．通过这些标签可以将网络上的文档格式统一，使分散的 Internet 资源连接为一个逻辑整体。</p>\n<p>HTML 文本是由 HTML 命令组成的描述性文本，HTML 命令可以说明文字，图形、动画、声音、表格、链接等。</p>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;zh&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>我的第一个 HTML 页面<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>body 元素的内容会显示在浏览器中。<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>title 元素的内容会显示在浏览器的标题栏中。<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"javascript\"><a class=\"anchor\" href=\"#javascript\">#</a> JavaScript</h2>\n<p>JavaScript（简称 “JS”） 是一种具有函数优先的轻量级，解释型或即时编译型的编程语言。</p>\n<p>虽然它是作为开发 Web 页面的脚本语言而出名，但是它也被用到了很多非浏览器环境中，JavaScript 基于原型编程、多范式的动态脚本语言，并且支持面向对象、命令式、声明式、函数式编程范式。</p>\n<p>JavaScript 在 1995 年由 Netscape 公司的 Brendan Eich，在网景导航者浏览器上首次设计实现而成。</p>\n<p>因为 Netscape 与 Sun 合作，Netscape 管理层希望它外观看起来像 Java，因此取名为 JavaScript。</p>\n<p>但实际上它的语法风格与 Self 及 Scheme 较为接近。</p>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;zh&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>我的第一个 JavaScript 页面<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>我的第一段 JavaScript<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;document.getElementById(&#x27;demo&#x27;).innerHTML = Date()&quot;</span>&gt;</span></span><br><span class=\"line\">    点击这里来显示日期和时间</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;demo&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h1 id=\"项目目标\"><a class=\"anchor\" href=\"#项目目标\">#</a> 项目目标</h1>\n<h2 id=\"主要目标\"><a class=\"anchor\" href=\"#主要目标\">#</a> 主要目标</h2>\n<p>从房源网站获取房源信息，使用高德地图 Web 端 (JS API) 以工作单位为中心，显示一小时通勤范围房源，并能够进行工作地点路径规划。</p>\n<h2 id=\"目标分解\"><a class=\"anchor\" href=\"#目标分解\">#</a> 目标分解</h2>\n<ul>\n<li>爬取房源信息</li>\n<li>清洗房源数据</li>\n<li>本地存储数据</li>\n<li>编写页面代码</li>\n</ul>\n<h2 id=\"技术选型\"><a class=\"anchor\" href=\"#技术选型\">#</a> 技术选型</h2>\n<h3 id=\"问题房源平台如何选择\"><a class=\"anchor\" href=\"#问题房源平台如何选择\">#</a> 问题：房源平台如何选择？</h3>\n<ul>\n<li>避免选取反爬虫机制过强的网站</li>\n<li>尽量选取房源名称和地址在列表上明显标出的网站，以避免嵌套爬取，造成大量资源开销</li>\n<li>尽量选取静态数据展示网页，避免动态接口变化或鉴权受阻</li>\n</ul>\n<h3 id=\"问题文件存储格式什么样\"><a class=\"anchor\" href=\"#问题文件存储格式什么样\">#</a> 问题：文件存储格式什么样？</h3>\n<ul>\n<li>CSV 格式，读写效率高，有模块可以辅助写入</li>\n<li>包含房源标题和房源地址，为了统一起见，分别位于 [0], [1] 列</li>\n<li>可拓展如房源链接等内容，作为地图信息点的拓展</li>\n</ul>\n<h3 id=\"问题如何申请高德开放api\"><a class=\"anchor\" href=\"#问题如何申请高德开放api\">#</a> 问题：如何申请高德开放 API？</h3>\n<ul>\n<li>在<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sYnMuYW1hcC5jb20v\">高德开放平台 | 高德地图 API</span> 上申请成为个人开发者，转到控制台</li>\n<li>在 “<strong>我的应用</strong>”-&gt; “<strong>应用管理</strong>”-&gt; “<strong>创建新应用</strong>” 处，填写信息，创建新应用</li>\n<li>在应用列表点击 “<strong>添加</strong>”<br />\n<img data-src=\"https://s2.loli.net/2024/07/09/HrDkdKUxb47oC1Z.png\" alt=\"image.png\" /></li>\n<li>填写 Key 名称，服务平台选择 <strong>Web 端（JS API）</strong>，同意并提交</li>\n<li>获得 Key 与安全密钥，此密钥将用于后续前端接口申请<br />\n<img data-src=\"https://s2.loli.net/2024/07/09/qawTYGDQ28AX7Np.png\" alt=\"image.png\" /></li>\n</ul>\n<p>注意：<strong>API Key 虽然在项目练习中可以共享，但实际生产环境中请勿共享自己的 Key 以及安全密钥</strong></p>\n<h2 id=\"课堂要求\"><a class=\"anchor\" href=\"#课堂要求\">#</a> 课堂要求</h2>\n<h3 id=\"提交项目结构\"><a class=\"anchor\" href=\"#提交项目结构\">#</a> 提交项目结构</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">index.html          地图网页文件</span><br><span class=\"line\">scrap.py            爬虫文件</span><br><span class=\"line\">README.md\t\t\t项目描述说明文档</span><br><span class=\"line\">requirements.txt\t项目依赖包版本号（项目需要下载到本地执行，如果有第三方依赖包，必须填写）</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"标注核心算法函数位置\"><a class=\"anchor\" href=\"#标注核心算法函数位置\">#</a> 标注核心算法函数位置</h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 爬虫程序 位于scrap.py文件 第31行</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">main</span>():</span><br><span class=\"line\">  \t<span class=\"string\">&quot;&quot;&quot;爬虫程序&quot;&quot;&quot;</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">pass</span></span><br></pre></td></tr></table></figure></p>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 地图程序 位于index.py文件 第96行</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\t<span class=\"comment\">/*  ---------------------------</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">\t\t\t生成AMap.Map对象，类型&quot;container&quot;, 对象名 map</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">\t\t\t地图初始化城市和地图的一些属性</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\t<span class=\"keyword\">var</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Map</span>(<span class=\"string\">&quot;container&quot;</span>, &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\t\t<span class=\"attr\">resizeEnable</span>: <span class=\"literal\">true</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\t\t<span class=\"attr\">zoomEnable</span>: <span class=\"literal\">true</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\t\t<span class=\"attr\">center</span>: [<span class=\"number\">116.397</span>, <span class=\"number\">39.91</span>],</span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\t\t<span class=\"attr\">zoom</span>: <span class=\"number\">11</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\t&#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">  ...</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"程序运行效果截图\"><a class=\"anchor\" href=\"#程序运行效果截图\">#</a> 程序运行效果截图</h3>\n<p>界面样例如图所示：</p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/ozZGpctmuxvMRlJ.png\" alt=\"image.png\" /></p>\n<p>具体房源信息如图所示：</p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/mPkVvRrI158bxQw.png\" alt=\"image.png\" /></p>\n<p>1 . 在我们运行 scrap.py 生成 renting.csv 后，请不要直接打开 index.html，因为 ** 这样会影响后续导入文件后与服务器的交互！**<span class=\"exturl\" data-url=\"aHR0cDovL3huLS13ZWItaTAwZW82YmszOGVtdmh2MmNvdzNieWY5YWNwaTBzbC5weQ==\"> 正确做法是请先运行 web.py</span>，打开 Chorme 浏览器后输入网址 http://localhost:52113 / 后会自动跳转到该网页。</p>\n<ol start=\"2\">\n<li>\n<p>由于高德限量 100 个交互，本人通过强大的人际沟通能力获得了两个备份 KEY 和密钥，到时候如果老师您要调试可以在代码 “</p>\n</li>\n<li>\n<p>#一、该项目运行思路：由于 58 同城限制 ip 爬取，本人通过爬虫可以达到在第一次不限制 ip 的爬取情况下成功爬取 58 同城房源内容，但是本人担心老师您的 ip 已经因为其他同学的爬虫被 58 封禁，抑或是您运行完本人的爬虫软件后无法再进入高德 ip，故本人选择爬取贝壳二手房的房源信息。爬取思路十分简单：</p>\n<ul>\n<li>1. 通过贝壳二手房的 url 规律，查取到其页面规律，即为 http://bj.ke.com/ershoufang/pg {}/，通过改变 {} 内的数字跳转到对应页面内容</li>\n<li>2. 通过查看页面的 html，找出跳转到对应房源详细页面的 url，通过分析二级页面的详细内容，找出其位置的对应部分，爬取并记录下来。</li>\n</ul>\n<p>二、对于 html 的写作</p>\n<ul>\n<li>1. 首先根据阅读高德的初始化技术文档完成 html 初始化配置</li>\n<li>2. 通过申请获得 Key 和安全密钥</li>\n<li>3. 通过初始化后找到 1h 内能达到的区域并标记</li>\n<li>4. 通过用户输入用红色标记显示用户输入的位置</li>\n<li>5. 通过读取 csv 文件里的地址将其显示再 html 页面内，用蓝色标记显示</li>\n</ul>\n</li>\n</ol>\n<h1 id=\"代码实现\"><a class=\"anchor\" href=\"#代码实现\">#</a> 代码实现</h1>\n<h2 id=\"indexhtml\"><a class=\"anchor\" href=\"#indexhtml\">#</a> index.html</h2>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">﻿//地图文件位于index.html的第79行</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;chrome=1&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;initial-scale=1.0, user-scalable=no, width=device-width&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>亿达广场<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://cache.amap.com/lbs/static/main1119.css&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://cache.amap.com/lbs/static/jquery.range.css&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;http://cache.amap.com/lbs/static/jquery-1.9.1.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;http://cache.amap.com/lbs/static/es5.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">window</span>.<span class=\"property\">_AMapSecurityConfig</span> = &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">securityJsCode</span>:<span class=\"string\">&#x27;10e4c6ba0f1bdeb536e52242f002f7dc&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://webapi.amap.com/maps?v=1.4.15&amp;key=76cbc3c8045ecf964ef28e6cf0982b62&amp;plugin=AMap.ArrivalRange,AMap.Scale,AMap.Geocoder,AMap.Transfer,AMap.Autocomplete&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"comment\">/*面板规划*/</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.control-panel</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">top</span>: <span class=\"number\">30px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">left</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.control-entry</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">width</span>: <span class=\"number\">290px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">119</span>, <span class=\"number\">136</span>, <span class=\"number\">153</span>, <span class=\"number\">0.8</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">font-family</span>: fantasy, sans-serif;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">text-align</span>: left;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">color</span>: white;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">overflow</span>:hidden;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.control-input</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">120px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.control-input</span> <span class=\"selector-tag\">input</span><span class=\"selector-attr\">[type=<span class=\"string\">&quot;text&quot;</span>]</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">width</span>: <span class=\"number\">160px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-class\">.control-panel</span> <span class=\"selector-tag\">label</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"comment\">/*路线规划*/</span></span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"selector-id\">#transfer-panel</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"attribute\">background-color</span>: white;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"attribute\">max-height</span>: <span class=\"number\">80%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"attribute\">overflow-y</span>: auto;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"attribute\">top</span>: <span class=\"number\">150px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"attribute\">left</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\"><span class=\"attribute\">width</span>: <span class=\"number\">250px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">&#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;container&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--显示输入地址面板--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;control-panel&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;control-entry&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">label</span>&gt;</span>输入工作地点：<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;control-input&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;work-location&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--显示导入房源的面板--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;control-entry&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">label</span>&gt;</span>导入房源文件：<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;control-input&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;file&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;file&quot;</span> <span class=\"attr\">onChange</span>=<span class=\"string\">&quot;importRentInfo(this)&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;transfer-panel&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//地图部分</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Map</span>(<span class=\"string\">&quot;container&quot;</span>, &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">resizeEnable</span>: <span class=\"literal\">true</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">zoomEnable</span>: <span class=\"literal\">true</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">center</span>: [<span class=\"number\">116.397428</span>, <span class=\"number\">39.90923</span>],   <span class=\"comment\">//地图中心，北京天安门</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">zoom</span>: <span class=\"number\">11</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//添加标尺</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> scale = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Scale</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    map.<span class=\"title function_\">addControl</span>(scale);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//经度，纬度，时间，通勤方式默认公交</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//数组等初始化</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> x, y, t, vehicle = <span class=\"string\">&quot;SUBWAY,BUS&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> workAddress, workMarker;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> rentMarkerArray = [];</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> polygonArray = [];</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> amapTransfer;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> arrivalRange = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">ArrivalRange</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> infoWindow = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">InfoWindow</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">offset</span>: <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Pixel</span>(<span class=\"number\">0</span>, -<span class=\"number\">30</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//地址自动补全对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> auto = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Autocomplete</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//根据id指定输入内容</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"attr\">input</span>: <span class=\"string\">&quot;work-location&quot;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//添加事件监听</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"title class_\">AMap</span>.<span class=\"property\">event</span>.<span class=\"title function_\">addListener</span>(auto, <span class=\"string\">&quot;select&quot;</span>, workLocationSelected);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//选择工作后加载1h后到达的方法</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">workLocationSelected</span>(<span class=\"params\">e</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    workAddress = e.<span class=\"property\">poi</span>.<span class=\"property\">name</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">loadWorkLocation</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//加载工作地点标记</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">loadWorkMarker</span>(<span class=\"params\">x, y, locationName</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    workMarker = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Marker</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">map</span>: map,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">title</span>: locationName,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">icon</span>: <span class=\"string\">&#x27;http://webapi.amap.com/theme/v1.3/markers/n/mark_r.png&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">position</span>: [x, y]</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//清除已有的到达区域</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">delWorkLocation</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span> (polygonArray) map.<span class=\"title function_\">remove</span>(polygonArray);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span> (workMarker) map.<span class=\"title function_\">remove</span>(workMarker);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    polygonArray = [];</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//加载到达范围</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">loadWorkRange</span>(<span class=\"params\">x, y, t, color, v</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    arrivalRange.<span class=\"title function_\">search</span>([x, y], t, <span class=\"keyword\">function</span>(<span class=\"params\">status, result</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">if</span> (result.<span class=\"property\">bounds</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; result.<span class=\"property\">bounds</span>.<span class=\"property\">length</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//多边形对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">var</span> polygon = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Polygon</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">map</span>: map,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">fillColor</span>: color,    <span class=\"comment\">//填充色</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">fillOpacity</span>: <span class=\"string\">&quot;0.4&quot;</span>,  <span class=\"comment\">//透明度</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">strokeWeight</span>: <span class=\"number\">1</span>      <span class=\"comment\">//线宽</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//到达范围的多边形路径</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                polygon.<span class=\"title function_\">setPath</span>(result.<span class=\"property\">bounds</span>[i]);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//增加多边形</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                polygonArray.<span class=\"title function_\">push</span>(polygon);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;, &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">policy</span>: v</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//加载1小时到达区域</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">loadWorkLocation</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//清除已有的到达区域</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">delWorkLocation</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//创建地址坐标对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> geocoder = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Geocoder</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">city</span>: <span class=\"string\">&quot;北京&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">radius</span>: <span class=\"number\">1000</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//获取位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    geocoder.<span class=\"title function_\">getLocation</span>(workAddress, <span class=\"keyword\">function</span>(<span class=\"params\">status, result</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">if</span> (status === <span class=\"string\">&quot;complete&quot;</span> &amp;&amp; result.<span class=\"property\">info</span> === <span class=\"string\">&#x27;OK&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">var</span> geocode = result.<span class=\"property\">geocodes</span>[<span class=\"number\">0</span>];   <span class=\"comment\">//获取地址编码</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            x = geocode.<span class=\"property\">location</span>.<span class=\"title function_\">getLng</span>();      <span class=\"comment\">//经度</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            y = geocode.<span class=\"property\">location</span>.<span class=\"title function_\">getLat</span>();      <span class=\"comment\">//纬度</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//加载工作地点标记</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">loadWorkMarker</span>(x, y);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">var</span> a = [];</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// 使用循环来填充数组</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">1000</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        a[i] = <span class=\"number\">2</span> * i;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//加载工作地点1小时内到达的范围</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">loadWorkRange</span>(x, y, <span class=\"number\">60</span>, <span class=\"string\">&quot;#3f67a5&quot;</span>, vehicle);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//地图移动到工作地点的位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            map.<span class=\"title function_\">setZoomAndCenter</span>(<span class=\"number\">12</span>, [x, y]);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//导入房源信息触发的方法</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">importRentInfo</span>(<span class=\"params\">fileInfo</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//获取房源文件名称</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> file = fileInfo.<span class=\"property\">files</span>[<span class=\"number\">0</span>].<span class=\"property\">name</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">loadRentLocationByFile</span>(file);</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//清除现有的房源标记</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">delRentLocation</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span> (rentMarkerArray) map.<span class=\"title function_\">remove</span>(rentMarkerArray);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    rentMarkerArray = [];</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//加载房源位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">loadRentLocationByFile</span>(<span class=\"params\">fileName</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//清除现有的房源标记</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">delRentLocation</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//所有的地点都记录在集合中</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> rent_locations = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//获取文件中的房源信息</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    $.<span class=\"title function_\">get</span>(fileName, <span class=\"keyword\">function</span>(<span class=\"params\">data</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//分割信息</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        data = data.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;\\n&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//遍历房源位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        data.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">item, index</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            rent_locations.<span class=\"title function_\">add</span>(item.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>]);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        rent_locations.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">element, index</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//加上房源标记</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">addMarkerByAddress</span>(element);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//添加房源标记</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">addMarkerByAddress</span>(<span class=\"params\">address</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//地理编码对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> geocoder = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Geocoder</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">city</span>: <span class=\"string\">&quot;北京&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">radius</span>: <span class=\"number\">1000</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//获取位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    geocoder.<span class=\"title function_\">getLocation</span>(address, <span class=\"keyword\">function</span>(<span class=\"params\">status, result</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">if</span> (status === <span class=\"string\">&quot;complete&quot;</span> &amp;&amp; result.<span class=\"property\">info</span> === <span class=\"string\">&#x27;OK&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//获取地理编码</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">var</span> geocode = result.<span class=\"property\">geocodes</span>[<span class=\"number\">0</span>];</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//标记对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            rentMarker = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Marker</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">map</span>: map,        <span class=\"comment\">//显示标记的地图</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">title</span>: address,  <span class=\"comment\">//鼠标移动至标记时所显示的文字</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//标记图标地址</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">icon</span>: <span class=\"string\">&#x27;http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//位置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">position</span>: [geocode.<span class=\"property\">location</span>.<span class=\"title function_\">getLng</span>(), geocode.<span class=\"property\">location</span>.<span class=\"title function_\">getLat</span>()]</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            rentMarkerArray.<span class=\"title function_\">push</span>(rentMarker);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//相关房源网络地址</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            rentMarker.<span class=\"property\">content</span> = <span class=\"string\">&quot;&lt;div&gt;房源：&lt;a target = &#x27;_blank&#x27;href=&#x27;http://bj.58.com/pinpaigongyu/?key=&quot;</span> + address + <span class=\"string\">&quot;&#x27;&gt;&quot;</span> + address + <span class=\"string\">&quot;&lt;/a&gt;&lt;div&gt;&quot;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//标记的事件处理</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            rentMarker.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//设置信息窗体显示的内容</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                infoWindow.<span class=\"title function_\">setContent</span>(e.<span class=\"property\">target</span>.<span class=\"property\">content</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                infoWindow.<span class=\"title function_\">open</span>(map, e.<span class=\"property\">target</span>.<span class=\"title function_\">getPosition</span>());</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//路线规划是否清除</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (amapTransfer) amapTransfer.<span class=\"title function_\">clear</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//换乘对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                amapTransfer = <span class=\"keyword\">new</span> <span class=\"title class_\">AMap</span>.<span class=\"title class_\">Transfer</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">map</span>: map,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">policy</span>: <span class=\"title class_\">AMap</span>.<span class=\"property\">TransferPolicy</span>.<span class=\"property\">LEAST_TIME</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">city</span>: <span class=\"string\">&quot;北京市&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">panel</span>: <span class=\"string\">&#x27;transfer-panel&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//根据起、终点坐标查询换乘路线</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                amapTransfer.<span class=\"title function_\">search</span>([&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">keyword</span>: workAddress</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;, &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">keyword</span>: address</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;], <span class=\"keyword\">function</span>(<span class=\"params\">status, result</span>) &#123;&#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"rentingcsv\"><a class=\"anchor\" href=\"#rentingcsv\">#</a> renting.csv</h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">﻿宝丰大厦,丰台玉泉营宝丰大厦,https://bj.ke.com/ershoufang/<span class=\"number\">101121777512.</span>html</span><br><span class=\"line\">中晟馨苑小区四号院,顺义马坡中晟馨苑小区四号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121800118.</span>html</span><br><span class=\"line\">中晟馨苑小区四号院,顺义马坡中晟馨苑小区四号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121800118.</span>html</span><br><span class=\"line\">阳光乐府,大兴黄村中阳光乐府,https://bj.ke.com/ershoufang/<span class=\"number\">101121756475.</span>html</span><br><span class=\"line\">芳嘉园胡同,东城朝阳门内芳嘉园胡同,https://bj.ke.com/ershoufang/<span class=\"number\">101121777383.</span>html</span><br><span class=\"line\">中铁西城,门头沟上岸地铁中铁西城,https://bj.ke.com/ershoufang/<span class=\"number\">101121800069.</span>html</span><br><span class=\"line\">中铁西城,门头沟上岸地铁中铁西城,https://bj.ke.com/ershoufang/<span class=\"number\">101121800069.</span>html</span><br><span class=\"line\">城子西街<span class=\"number\">1</span>号院,门头沟城子城子西街<span class=\"number\">1</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121755977.</span>html</span><br><span class=\"line\">苹果园小区三区,石景山苹果园苹果园小区三区,https://bj.ke.com/ershoufang/<span class=\"number\">101121795659.</span>html</span><br><span class=\"line\">苹果园小区三区,石景山苹果园苹果园小区三区,https://bj.ke.com/ershoufang/<span class=\"number\">101121795659.</span>html</span><br><span class=\"line\">花园小区,密云鼓楼街道花园小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121776951.</span>html</span><br><span class=\"line\">鸿坤理想城五期,大兴西红门鸿坤理想城五期,https://bj.ke.com/ershoufang/<span class=\"number\">101121755905.</span>html</span><br><span class=\"line\">同馨家园,丰台青塔同馨家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121793951.</span>html</span><br><span class=\"line\">同馨家园,丰台青塔同馨家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121793951.</span>html</span><br><span class=\"line\">垡头西里,朝阳垡头垡头西里,https://bj.ke.com/ershoufang/<span class=\"number\">101121776485.</span>html</span><br><span class=\"line\">果园新里北区,密云果园街道果园新里北区,https://bj.ke.com/ershoufang/<span class=\"number\">101121755863.</span>html</span><br><span class=\"line\">鲁能<span class=\"number\">7</span>号院溪园,顺义马坡鲁能<span class=\"number\">7</span>号院溪园,https://bj.ke.com/ershoufang/<span class=\"number\">101121792851.</span>html</span><br><span class=\"line\">鲁能<span class=\"number\">7</span>号院溪园,顺义马坡鲁能<span class=\"number\">7</span>号院溪园,https://bj.ke.com/ershoufang/<span class=\"number\">101121792851.</span>html</span><br><span class=\"line\">上营新村,通州武夷花园上营新村,https://bj.ke.com/ershoufang/<span class=\"number\">101121776338.</span>html</span><br><span class=\"line\">永定华庭,海淀五棵松永定华庭,https://bj.ke.com/ershoufang/<span class=\"number\">101121754186.</span>html</span><br><span class=\"line\">北沙滩<span class=\"number\">1</span>号院,朝阳南沙滩北沙滩<span class=\"number\">1</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121794591.</span>html</span><br><span class=\"line\">北沙滩<span class=\"number\">1</span>号院,朝阳南沙滩北沙滩<span class=\"number\">1</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121794591.</span>html</span><br><span class=\"line\">惠民家园二区,门头沟大峪惠民家园二区,https://bj.ke.com/ershoufang/<span class=\"number\">101121776300.</span>html</span><br><span class=\"line\">冯村嘉园一区,门头沟冯村冯村嘉园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121754047.</span>html</span><br><span class=\"line\">宣颐家园,大兴旧宫宣颐家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121792509.</span>html</span><br><span class=\"line\">宣颐家园,大兴旧宫宣颐家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121792509.</span>html</span><br><span class=\"line\">新景家园东区,东城崇文门新景家园东区,https://bj.ke.com/ershoufang/<span class=\"number\">101121774058.</span>html</span><br><span class=\"line\">成府路<span class=\"number\">20</span>号院,海淀五道口成府路<span class=\"number\">20</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121754033.</span>html</span><br><span class=\"line\">龙跃苑三区,昌平回龙观龙跃苑三区,https://bj.ke.com/ershoufang/<span class=\"number\">101121773880.</span>html</span><br><span class=\"line\">永定路<span class=\"number\">57</span>号院,海淀五棵松永定路<span class=\"number\">57</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121791429.</span>html</span><br><span class=\"line\">永定路<span class=\"number\">57</span>号院,海淀五棵松永定路<span class=\"number\">57</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121791429.</span>html</span><br><span class=\"line\">中海长安雅苑,石景山古城中海长安雅苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121753850.</span>html</span><br><span class=\"line\">明天第一城<span class=\"number\">1</span>号院,昌平立水桥明天第一城<span class=\"number\">1</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121791052.</span>html</span><br><span class=\"line\">明天第一城<span class=\"number\">1</span>号院,昌平立水桥明天第一城<span class=\"number\">1</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121791052.</span>html</span><br><span class=\"line\">首开熙悦睿府书香,房山良乡首开熙悦睿府书香,https://bj.ke.com/ershoufang/<span class=\"number\">101121773179.</span>html</span><br><span class=\"line\">东一时区,朝阳双桥东一时区,https://bj.ke.com/ershoufang/<span class=\"number\">101121753277.</span>html</span><br><span class=\"line\">西土城路<span class=\"number\">2</span>号院,海淀北太平庄西土城路<span class=\"number\">2</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121772937.</span>html</span><br><span class=\"line\">郁花园三里,大兴高米店郁花园三里,https://bj.ke.com/ershoufang/<span class=\"number\">101121790090.</span>html</span><br><span class=\"line\">郁花园三里,大兴高米店郁花园三里,https://bj.ke.com/ershoufang/<span class=\"number\">101121790090.</span>html</span><br><span class=\"line\">理想家园,大兴西红门理想家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121752650.</span>html</span><br><span class=\"line\">保利春天里,大兴天宫院保利春天里,https://bj.ke.com/ershoufang/<span class=\"number\">101121789868.</span>html</span><br><span class=\"line\">首座御园一期,大兴枣园首座御园一期,https://bj.ke.com/ershoufang/<span class=\"number\">101121770884.</span>html</span><br><span class=\"line\">保利春天里,大兴天宫院保利春天里,https://bj.ke.com/ershoufang/<span class=\"number\">101121789868.</span>html</span><br><span class=\"line\">芳城园一区,丰台方庄芳城园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121752419.</span>html</span><br><span class=\"line\">鸿业兴园二区,丰台玉泉营鸿业兴园二区,https://bj.ke.com/ershoufang/<span class=\"number\">101121789160.</span>html</span><br><span class=\"line\">鸿业兴园二区,丰台玉泉营鸿业兴园二区,https://bj.ke.com/ershoufang/<span class=\"number\">101121789160.</span>html</span><br><span class=\"line\">大方居,通州九棵树(家乐福)大方居,https://bj.ke.com/ershoufang/<span class=\"number\">101121770090.</span>html</span><br><span class=\"line\">陶瓷厂宿舍,海淀安宁庄陶瓷厂宿舍,https://bj.ke.com/ershoufang/<span class=\"number\">101121751009.</span>html</span><br><span class=\"line\">杨庄北区,石景山杨庄杨庄北区,https://bj.ke.com/ershoufang/<span class=\"number\">101121788900.</span>html</span><br><span class=\"line\">杨庄北区,石景山杨庄杨庄北区,https://bj.ke.com/ershoufang/<span class=\"number\">101121788900.</span>html</span><br><span class=\"line\">北郡嘉源,昌平南邵北郡嘉源,https://bj.ke.com/ershoufang/<span class=\"number\">101121769801.</span>html</span><br><span class=\"line\">山水汇豪苑A区,房山窦店山水汇豪苑A区,https://bj.ke.com/ershoufang/<span class=\"number\">101121750261.</span>html</span><br><span class=\"line\">青塔东里,丰台青塔青塔东里,https://bj.ke.com/ershoufang/<span class=\"number\">101121788611.</span>html</span><br><span class=\"line\">青塔东里,丰台青塔青塔东里,https://bj.ke.com/ershoufang/<span class=\"number\">101121788611.</span>html</span><br><span class=\"line\">格兰晴天,通州玉桥格兰晴天,https://bj.ke.com/ershoufang/<span class=\"number\">101121769554.</span>html</span><br><span class=\"line\">新安中里,西城右安门内新安中里,https://bj.ke.com/ershoufang/<span class=\"number\">101121749923.</span>html</span><br><span class=\"line\">朝丰家园<span class=\"number\">6</span>号院,朝阳豆各庄朝丰家园<span class=\"number\">6</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121788405.</span>html</span><br><span class=\"line\">朝丰家园<span class=\"number\">6</span>号院,朝阳豆各庄朝丰家园<span class=\"number\">6</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121788405.</span>html</span><br><span class=\"line\">金隅泰和园,朝阳高碑店金隅泰和园,https://bj.ke.com/ershoufang/<span class=\"number\">101121768791.</span>html</span><br><span class=\"line\">八里庄北里小区,朝阳石佛营八里庄北里小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121749778.</span>html</span><br><span class=\"line\">农科院,海淀皂君庙农科院,https://bj.ke.com/ershoufang/<span class=\"number\">101121788127.</span>html</span><br><span class=\"line\">农科院,海淀皂君庙农科院,https://bj.ke.com/ershoufang/<span class=\"number\">101121788127.</span>html</span><br><span class=\"line\">十万坪,石景山古城十万坪,https://bj.ke.com/ershoufang/<span class=\"number\">101121768040.</span>html</span><br><span class=\"line\">西堂子胡同,东城灯市口西堂子胡同,https://bj.ke.com/ershoufang/<span class=\"number\">101121749239.</span>html</span><br><span class=\"line\">新城阳光,通州梨园新城阳光,https://bj.ke.com/ershoufang/<span class=\"number\">101121787325.</span>html</span><br><span class=\"line\">新城阳光,通州梨园新城阳光,https://bj.ke.com/ershoufang/<span class=\"number\">101121787325.</span>html</span><br><span class=\"line\">春风雅筑,丰台青塔春风雅筑,https://bj.ke.com/ershoufang/<span class=\"number\">101121765205.</span>html</span><br><span class=\"line\">中关村东路,海淀双榆树中关村东路,https://bj.ke.com/ershoufang/<span class=\"number\">101121749107.</span>html</span><br><span class=\"line\">石园东苑,顺义顺义城石园东苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121786455.</span>html</span><br><span class=\"line\">石园东苑,顺义顺义城石园东苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121786455.</span>html</span><br><span class=\"line\">麦子店街,朝阳农展馆麦子店街,https://bj.ke.com/ershoufang/<span class=\"number\">101121764756.</span>html</span><br><span class=\"line\">永乐东区,石景山鲁谷永乐东区,https://bj.ke.com/ershoufang/<span class=\"number\">101121748994.</span>html</span><br><span class=\"line\">永升嘉园,门头沟上岸地铁永升嘉园,https://bj.ke.com/ershoufang/<span class=\"number\">101121786051.</span>html</span><br><span class=\"line\">永升嘉园,门头沟上岸地铁永升嘉园,https://bj.ke.com/ershoufang/<span class=\"number\">101121786051.</span>html</span><br><span class=\"line\">东直门外大街(朝阳）,朝阳工体东直门外大街(朝阳）,https://bj.ke.com/ershoufang/<span class=\"number\">101121748704.</span>html</span><br><span class=\"line\">果园新里南区,密云果园街道果园新里南区,https://bj.ke.com/ershoufang/<span class=\"number\">101121763830.</span>html</span><br><span class=\"line\">京华苑,丰台角门京华苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121786027.</span>html</span><br><span class=\"line\">京华苑,丰台角门京华苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121786027.</span>html</span><br><span class=\"line\">彩虹城四区,丰台赵公口彩虹城四区,https://bj.ke.com/ershoufang/<span class=\"number\">101121748517.</span>html</span><br><span class=\"line\">京贸国际城,通州武夷花园京贸国际城,https://bj.ke.com/ershoufang/<span class=\"number\">101121761994.</span>html</span><br><span class=\"line\">名佳花园一区,昌平北七家名佳花园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121784966.</span>html</span><br><span class=\"line\">名佳花园一区,昌平北七家名佳花园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121784966.</span>html</span><br><span class=\"line\">蓟门东里,海淀知春路蓟门东里,https://bj.ke.com/ershoufang/<span class=\"number\">101121746490.</span>html</span><br><span class=\"line\">和平街十四区,朝阳和平里和平街十四区,https://bj.ke.com/ershoufang/<span class=\"number\">101121761925.</span>html</span><br><span class=\"line\">新华联家园北区,通州果园新华联家园北区,https://bj.ke.com/ershoufang/<span class=\"number\">101121784579.</span>html</span><br><span class=\"line\">新华联家园北区,通州果园新华联家园北区,https://bj.ke.com/ershoufang/<span class=\"number\">101121784579.</span>html</span><br><span class=\"line\">双桥六号井,朝阳双桥双桥六号井,https://bj.ke.com/ershoufang/<span class=\"number\">101121746147.</span>html</span><br><span class=\"line\">西坝河北里,朝阳西坝河西坝河北里,https://bj.ke.com/ershoufang/<span class=\"number\">101121760113.</span>html</span><br><span class=\"line\">弘善家园,朝阳潘家园弘善家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121784365.</span>html</span><br><span class=\"line\">弘善家园,朝阳潘家园弘善家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121784365.</span>html</span><br><span class=\"line\">明光村小区,海淀小西天明光村小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121746058.</span>html</span><br><span class=\"line\">金隅万科城一期,昌平鼓楼大街金隅万科城一期,https://bj.ke.com/ershoufang/<span class=\"number\">101121759054.</span>html</span><br><span class=\"line\">北洼西里,海淀紫竹桥北洼西里,https://bj.ke.com/ershoufang/<span class=\"number\">101121782634.</span>html</span><br><span class=\"line\">北洼西里,海淀紫竹桥北洼西里,https://bj.ke.com/ershoufang/<span class=\"number\">101121782634.</span>html</span><br><span class=\"line\">民旺园,东城和平里民旺园,https://bj.ke.com/ershoufang/<span class=\"number\">101121745681.</span>html</span><br><span class=\"line\">金隅汇星苑,朝阳高碑店金隅汇星苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121758612.</span>html</span><br><span class=\"line\">站前铁路小区,石景山城子站前铁路小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121782407.</span>html</span><br><span class=\"line\">站前铁路小区,石景山城子站前铁路小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121782407.</span>html</span><br><span class=\"line\">首开国风美仑,通州通州其它首开国风美仑,https://bj.ke.com/ershoufang/<span class=\"number\">101121745540.</span>html</span><br><span class=\"line\">鑫兆雅园北区,丰台刘家窑鑫兆雅园北区,https://bj.ke.com/ershoufang/<span class=\"number\">101121758570.</span>html</span><br><span class=\"line\"><span class=\"number\">621</span>小区,海淀清河<span class=\"number\">621</span>小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121781770.</span>html</span><br><span class=\"line\"><span class=\"number\">621</span>小区,海淀清河<span class=\"number\">621</span>小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121781770.</span>html</span><br><span class=\"line\">黄村西里,大兴黄村中黄村西里,https://bj.ke.com/ershoufang/<span class=\"number\">101121745033.</span>html</span><br><span class=\"line\">珠江逸景,通州马驹桥珠江逸景,https://bj.ke.com/ershoufang/<span class=\"number\">101121757540.</span>html</span><br><span class=\"line\">南湖园,大兴大兴其它南湖园,https://bj.ke.com/ershoufang/<span class=\"number\">101121744799.</span>html</span><br><span class=\"line\">云趣园一区,昌平回龙观云趣园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121781761.</span>html</span><br><span class=\"line\">云趣园一区,昌平回龙观云趣园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121781761.</span>html</span><br><span class=\"line\">志强北园,海淀小西天志强北园,https://bj.ke.com/ershoufang/<span class=\"number\">101121781449.</span>html</span><br><span class=\"line\">志强北园,海淀小西天志强北园,https://bj.ke.com/ershoufang/<span class=\"number\">101121781449.</span>html</span><br><span class=\"line\">翠成馨园A区,朝阳垡头翠成馨园A区,https://bj.ke.com/ershoufang/<span class=\"number\">101121757264.</span>html</span><br><span class=\"line\">华严北里<span class=\"number\">4</span>号院,朝阳健翔桥华严北里<span class=\"number\">4</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121744669.</span>html</span><br><span class=\"line\">建国路<span class=\"number\">100</span>号,朝阳CBD建国路<span class=\"number\">100</span>号,https://bj.ke.com/ershoufang/<span class=\"number\">101121778378.</span>html</span><br><span class=\"line\">建国路<span class=\"number\">100</span>号,朝阳CBD建国路<span class=\"number\">100</span>号,https://bj.ke.com/ershoufang/<span class=\"number\">101121778378.</span>html</span><br><span class=\"line\">普惠南里,海淀公主坟普惠南里,https://bj.ke.com/ershoufang/<span class=\"number\">101121757166.</span>html</span><br><span class=\"line\">佟馨家园A区,大兴义和庄佟馨家园A区,https://bj.ke.com/ershoufang/<span class=\"number\">101121744263.</span>html</span><br><span class=\"line\">泷悦•长安剑桥园,门头沟上岸地铁泷悦•长安剑桥园,https://bj.ke.com/ershoufang/<span class=\"number\">101121778110.</span>html</span><br><span class=\"line\">泷悦•长安剑桥园,门头沟上岸地铁泷悦•长安剑桥园,https://bj.ke.com/ershoufang/<span class=\"number\">101121778110.</span>html</span><br><span class=\"line\">天通苑东一区,昌平天通苑天通苑东一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121756889.</span>html</span><br><span class=\"line\">青塔芳园,丰台青塔青塔芳园,https://bj.ke.com/ershoufang/<span class=\"number\">101121744167.</span>html</span><br><span class=\"line\">欧陆经典,朝阳亚运村小营欧陆经典,https://bj.ke.com/ershoufang/<span class=\"number\">101121756501.</span>html</span><br><span class=\"line\">横五条<span class=\"number\">2</span>号院,丰台刘家窑横五条<span class=\"number\">2</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121744052.</span>html</span><br><span class=\"line\">建业苑(松榆北路<span class=\"number\">7</span>号院),朝阳劲松建业苑(松榆北路<span class=\"number\">7</span>号院),https://bj.ke.com/ershoufang/<span class=\"number\">101121730671.</span>html</span><br><span class=\"line\">马公庄,丰台木樨园马公庄,https://bj.ke.com/ershoufang/<span class=\"number\">101121718042.</span>html</span><br><span class=\"line\">诺德家园,丰台菜户营诺德家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121743948.</span>html</span><br><span class=\"line\">建邦华庭东区,房山长阳建邦华庭东区,https://bj.ke.com/ershoufang/<span class=\"number\">101121729964.</span>html</span><br><span class=\"line\">霁月园,门头沟滨河西区霁月园,https://bj.ke.com/ershoufang/<span class=\"number\">101121717662.</span>html</span><br><span class=\"line\">崔村一里,丰台丰台其它崔村一里,https://bj.ke.com/ershoufang/<span class=\"number\">101121743331.</span>html</span><br><span class=\"line\">道家园,朝阳甜水园道家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121729292.</span>html</span><br><span class=\"line\">DBC加州小镇,通州临河里DBC加州小镇,https://bj.ke.com/ershoufang/<span class=\"number\">101121717592.</span>html</span><br><span class=\"line\">菜户营<span class=\"number\">11</span>号院,丰台菜户营菜户营<span class=\"number\">11</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121742997.</span>html</span><br><span class=\"line\">果园西里,密云果园街道果园西里,https://bj.ke.com/ershoufang/<span class=\"number\">101121729233.</span>html</span><br><span class=\"line\">东花市北里东区,东城东花市东花市北里东区,https://bj.ke.com/ershoufang/<span class=\"number\">101121717101.</span>html</span><br><span class=\"line\">甘露园南里,朝阳甘露园甘露园南里,https://bj.ke.com/ershoufang/<span class=\"number\">101121742937.</span>html</span><br><span class=\"line\">古城南路,石景山古城古城南路,https://bj.ke.com/ershoufang/<span class=\"number\">101121729072.</span>html</span><br><span class=\"line\">万年花城五期,丰台玉泉营万年花城五期,https://bj.ke.com/ershoufang/<span class=\"number\">101121716738.</span>html</span><br><span class=\"line\">虎坊路小区,西城陶然亭虎坊路小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121742752.</span>html</span><br><span class=\"line\">永金里小区,海淀五棵松永金里小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121728737.</span>html</span><br><span class=\"line\">K2清水湾,通州潞苑K2清水湾,https://bj.ke.com/ershoufang/<span class=\"number\">101121716707.</span>html</span><br><span class=\"line\">北京印象,海淀定慧寺北京印象,https://bj.ke.com/ershoufang/<span class=\"number\">101121742539.</span>html</span><br><span class=\"line\">瀛海家园融园D区,大兴瀛海瀛海家园融园D区,https://bj.ke.com/ershoufang/<span class=\"number\">101121728595.</span>html</span><br><span class=\"line\">金色漫香郡南区,大兴南中轴机场商务区金色漫香郡南区,https://bj.ke.com/ershoufang/<span class=\"number\">101121716492.</span>html</span><br><span class=\"line\">八里庄北里,海淀定慧寺八里庄北里,https://bj.ke.com/ershoufang/<span class=\"number\">101121741816.</span>html</span><br><span class=\"line\">六合园,石景山鲁谷六合园,https://bj.ke.com/ershoufang/<span class=\"number\">101121728497.</span>html</span><br><span class=\"line\">双龙南里,朝阳华威桥双龙南里,https://bj.ke.com/ershoufang/<span class=\"number\">101121715621.</span>html</span><br><span class=\"line\">平乐园小区,朝阳北工大平乐园小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121741434.</span>html</span><br><span class=\"line\">惠民家园一区,门头沟大峪惠民家园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121728403.</span>html</span><br><span class=\"line\">羊坊店路<span class=\"number\">3</span>号院,海淀军博羊坊店路<span class=\"number\">3</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121741236.</span>html</span><br><span class=\"line\">张庄家园,顺义马坡张庄家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121715527.</span>html</span><br><span class=\"line\">展览路,西城阜成门展览路,https://bj.ke.com/ershoufang/<span class=\"number\">101121727901.</span>html</span><br><span class=\"line\">玺源台,西城广安门玺源台,https://bj.ke.com/ershoufang/<span class=\"number\">101121740080.</span>html</span><br><span class=\"line\">时尚街区东区,通州梨园时尚街区东区,https://bj.ke.com/ershoufang/<span class=\"number\">101121715488.</span>html</span><br><span class=\"line\">北苑家园望春园,朝阳北苑北苑家园望春园,https://bj.ke.com/ershoufang/<span class=\"number\">101121727496.</span>html</span><br><span class=\"line\">香悦四季,顺义马坡香悦四季,https://bj.ke.com/ershoufang/<span class=\"number\">101121740026.</span>html</span><br><span class=\"line\">远洋沁山水,石景山鲁谷远洋沁山水,https://bj.ke.com/ershoufang/<span class=\"number\">101121715021.</span>html</span><br><span class=\"line\">蔚园,丰台青塔蔚园,https://bj.ke.com/ershoufang/<span class=\"number\">101121726482.</span>html</span><br><span class=\"line\">西直门南大街东区,西城官园西直门南大街东区,https://bj.ke.com/ershoufang/<span class=\"number\">101121738930.</span>html</span><br><span class=\"line\">东亚瑞晶苑,通州马驹桥东亚瑞晶苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121715048.</span>html</span><br><span class=\"line\">新桥南大街,门头沟滨河西区新桥南大街,https://bj.ke.com/ershoufang/<span class=\"number\">101121726377.</span>html</span><br><span class=\"line\">华龙苑中里,昌平霍营华龙苑中里,https://bj.ke.com/ershoufang/<span class=\"number\">101121738915.</span>html</span><br><span class=\"line\">新龙城,昌平回龙观新龙城,https://bj.ke.com/ershoufang/<span class=\"number\">101121713973.</span>html</span><br><span class=\"line\">天通苑北三区,昌平天通苑天通苑北三区,https://bj.ke.com/ershoufang/<span class=\"number\">101121726047.</span>html</span><br><span class=\"line\">金台里,朝阳红庙金台里,https://bj.ke.com/ershoufang/<span class=\"number\">101121738276.</span>html</span><br><span class=\"line\">名都家苑,丰台马家堡名都家苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121713850.</span>html</span><br><span class=\"line\">天通苑中苑,昌平天通苑天通苑中苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121738242.</span>html</span><br><span class=\"line\">海澜中苑,海淀田村海澜中苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121725517.</span>html</span><br><span class=\"line\">艺苑西街<span class=\"number\">9</span>号院,通州果园艺苑西街<span class=\"number\">9</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121713428.</span>html</span><br><span class=\"line\">久筑物业,石景山鲁谷久筑物业,https://bj.ke.com/ershoufang/<span class=\"number\">101121738122.</span>html</span><br><span class=\"line\">科学园南里三区,朝阳南沙滩科学园南里三区,https://bj.ke.com/ershoufang/<span class=\"number\">101121725286.</span>html</span><br><span class=\"line\">普惠南里,海淀公主坟普惠南里,https://bj.ke.com/ershoufang/<span class=\"number\">101121713385.</span>html</span><br><span class=\"line\">永乐东区,石景山鲁谷永乐东区,https://bj.ke.com/ershoufang/<span class=\"number\">101121737870.</span>html</span><br><span class=\"line\">天通苑东二区,昌平天通苑天通苑东二区,https://bj.ke.com/ershoufang/<span class=\"number\">101121723178.</span>html</span><br><span class=\"line\">北平里,朝阳首都机场北平里,https://bj.ke.com/ershoufang/<span class=\"number\">101121713090.</span>html</span><br><span class=\"line\">飞腾家园,丰台新宫飞腾家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121735621.</span>html</span><br><span class=\"line\">首开常青藤四期,朝阳东坝首开常青藤四期,https://bj.ke.com/ershoufang/<span class=\"number\">101121722661.</span>html</span><br><span class=\"line\">福润四季B区,朝阳东坝福润四季B区,https://bj.ke.com/ershoufang/<span class=\"number\">101121712902.</span>html</span><br><span class=\"line\">中泽雅园,通州九棵树(家乐福)中泽雅园,https://bj.ke.com/ershoufang/<span class=\"number\">101121722213.</span>html</span><br><span class=\"line\">香花畦家园,顺义后沙峪香花畦家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121735458.</span>html</span><br><span class=\"line\">新街口七条<span class=\"number\">15</span>号院,西城新街口新街口七条<span class=\"number\">15</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121712746.</span>html</span><br><span class=\"line\">翠成馨园D区,朝阳垡头翠成馨园D区,https://bj.ke.com/ershoufang/<span class=\"number\">101121734648.</span>html</span><br><span class=\"line\">王庄路<span class=\"number\">27</span>号院,海淀五道口王庄路<span class=\"number\">27</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121722163.</span>html</span><br><span class=\"line\">青春路六院,怀柔怀柔青春路六院,https://bj.ke.com/ershoufang/<span class=\"number\">101121712125.</span>html</span><br><span class=\"line\">慧忠里B区,朝阳亚运村慧忠里B区,https://bj.ke.com/ershoufang/<span class=\"number\">101121734623.</span>html</span><br><span class=\"line\">燕保祈东家园,朝阳垡头燕保祈东家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121720976.</span>html</span><br><span class=\"line\">通惠南路,通州万达通惠南路,https://bj.ke.com/ershoufang/<span class=\"number\">101121712002.</span>html</span><br><span class=\"line\">什坊院,海淀军博什坊院,https://bj.ke.com/ershoufang/<span class=\"number\">101121720578.</span>html</span><br><span class=\"line\">德茂佳苑,大兴瀛海德茂佳苑,https://bj.ke.com/ershoufang/<span class=\"number\">101121734505.</span>html</span><br><span class=\"line\">东兴二区,顺义顺义城东兴二区,https://bj.ke.com/ershoufang/<span class=\"number\">101121711493.</span>html</span><br><span class=\"line\">远大园五区,海淀世纪城远大园五区,https://bj.ke.com/ershoufang/<span class=\"number\">101121720526.</span>html</span><br><span class=\"line\">文联宿舍,西城马甸文联宿舍,https://bj.ke.com/ershoufang/<span class=\"number\">101121733955.</span>html</span><br><span class=\"line\">融泽嘉园中路<span class=\"number\">1</span>号院,昌平回龙观融泽嘉园中路<span class=\"number\">1</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121711482.</span>html</span><br><span class=\"line\">电力宿舍,海淀清河电力宿舍,https://bj.ke.com/ershoufang/<span class=\"number\">101121719526.</span>html</span><br><span class=\"line\">群芳园,通州临河里群芳园,https://bj.ke.com/ershoufang/<span class=\"number\">101121733439.</span>html</span><br><span class=\"line\">广泉小区,朝阳劲松广泉小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121711447.</span>html</span><br><span class=\"line\">天合家园,海淀田村天合家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121719182.</span>html</span><br><span class=\"line\">皂君庙甲<span class=\"number\">16</span>号院,海淀皂君庙皂君庙甲<span class=\"number\">16</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121732977.</span>html</span><br><span class=\"line\">八里庄北里小区,朝阳石佛营八里庄北里小区,https://bj.ke.com/ershoufang/<span class=\"number\">101121711244.</span>html</span><br><span class=\"line\">角门东里,丰台角门角门东里,https://bj.ke.com/ershoufang/<span class=\"number\">101121719117.</span>html</span><br><span class=\"line\">天露园一区,昌平回龙观天露园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101121732585.</span>html</span><br><span class=\"line\">京贸国际公馆,通州九棵树(家乐福)京贸国际公馆,https://bj.ke.com/ershoufang/<span class=\"number\">101121710442.</span>html</span><br><span class=\"line\">远洋山水,石景山鲁谷远洋山水,https://bj.ke.com/ershoufang/<span class=\"number\">101121718685.</span>html</span><br><span class=\"line\">慈云寺,朝阳红庙慈云寺,https://bj.ke.com/ershoufang/<span class=\"number\">101121732023.</span>html</span><br><span class=\"line\">双花园西里,朝阳双井双花园西里,https://bj.ke.com/ershoufang/<span class=\"number\">101121710114.</span>html</span><br><span class=\"line\">北花园小区<span class=\"number\">3</span>号院,朝阳双桥北花园小区<span class=\"number\">3</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121718257.</span>html</span><br><span class=\"line\">西潞园一里,房山良乡西潞园一里,https://bj.ke.com/ershoufang/<span class=\"number\">101121732007.</span>html</span><br><span class=\"line\">富强西里,大兴黄村中富强西里,https://bj.ke.com/ershoufang/<span class=\"number\">101121718152.</span>html</span><br><span class=\"line\">清欣园,大兴旧宫清欣园,https://bj.ke.com/ershoufang/<span class=\"number\">101121709943.</span>html</span><br><span class=\"line\">和平里五区,东城和平里和平里五区,https://bj.ke.com/ershoufang/<span class=\"number\">101121731181.</span>html</span><br><span class=\"line\">兴水家园,大兴黄村火车站兴水家园,https://bj.ke.com/ershoufang/<span class=\"number\">101121718124.</span>html</span><br><span class=\"line\">周家庄中路<span class=\"number\">19</span>号院,朝阳十里河周家庄中路<span class=\"number\">19</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101121709222.</span>html</span><br><span class=\"line\">和平街十四区,朝阳和平里和平街十四区,https://bj.ke.com/ershoufang/<span class=\"number\">101121709161.</span>html</span><br><span class=\"line\">松榆西里,朝阳潘家园松榆西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124458490.</span>html</span><br><span class=\"line\">广安康润家园东区,丰台科技园区广安康润家园东区,https://bj.ke.com/ershoufang/<span class=\"number\">101124380978.</span>html</span><br><span class=\"line\">松榆西里,朝阳潘家园松榆西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124458490.</span>html</span><br><span class=\"line\">弘善家园,朝阳潘家园弘善家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124402119.</span>html</span><br><span class=\"line\">国美第一城<span class=\"number\">2</span>号院,朝阳朝青国美第一城<span class=\"number\">2</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124380731.</span>html</span><br><span class=\"line\">顺源里,朝阳亮马桥顺源里,https://bj.ke.com/ershoufang/<span class=\"number\">101124455486.</span>html</span><br><span class=\"line\">顺源里,朝阳亮马桥顺源里,https://bj.ke.com/ershoufang/<span class=\"number\">101124455486.</span>html</span><br><span class=\"line\">六合园,石景山鲁谷六合园,https://bj.ke.com/ershoufang/<span class=\"number\">101124402100.</span>html</span><br><span class=\"line\">金域缇香,房山长阳金域缇香,https://bj.ke.com/ershoufang/<span class=\"number\">101124448986.</span>html</span><br><span class=\"line\">金域缇香,房山长阳金域缇香,https://bj.ke.com/ershoufang/<span class=\"number\">101124448986.</span>html</span><br><span class=\"line\">北礼士路北区,西城车公庄北礼士路北区,https://bj.ke.com/ershoufang/<span class=\"number\">101124380672.</span>html</span><br><span class=\"line\">北京市人民检察院宿舍,海淀紫竹桥北京市人民检察院宿舍,https://bj.ke.com/ershoufang/<span class=\"number\">101124401100.</span>html</span><br><span class=\"line\">明光村小区,海淀小西天明光村小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124445116.</span>html</span><br><span class=\"line\">明光村小区,海淀小西天明光村小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124445116.</span>html</span><br><span class=\"line\">碧桂园小区C区,房山长阳碧桂园小区C区,https://bj.ke.com/ershoufang/<span class=\"number\">101124380162.</span>html</span><br><span class=\"line\">翌景嘉园,朝阳潘家园翌景嘉园,https://bj.ke.com/ershoufang/<span class=\"number\">101124399125.</span>html</span><br><span class=\"line\">合景领峰<span class=\"number\">8</span>号院,房山长阳合景领峰<span class=\"number\">8</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124379538.</span>html</span><br><span class=\"line\">慧忠北里,朝阳亚运村慧忠北里,https://bj.ke.com/ershoufang/<span class=\"number\">101124440835.</span>html</span><br><span class=\"line\">慧忠北里,朝阳亚运村慧忠北里,https://bj.ke.com/ershoufang/<span class=\"number\">101124440835.</span>html</span><br><span class=\"line\">兴盛街<span class=\"number\">187</span>号院,大兴枣园兴盛街<span class=\"number\">187</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124397095.</span>html</span><br><span class=\"line\">当代城市家园,海淀上地当代城市家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124379027.</span>html</span><br><span class=\"line\">金台北街,朝阳红庙金台北街,https://bj.ke.com/ershoufang/<span class=\"number\">101124460856.</span>html</span><br><span class=\"line\">金台北街,朝阳红庙金台北街,https://bj.ke.com/ershoufang/<span class=\"number\">101124460856.</span>html</span><br><span class=\"line\">苹果社区南区,朝阳双井苹果社区南区,https://bj.ke.com/ershoufang/<span class=\"number\">101124394854.</span>html</span><br><span class=\"line\">南沙滩小区,朝阳南沙滩南沙滩小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124378814.</span>html</span><br><span class=\"line\">京棉新城,朝阳十里堡京棉新城,https://bj.ke.com/ershoufang/<span class=\"number\">101124460301.</span>html</span><br><span class=\"line\">京棉新城,朝阳十里堡京棉新城,https://bj.ke.com/ershoufang/<span class=\"number\">101124460301.</span>html</span><br><span class=\"line\">安慧里四区,朝阳亚运村安慧里四区,https://bj.ke.com/ershoufang/<span class=\"number\">101124378288.</span>html</span><br><span class=\"line\">潘家园小区,朝阳潘家园潘家园小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124394492.</span>html</span><br><span class=\"line\">苹果派,朝阳常营苹果派,https://bj.ke.com/ershoufang/<span class=\"number\">101124443459.</span>html</span><br><span class=\"line\">苹果派,朝阳常营苹果派,https://bj.ke.com/ershoufang/<span class=\"number\">101124443459.</span>html</span><br><span class=\"line\">新景家园东区,东城崇文门新景家园东区,https://bj.ke.com/ershoufang/<span class=\"number\">101124393448.</span>html</span><br><span class=\"line\">筑华年,朝阳北苑筑华年,https://bj.ke.com/ershoufang/<span class=\"number\">101124378147.</span>html</span><br><span class=\"line\">八里庄东里,朝阳四惠八里庄东里,https://bj.ke.com/ershoufang/<span class=\"number\">101124441449.</span>html</span><br><span class=\"line\">八里庄东里,朝阳四惠八里庄东里,https://bj.ke.com/ershoufang/<span class=\"number\">101124441449.</span>html</span><br><span class=\"line\">福盈家园,朝阳定福庄福盈家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124393208.</span>html</span><br><span class=\"line\">龍祥小區,怀柔怀柔龍祥小區,https://bj.ke.com/ershoufang/<span class=\"number\">101124378114.</span>html</span><br><span class=\"line\">田村<span class=\"number\">40</span>号院,海淀田村田村<span class=\"number\">40</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124439470.</span>html</span><br><span class=\"line\">田村<span class=\"number\">40</span>号院,海淀田村田村<span class=\"number\">40</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124439470.</span>html</span><br><span class=\"line\">模式口西里,石景山苹果园模式口西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124391960.</span>html</span><br><span class=\"line\">西环里,昌平西关环岛西环里,https://bj.ke.com/ershoufang/<span class=\"number\">101124377723.</span>html</span><br><span class=\"line\">滨河东里南区,大兴枣园滨河东里南区,https://bj.ke.com/ershoufang/<span class=\"number\">101124438590.</span>html</span><br><span class=\"line\">滨河东里南区,大兴枣园滨河东里南区,https://bj.ke.com/ershoufang/<span class=\"number\">101124438590.</span>html</span><br><span class=\"line\">康泽佳苑南区,房山长阳康泽佳苑南区,https://bj.ke.com/ershoufang/<span class=\"number\">101124391071.</span>html</span><br><span class=\"line\">育新花园,海淀西三旗育新花园,https://bj.ke.com/ershoufang/<span class=\"number\">101124377279.</span>html</span><br><span class=\"line\">韩庄子二里,丰台看丹桥韩庄子二里,https://bj.ke.com/ershoufang/<span class=\"number\">101124437483.</span>html</span><br><span class=\"line\">韩庄子二里,丰台看丹桥韩庄子二里,https://bj.ke.com/ershoufang/<span class=\"number\">101124437483.</span>html</span><br><span class=\"line\">华龙苑南里,昌平霍营华龙苑南里,https://bj.ke.com/ershoufang/<span class=\"number\">101124391079.</span>html</span><br><span class=\"line\">学府花园,密云密云镇学府花园,https://bj.ke.com/ershoufang/<span class=\"number\">101124377054.</span>html</span><br><span class=\"line\">苏州胡同,东城建国门内苏州胡同,https://bj.ke.com/ershoufang/<span class=\"number\">101124437238.</span>html</span><br><span class=\"line\">苏州胡同,东城建国门内苏州胡同,https://bj.ke.com/ershoufang/<span class=\"number\">101124437238.</span>html</span><br><span class=\"line\">仓上小区,顺义顺义城仓上小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124376344.</span>html</span><br><span class=\"line\">万柳园小区,丰台玉泉营万柳园小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124391014.</span>html</span><br><span class=\"line\">新村二里,丰台玉泉营新村二里,https://bj.ke.com/ershoufang/<span class=\"number\">101124435229.</span>html</span><br><span class=\"line\">新村二里,丰台玉泉营新村二里,https://bj.ke.com/ershoufang/<span class=\"number\">101124435229.</span>html</span><br><span class=\"line\">香苇路<span class=\"number\">1</span>号院,朝阳中央别墅区香苇路<span class=\"number\">1</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124390694.</span>html</span><br><span class=\"line\">八角南里,石景山八角八角南里,https://bj.ke.com/ershoufang/<span class=\"number\">101124375830.</span>html</span><br><span class=\"line\">大方居,通州九棵树(家乐福)大方居,https://bj.ke.com/ershoufang/<span class=\"number\">101124433909.</span>html</span><br><span class=\"line\">大方居,通州九棵树(家乐福)大方居,https://bj.ke.com/ershoufang/<span class=\"number\">101124433909.</span>html</span><br><span class=\"line\">BOBO自由城,通州武夷花园BOBO自由城,https://bj.ke.com/ershoufang/<span class=\"number\">101124390490.</span>html</span><br><span class=\"line\">玉桥北里,通州乔庄玉桥北里,https://bj.ke.com/ershoufang/<span class=\"number\">101124374496.</span>html</span><br><span class=\"line\">丰西北里,丰台五里店丰西北里,https://bj.ke.com/ershoufang/<span class=\"number\">101124430754.</span>html</span><br><span class=\"line\">丰西北里,丰台五里店丰西北里,https://bj.ke.com/ershoufang/<span class=\"number\">101124430754.</span>html</span><br><span class=\"line\">远洋山水,石景山鲁谷远洋山水,https://bj.ke.com/ershoufang/<span class=\"number\">101124373757.</span>html</span><br><span class=\"line\">鼎顺嘉园西区,顺义顺义其它鼎顺嘉园西区,https://bj.ke.com/ershoufang/<span class=\"number\">101124389536.</span>html</span><br><span class=\"line\">剧场东街,门头沟城子剧场东街,https://bj.ke.com/ershoufang/<span class=\"number\">101124426494.</span>html</span><br><span class=\"line\">剧场东街,门头沟城子剧场东街,https://bj.ke.com/ershoufang/<span class=\"number\">101124426494.</span>html</span><br><span class=\"line\">美宅湾,大兴万源美宅湾,https://bj.ke.com/ershoufang/<span class=\"number\">101124373610.</span>html</span><br><span class=\"line\">次渠南里七区,亦庄开发区通州其它次渠南里七区,https://bj.ke.com/ershoufang/<span class=\"number\">101124387143.</span>html</span><br><span class=\"line\">韩建青春誌,房山良乡韩建青春誌,https://bj.ke.com/ershoufang/<span class=\"number\">101124423495.</span>html</span><br><span class=\"line\">韩建青春誌,房山良乡韩建青春誌,https://bj.ke.com/ershoufang/<span class=\"number\">101124423495.</span>html</span><br><span class=\"line\">融科香雪兰溪,通州马驹桥融科香雪兰溪,https://bj.ke.com/ershoufang/<span class=\"number\">101124387128.</span>html</span><br><span class=\"line\">玉璞家园,丰台丽泽玉璞家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124373552.</span>html</span><br><span class=\"line\">后现代城A区,朝阳大望路后现代城A区,https://bj.ke.com/ershoufang/<span class=\"number\">101124421207.</span>html</span><br><span class=\"line\">后现代城A区,朝阳大望路后现代城A区,https://bj.ke.com/ershoufang/<span class=\"number\">101124421207.</span>html</span><br><span class=\"line\">三间房西里,朝阳定福庄三间房西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124373401.</span>html</span><br><span class=\"line\">国惠村,昌平南邵国惠村,https://bj.ke.com/ershoufang/<span class=\"number\">101124386553.</span>html</span><br><span class=\"line\">民园小区,昌平沙河民园小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124419873.</span>html</span><br><span class=\"line\">民园小区,昌平沙河民园小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124419873.</span>html</span><br><span class=\"line\">京棉新城,朝阳十里堡京棉新城,https://bj.ke.com/ershoufang/<span class=\"number\">101124372769.</span>html</span><br><span class=\"line\">永泰园,海淀清河永泰园,https://bj.ke.com/ershoufang/<span class=\"number\">101124386043.</span>html</span><br><span class=\"line\">灵秀山庄,大兴旧宫灵秀山庄,https://bj.ke.com/ershoufang/<span class=\"number\">101124418148.</span>html</span><br><span class=\"line\">灵秀山庄,大兴旧宫灵秀山庄,https://bj.ke.com/ershoufang/<span class=\"number\">101124418148.</span>html</span><br><span class=\"line\">世安家园,朝阳望京世安家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124372686.</span>html</span><br><span class=\"line\">枣园东里,大兴枣园枣园东里,https://bj.ke.com/ershoufang/<span class=\"number\">101124385822.</span>html</span><br><span class=\"line\">加华印象街,通州武夷花园加华印象街,https://bj.ke.com/ershoufang/<span class=\"number\">101124418140.</span>html</span><br><span class=\"line\">加华印象街,通州武夷花园加华印象街,https://bj.ke.com/ershoufang/<span class=\"number\">101124418140.</span>html</span><br><span class=\"line\">怡馨园,朝阳双井怡馨园,https://bj.ke.com/ershoufang/<span class=\"number\">101124372704.</span>html</span><br><span class=\"line\">富力阳光美园,朝阳常营富力阳光美园,https://bj.ke.com/ershoufang/<span class=\"number\">101124417687.</span>html</span><br><span class=\"line\">富力阳光美园,朝阳常营富力阳光美园,https://bj.ke.com/ershoufang/<span class=\"number\">101124417687.</span>html</span><br><span class=\"line\">设计师广场,丰台科技园区设计师广场,https://bj.ke.com/ershoufang/<span class=\"number\">101124385346.</span>html</span><br><span class=\"line\">广渠门外大街<span class=\"number\">6</span>号院,朝阳劲松广渠门外大街<span class=\"number\">6</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124361599.</span>html</span><br><span class=\"line\">江南山水,朝阳小红门江南山水,https://bj.ke.com/ershoufang/<span class=\"number\">101124353342.</span>html</span><br><span class=\"line\">天伦锦城,丰台花乡天伦锦城,https://bj.ke.com/ershoufang/<span class=\"number\">101124370995.</span>html</span><br><span class=\"line\">西局玉园,丰台七里庄西局玉园,https://bj.ke.com/ershoufang/<span class=\"number\">101124361507.</span>html</span><br><span class=\"line\">建欣苑四里,丰台大红门建欣苑四里,https://bj.ke.com/ershoufang/<span class=\"number\">101124353265.</span>html</span><br><span class=\"line\">朝庭,朝阳望京朝庭,https://bj.ke.com/ershoufang/<span class=\"number\">101124370783.</span>html</span><br><span class=\"line\">天通苑北三区,昌平天通苑天通苑北三区,https://bj.ke.com/ershoufang/<span class=\"number\">101124361110.</span>html</span><br><span class=\"line\">世豪花园,朝阳十八里店世豪花园,https://bj.ke.com/ershoufang/<span class=\"number\">101124370700.</span>html</span><br><span class=\"line\">韩建青春誌,房山良乡韩建青春誌,https://bj.ke.com/ershoufang/<span class=\"number\">101124352883.</span>html</span><br><span class=\"line\">天伦锦城,丰台花乡天伦锦城,https://bj.ke.com/ershoufang/<span class=\"number\">101124361029.</span>html</span><br><span class=\"line\">北京怡园,昌平东关北京怡园,https://bj.ke.com/ershoufang/<span class=\"number\">101124370061.</span>html</span><br><span class=\"line\">龙锦苑东一区,昌平霍营龙锦苑东一区,https://bj.ke.com/ershoufang/<span class=\"number\">101124352786.</span>html</span><br><span class=\"line\">三里河三区,西城月坛三里河三区,https://bj.ke.com/ershoufang/<span class=\"number\">101124360714.</span>html</span><br><span class=\"line\">果园西里,密云果园街道果园西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124369904.</span>html</span><br><span class=\"line\">和苑,门头沟冯村和苑,https://bj.ke.com/ershoufang/<span class=\"number\">101124352062.</span>html</span><br><span class=\"line\">劲松六区,朝阳潘家园劲松六区,https://bj.ke.com/ershoufang/<span class=\"number\">101124360119.</span>html</span><br><span class=\"line\">甜水园北里,朝阳甜水园甜水园北里,https://bj.ke.com/ershoufang/<span class=\"number\">101124369726.</span>html</span><br><span class=\"line\">沿海赛洛城五期,朝阳百子湾沿海赛洛城五期,https://bj.ke.com/ershoufang/<span class=\"number\">101124351332.</span>html</span><br><span class=\"line\">卫生局宿舍,海淀清河卫生局宿舍,https://bj.ke.com/ershoufang/<span class=\"number\">101124369132.</span>html</span><br><span class=\"line\">龙回苑,昌平回龙观龙回苑,https://bj.ke.com/ershoufang/<span class=\"number\">101124360126.</span>html</span><br><span class=\"line\">东方财富,东城广渠门东方财富,https://bj.ke.com/ershoufang/<span class=\"number\">101124351234.</span>html</span><br><span class=\"line\">北湖渠,朝阳亚运村小营北湖渠,https://bj.ke.com/ershoufang/<span class=\"number\">101124369103.</span>html</span><br><span class=\"line\">太平桥西里,丰台太平桥太平桥西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124359796.</span>html</span><br><span class=\"line\">新源街,朝阳亮马桥新源街,https://bj.ke.com/ershoufang/<span class=\"number\">101124351143.</span>html</span><br><span class=\"line\">龙华园,昌平回龙观龙华园,https://bj.ke.com/ershoufang/<span class=\"number\">101124369020.</span>html</span><br><span class=\"line\">远洋一方北润园,朝阳双桥远洋一方北润园,https://bj.ke.com/ershoufang/<span class=\"number\">101124359778.</span>html</span><br><span class=\"line\">蜂鸟家园,海淀万柳蜂鸟家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124350988.</span>html</span><br><span class=\"line\">毛纺厂南小区,海淀清河毛纺厂南小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124368424.</span>html</span><br><span class=\"line\">定福庄西街,朝阳定福庄定福庄西街,https://bj.ke.com/ershoufang/<span class=\"number\">101124359324.</span>html</span><br><span class=\"line\">宝星国际二期,朝阳望京宝星国际二期,https://bj.ke.com/ershoufang/<span class=\"number\">101124350444.</span>html</span><br><span class=\"line\">车站东街<span class=\"number\">15</span>号院,西城天宁寺车站东街<span class=\"number\">15</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124367707.</span>html</span><br><span class=\"line\">双龙南里,朝阳华威桥双龙南里,https://bj.ke.com/ershoufang/<span class=\"number\">101124350314.</span>html</span><br><span class=\"line\">清缘里中区,海淀清河清缘里中区,https://bj.ke.com/ershoufang/<span class=\"number\">101124359212.</span>html</span><br><span class=\"line\">南口镇南大街,昌平南口南口镇南大街,https://bj.ke.com/ershoufang/<span class=\"number\">101124367522.</span>html</span><br><span class=\"line\">中信所小区,海淀颐和园中信所小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124350196.</span>html</span><br><span class=\"line\">官悦欣园A区,朝阳百子湾官悦欣园A区,https://bj.ke.com/ershoufang/<span class=\"number\">101124359148.</span>html</span><br><span class=\"line\">华贸城,朝阳北苑华贸城,https://bj.ke.com/ershoufang/<span class=\"number\">101124367213.</span>html</span><br><span class=\"line\">双井东院,朝阳双井双井东院,https://bj.ke.com/ershoufang/<span class=\"number\">101124350098.</span>html</span><br><span class=\"line\">宣颐家园,大兴旧宫宣颐家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124359041.</span>html</span><br><span class=\"line\">晓月苑二里,丰台卢沟桥晓月苑二里,https://bj.ke.com/ershoufang/<span class=\"number\">101124367201.</span>html</span><br><span class=\"line\">园博嘉园,丰台丰台其它园博嘉园,https://bj.ke.com/ershoufang/<span class=\"number\">101124349283.</span>html</span><br><span class=\"line\">安慧里三区,朝阳亚运村安慧里三区,https://bj.ke.com/ershoufang/<span class=\"number\">101124358853.</span>html</span><br><span class=\"line\">和平街十二区,朝阳和平里和平街十二区,https://bj.ke.com/ershoufang/<span class=\"number\">101124367173.</span>html</span><br><span class=\"line\">珠江峰景,丰台岳各庄珠江峰景,https://bj.ke.com/ershoufang/<span class=\"number\">101124348376.</span>html</span><br><span class=\"line\">安慧里一区,朝阳亚运村安慧里一区,https://bj.ke.com/ershoufang/<span class=\"number\">101124358521.</span>html</span><br><span class=\"line\">清缘东里,海淀清河清缘东里,https://bj.ke.com/ershoufang/<span class=\"number\">101124366570.</span>html</span><br><span class=\"line\">酷特区,朝阳石佛营酷特区,https://bj.ke.com/ershoufang/<span class=\"number\">101124346973.</span>html</span><br><span class=\"line\">玉泉路<span class=\"number\">16</span>号院,海淀玉泉路玉泉路<span class=\"number\">16</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124358227.</span>html</span><br><span class=\"line\">毛纺厂南小区,海淀清河毛纺厂南小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124365882.</span>html</span><br><span class=\"line\">翠海明苑,丰台新宫翠海明苑,https://bj.ke.com/ershoufang/<span class=\"number\">101124346624.</span>html</span><br><span class=\"line\">三合北巷,大兴黄村中三合北巷,https://bj.ke.com/ershoufang/<span class=\"number\">101124357482.</span>html</span><br><span class=\"line\">西晴公寓,海淀小西天西晴公寓,https://bj.ke.com/ershoufang/<span class=\"number\">101124365167.</span>html</span><br><span class=\"line\">花涧溪,通州临河里花涧溪,https://bj.ke.com/ershoufang/<span class=\"number\">101124346482.</span>html</span><br><span class=\"line\">安德路<span class=\"number\">59</span>号,东城安定门安德路<span class=\"number\">59</span>号,https://bj.ke.com/ershoufang/<span class=\"number\">101124357052.</span>html</span><br><span class=\"line\">崇文门东大街,东城崇文门崇文门东大街,https://bj.ke.com/ershoufang/<span class=\"number\">101124365093.</span>html</span><br><span class=\"line\">华远铭悦雅园,通州临河里华远铭悦雅园,https://bj.ke.com/ershoufang/<span class=\"number\">101124345973.</span>html</span><br><span class=\"line\">知春路<span class=\"number\">82</span>号院,海淀双榆树知春路<span class=\"number\">82</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124356859.</span>html</span><br><span class=\"line\">和平家园小区,昌平鼓楼大街和平家园小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124364518.</span>html</span><br><span class=\"line\">天合家园,海淀田村天合家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124356702.</span>html</span><br><span class=\"line\">棠颂雅苑,亦庄开发区亦庄开发区其它棠颂雅苑,https://bj.ke.com/ershoufang/<span class=\"number\">101124345604.</span>html</span><br><span class=\"line\">融泽嘉园中路<span class=\"number\">1</span>号院,昌平回龙观融泽嘉园中路<span class=\"number\">1</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124364141.</span>html</span><br><span class=\"line\">柏林爱乐三期,朝阳常营柏林爱乐三期,https://bj.ke.com/ershoufang/<span class=\"number\">101124356497.</span>html</span><br><span class=\"line\">华远西山雅园,门头沟大峪华远西山雅园,https://bj.ke.com/ershoufang/<span class=\"number\">101124364110.</span>html</span><br><span class=\"line\">和平里三区,东城和平里和平里三区,https://bj.ke.com/ershoufang/<span class=\"number\">101124345531.</span>html</span><br><span class=\"line\">天通苑北一区,昌平天通苑天通苑北一区,https://bj.ke.com/ershoufang/<span class=\"number\">101124355909.</span>html</span><br><span class=\"line\">风度柏林,朝阳大望路风度柏林,https://bj.ke.com/ershoufang/<span class=\"number\">101124364094.</span>html</span><br><span class=\"line\">锋尚国际,海淀万柳锋尚国际,https://bj.ke.com/ershoufang/<span class=\"number\">101124344919.</span>html</span><br><span class=\"line\">华威西里,朝阳潘家园华威西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124355881.</span>html</span><br><span class=\"line\">亦庄北岸,大兴旧宫亦庄北岸,https://bj.ke.com/ershoufang/<span class=\"number\">101124364069.</span>html</span><br><span class=\"line\">住总万科橙,大兴天宫院住总万科橙,https://bj.ke.com/ershoufang/<span class=\"number\">101124344003.</span>html</span><br><span class=\"line\">加州水郡三期,房山长阳加州水郡三期,https://bj.ke.com/ershoufang/<span class=\"number\">101124355803.</span>html</span><br><span class=\"line\">四季怡园南区,门头沟冯村四季怡园南区,https://bj.ke.com/ershoufang/<span class=\"number\">101124363621.</span>html</span><br><span class=\"line\">山水汇豪苑A区,房山窦店山水汇豪苑A区,https://bj.ke.com/ershoufang/<span class=\"number\">101124343816.</span>html</span><br><span class=\"line\">中仓小区,通州万达中仓小区,https://bj.ke.com/ershoufang/<span class=\"number\">101124355605.</span>html</span><br><span class=\"line\">天通苑五区,昌平天通苑天通苑五区,https://bj.ke.com/ershoufang/<span class=\"number\">101124363362.</span>html</span><br><span class=\"line\">鑫苑鑫都汇,大兴天宫院鑫苑鑫都汇,https://bj.ke.com/ershoufang/<span class=\"number\">101124343680.</span>html</span><br><span class=\"line\">圣馨家园,朝阳西坝河圣馨家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124355409.</span>html</span><br><span class=\"line\">西便门东里,西城木樨地西便门东里,https://bj.ke.com/ershoufang/<span class=\"number\">101124363073.</span>html</span><br><span class=\"line\">清华东路<span class=\"number\">27</span>号院,海淀学院路清华东路<span class=\"number\">27</span>号院,https://bj.ke.com/ershoufang/<span class=\"number\">101124343498.</span>html</span><br><span class=\"line\">清和园东区,大兴旧宫清和园东区,https://bj.ke.com/ershoufang/<span class=\"number\">101124362841.</span>html</span><br><span class=\"line\">安贞西里,朝阳安贞安贞西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124355277.</span>html</span><br><span class=\"line\">呼家楼西里,朝阳红庙呼家楼西里,https://bj.ke.com/ershoufang/<span class=\"number\">101124343375.</span>html</span><br><span class=\"line\">南线阁,西城牛街南线阁,https://bj.ke.com/ershoufang/<span class=\"number\">101124362749.</span>html</span><br><span class=\"line\">南庭新苑北区,丰台新宫南庭新苑北区,https://bj.ke.com/ershoufang/<span class=\"number\">101124354475.</span>html</span><br><span class=\"line\">双花园南里二区,朝阳双井双花园南里二区,https://bj.ke.com/ershoufang/<span class=\"number\">101124343001.</span>html</span><br><span class=\"line\">安贞里,朝阳安贞安贞里,https://bj.ke.com/ershoufang/<span class=\"number\">101124353746.</span>html</span><br><span class=\"line\">柏林爱乐二期,朝阳常营柏林爱乐二期,https://bj.ke.com/ershoufang/<span class=\"number\">101124362498.</span>html</span><br><span class=\"line\">北街家园一区,昌平沙河北街家园一区,https://bj.ke.com/ershoufang/<span class=\"number\">101124342655.</span>html</span><br><span class=\"line\">鸿业兴园二区,丰台玉泉营鸿业兴园二区,https://bj.ke.com/ershoufang/<span class=\"number\">101124353343.</span>html</span><br><span class=\"line\">双合家园,朝阳垡头双合家园,https://bj.ke.com/ershoufang/<span class=\"number\">101124342615.</span>html</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"scrappy\"><a class=\"anchor\" href=\"#scrappy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3NjcmFwLnB5\">scrap.py</span></h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 爬虫程序 位于scrap.py文件 第45行</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">from</span> multiprocessing <span class=\"keyword\">import</span> Pool</span><br><span class=\"line\"><span class=\"keyword\">from</span> lxml <span class=\"keyword\">import</span> etree</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">url1</span>(<span class=\"params\">page</span>):</span><br><span class=\"line\">    url = <span class=\"string\">&#x27;http://bj.ke.com/ershoufang/pg&#123;&#125;/&#x27;</span>.<span class=\"built_in\">format</span>(page)</span><br><span class=\"line\">    headers = &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;User-Agent&#x27;</span>: <span class=\"string\">&#x27;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;Cookie&#x27;</span>: <span class=\"string\">&#x27;lianjia_uuid=e6a91b7a-b6a4-40b5-88c6-ff67759cbc8a; crosSdkDT2019DeviceId=-51npj6--xbmlw5-f22i5qg8bh36ouv-yttqkmwdf; _ga=GA1.2.121082359.1579583230; ke_uuid=6de1afa21a5799c0874702af39248907; __xsptplus788=788.1.1579583230.1579583347.4%234%7C%7C%7C%7C%7C%23%23Q6jl-k46IlXjCORdTOp6O3JyzHokoUrb%23; select_city=110000; digv_extends=%7B%22utmTrackId%22%3A%2280418605%22%7D; lianjia_ssid=a4ab1bc0-cb04-492f-960c-342c66065da0; Hm_lvt_9152f8221cb6243a53c83b956842be8a=1583897013,1583932737; User-Realip=111.196.247.121; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2216fc67f100b140-06f07f8f707639-33365a06-1049088-16fc67f100c603%22%2C%22%24device_id%22%3A%2216fc67f100b140-06f07f8f707639-33365a06-1049088-16fc67f100c603%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_referrer%22%3A%22%22%2C%22%24latest_referrer_host%22%3A%22%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%2C%22%24latest_utm_source%22%3A%22baidu%22%2C%22%24latest_utm_medium%22%3A%22pinzhuan%22%2C%22%24latest_utm_campaign%22%3A%22wybeijing%22%2C%22%24latest_utm_content%22%3A%22biaotimiaoshu%22%2C%22%24latest_utm_term%22%3A%22biaoti%22%7D%7D; Hm_lpvt_9152f8221cb6243a53c83b956842be8a=1583933576; srcid=eyJ0Ijoie1wiZGF0YVwiOlwiMjAxZjBjNWU1ZWE1ZGVmYjQxZDFlYTE4MGVkNWI1OGRjYzk5Mzc2MjEwNTcyMWI3ODhiNTQyNTExOGQ1NTVlZDNkMTY2MWE2YWI5YWRlMGY0NDA3NjkwNWEyMzRlNTdhZWExNDViNGFiNWVmMmMyZWJlZGY1ZjM2Y2M0NWIxMWZlMWFiOWI2MDJiMzFmOTJmYzgxNzNiZTIwMzE1ZGJjNTUyMWE2ZjcxYzZmMTFhOWIyOWU2NzJkZTkyZjc3ZDk1MzhiNjhhMTQyZDQ2YmEyNjJhYzJmNjdjNmFjM2I5YzU0MzdjMDkwYWUwMzZmZjVjYWZkZTY5YjllYzY0NzEwMWY2OTc1NmU1Y2ExNzNhOWRmZTdiNGY4M2E1Zjc2NDZmY2JkMGM2N2JiMjdmZTJjNjI2MzNkMjdlNDY4ODljZGRjMjc3MTQ0NDUxMDllZThlZDVmZmMwMjViNjc2ZjFlY1wiLFwia2V5X2lkXCI6XCIxXCIsXCJzaWduXCI6XCJkMDI2MDk0N1wifSIsInIiOiJodHRwczovL2JqLmtlLmNvbS9lcnNob3VmYW5nLzE5MTExMzE5NTEwMTAwMTcxNzU5Lmh0bWwiLCJvcyI6IndlYiIsInYiOiIwLjEifQ==&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    text = requests.get(url, headers=headers).text</span><br><span class=\"line\">    html = etree.HTML(text)</span><br><span class=\"line\">    detail_url = html.xpath(<span class=\"string\">&#x27;//ul[@class=&quot;sellListContent&quot;]//li[@class=&quot;clear&quot;]/a/@href&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> detail_url</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 获取房源详细数据信息</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">detail</span>(<span class=\"params\">detail_url</span>):</span><br><span class=\"line\">    headers = &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    detail_text = requests.get(detail_url, headers=headers).text</span><br><span class=\"line\">    html = etree.HTML(detail_text)</span><br><span class=\"line\">    data = []</span><br><span class=\"line\">    location = html.xpath(</span><br><span class=\"line\">        <span class=\"string\">&#x27;//div[@data-component=&quot;overviewIntro&quot;]//div[@class=&quot;content&quot;]//div[@class=&quot;areaName&quot;]/span[@class=&quot;info&quot;]/a/text()&#x27;</span>)</span><br><span class=\"line\">    location = <span class=\"string\">&#x27;&#x27;</span>.join(location)</span><br><span class=\"line\">    local_name = \\</span><br><span class=\"line\">    html.xpath(<span class=\"string\">&#x27;//div[@data-component=&quot;overviewIntro&quot;]//div[@class=&quot;content&quot;]//div[@class=&quot;communityName&quot;]/a/text()&#x27;</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    dizhi = location + local_name</span><br><span class=\"line\">    data.append(local_name)</span><br><span class=\"line\">    data.append(dizhi)</span><br><span class=\"line\">    data.append(detail_url)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> data</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">save_data</span>(<span class=\"params\">data</span>):</span><br><span class=\"line\">    data_frame = pd.DataFrame(data,</span><br><span class=\"line\">                              columns=[<span class=\"string\">&#x27;粗略位置&#x27;</span>,<span class=\"string\">&#x27;详细位置&#x27;</span>,<span class=\"string\">&#x27;网址&#x27;</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    data_frame.to_csv(<span class=\"string\">&#x27;renting.csv&#x27;</span>, header=<span class=\"literal\">False</span>, index=<span class=\"literal\">False</span>, mode=<span class=\"string\">&#x27;a&#x27;</span>, encoding=<span class=\"string\">&#x27;utf_8_sig&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">main</span>(<span class=\"params\">page</span>):</span><br><span class=\"line\">    a=&#123;&#125;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;开始爬取第&#123;&#125;页的数据！&#x27;</span>.<span class=\"built_in\">format</span>(page))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>,<span class=\"number\">1000</span>):</span><br><span class=\"line\">        a[i]=<span class=\"number\">2</span>*i</span><br><span class=\"line\">    urls = url1(page)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> url <span class=\"keyword\">in</span> urls:</span><br><span class=\"line\">        all_data = detail(detail_url=url)</span><br><span class=\"line\">        data = []</span><br><span class=\"line\">        data.append(all_data)</span><br><span class=\"line\">        save_data(data)</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    page = <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, <span class=\"number\">7</span>)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;爬虫开始&#x27;</span>)</span><br><span class=\"line\">    renting_data = Pool(processes=<span class=\"number\">4</span>)</span><br><span class=\"line\">    renting_data.<span class=\"built_in\">map</span>(main, page)</span><br><span class=\"line\">    renting_data.close()</span><br><span class=\"line\">    renting_data.join()</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"webpy\"><a class=\"anchor\" href=\"#webpy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3dlYi5weQ==\">web.py</span></h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#网址是http://localhost:52113/</span></span><br><span class=\"line\"><span class=\"comment\"># 导入服务器模块</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> http.server <span class=\"keyword\">import</span> HTTPServer, CGIHTTPRequestHandler</span><br><span class=\"line\"><span class=\"comment\"># 端口</span></span><br><span class=\"line\">PORT = <span class=\"number\">52113</span></span><br><span class=\"line\"><span class=\"comment\"># 创建服务器对象</span></span><br><span class=\"line\">httpd = HTTPServer((<span class=\"string\">&quot;&quot;</span>, PORT), CGIHTTPRequestHandler)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;serving at port&quot;</span>, PORT)</span><br><span class=\"line\"><span class=\"comment\"># 反复处理连接请求</span></span><br><span class=\"line\">httpd.serve_forever()</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lxml==<span class=\"number\">4.9</span><span class=\"number\">.3</span></span><br><span class=\"line\">pandas==<span class=\"number\">2.1</span><span class=\"number\">.2</span></span><br><span class=\"line\">Requests==<span class=\"number\">2.31</span><span class=\"number\">.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br><span class=\"line\">注意，一定要先运行web.py然后在电脑上输入http://localhost:<span class=\"number\">52113</span>/后自动跳转该网页！！！！！</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n",
            "tags": [
                "Hexo",
                "Front Matter"
            ]
        },
        {
            "id": "https://enjundu.github.io/ECEBC/example/",
            "url": "https://enjundu.github.io/ECEBC/example/",
            "title": "example",
            "date_published": "2024-07-06T17:41:31.000Z",
            "content_html": "",
            "tags": [
                "Hexo",
                "Front Matter"
            ]
        },
        {
            "id": "https://enjundu.github.io/ECEBC/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/",
            "url": "https://enjundu.github.io/ECEBC/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/",
            "title": "动态规划",
            "date_published": "2024-07-06T17:41:31.000Z",
            "content_html": "<h1 id=\"项目介绍\"><a class=\"anchor\" href=\"#项目介绍\">#</a> 项目介绍</h1>\n<h2 id=\"项目背景\"><a class=\"anchor\" href=\"#项目背景\">#</a> 项目背景</h2>\n<h3 id=\"高楼扔鸡蛋\"><a class=\"anchor\" href=\"#高楼扔鸡蛋\">#</a> 高楼扔鸡蛋</h3>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/JsZmign31Lvle4x.png\" alt=\"image.png\" /></p>\n<h3 id=\"动态规划\"><a class=\"anchor\" href=\"#动态规划\">#</a> 动态规划</h3>\n<p>动态规划既是一种数学优化方法，也是一种计算机编程方法，该方法是由理查德・贝尔曼 (Richard Bellman) 在 20 世纪 50 年代开发的，已在从航空航天工程到经济学的许多领域中得到应用。</p>\n<p>在这两种情况下，它都指通过以递归方式将其分解为更简单的子问题来简化复杂的问题。虽然某些决策问题无法以这种方式解决，但跨越多个时间点的决策通常会递归地分解。同样，在计算机科学中，如果可以通过将问题分解为子问题，然后递归地找到子问题的最优解来最佳地解决问题，则称它具有最佳的子结构。</p>\n<p>如果子问题可以递归地嵌套在较大的问题中，以便动态规划方法适用，则较大问题的值与子问题的值之间存在关系。</p>\n<h2 id=\"项目目标\"><a class=\"anchor\" href=\"#项目目标\">#</a> 项目目标</h2>\n<h3 id=\"主要目标\"><a class=\"anchor\" href=\"#主要目标\">#</a> 主要目标</h3>\n<p>给你 k 个相同的水杯，并可以使用一栋从第 1 层到第 n 层共有 n 层楼的高层建筑。</p>\n<p>已知存在楼层 f ，满足 0 &lt;= f &lt;= n ，任何从 高于 f 的楼层落下的水杯都会碎，从 f 楼层或比它低的楼层落下的水杯都不会破。</p>\n<p>每次你可以拿一个没有碎的水杯并把它从任一楼层 x 扔下（满足 1 &lt;= x &lt;= n）。如果水杯碎了，你就不能再次使用它。如果某个水杯扔下后没有摔碎，则可以在之后的操作中重复使用这个水杯。</p>\n<p>请你计算并返回要确定 f 确切的值的最小操作次数是多少？</p>\n<h2 id=\"课堂要求\"><a class=\"anchor\" href=\"#课堂要求\">#</a> 课堂要求</h2>\n<h3 id=\"提交项目结构\"><a class=\"anchor\" href=\"#提交项目结构\">#</a> 提交项目结构</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">main.py\t\t\t\t主文件</span><br><span class=\"line\">README.md\t\t\t项目描述说明文档</span><br><span class=\"line\">requirements.txt\t项目依赖包版本号（项目需要下载到本地执行，如果有第三方依赖包，必须填写）</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"标注核心算法函数位置\"><a class=\"anchor\" href=\"#标注核心算法函数位置\">#</a> 标注核心算法函数位置</h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 位于 mian.py 文件 第15行</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cup_drop</span>(<span class=\"params\">k: <span class=\"built_in\">int</span>, n: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">\t<span class=\"keyword\">pass</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"程序运行效果\"><a class=\"anchor\" href=\"#程序运行效果\">#</a> 程序运行效果</h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    number = cup_drop(k=<span class=\"number\">2</span>, n=<span class=\"number\">6</span>)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(number)  <span class=\"comment\"># 3</span></span><br><span class=\"line\">    number = cup_drop(k=<span class=\"number\">3</span>, n=<span class=\"number\">14</span>)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(number)  <span class=\"comment\"># 4</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"项目心得\"><a class=\"anchor\" href=\"#项目心得\">#</a> 项目心得</h3>\n<p>在完成这个高楼扔鸡蛋问题的项目过程中，我经历了从理解问题、设计算法到实现代码的完整过程，这不仅加深了我对动态规划的理解，也让我在解决实际问题的过程中获得了宝贵的经验。</p>\n<h4 id=\"理解问题\"><a class=\"anchor\" href=\"#理解问题\">#</a> 理解问题</h4>\n<p>一开始，面对这个问题时，我意识到这不仅仅是一个简单的递归问题，还需要考虑如何在有限的资源（即水杯数量）和较大的搜索空间（即楼层数量）之间找到最佳平衡点。这个问题的关键在于如何通过最少的操作次数确定临界楼层 f，因此我需要设计一个高效的算法来解决这个问题。</p>\n<h4 id=\"设计算法\"><a class=\"anchor\" href=\"#设计算法\">#</a> 设计算法</h4>\n<p>在设计算法的过程中，我参考了多种动态规划的策略，最终决定尝试两种方法：动态规划结合二分查找和动态规划结合递归。</p>\n<ol>\n<li><strong>动态规划 + 二分查找</strong>：这种方法利用二分查找减少搜索空间，再结合动态规划记录中间结果，从而避免重复计算。这种方法在时间复杂度上相对较低，适用于较大的输入规模。具体实现时，我通过递归函数  <code>dp(k, n)</code>  来表示使用 k 个水杯在 n 层楼确定临界楼层的最小操作次数，并使用字典  <code>memo</code>  来记录中间结果。</li>\n<li><strong>动态规划 + 递归</strong>：这种方法通过逐层尝试每个楼层，找到最小的最大操作次数。这种方法虽然直观，但由于每层都要进行尝试，时间复杂度较高，适用于较小的输入规模。在实现时，我同样使用递归函数  <code>dp(k, n)</code>  和字典  <code>memo</code>  来记录每个状态的最优解。</li>\n</ol>\n<h4 id=\"实现代码\"><a class=\"anchor\" href=\"#实现代码\">#</a> 实现代码</h4>\n<p>在代码实现方面，我分别创建了两个文件  <code>main_1.py</code>  和  <code>main_2.py</code>  来实现这两种不同的方法。每个文件中，我详细注释了每个函数的功能和逻辑，确保代码的可读性和易维护性。在实现过程中，我也遇到了一些挑战，比如如何有效地进行二分查找和递归的结合，如何处理边界条件等，但通过不断调试和优化，最终成功实现了功能。</p>\n<h4 id=\"程序运行效果-2\"><a class=\"anchor\" href=\"#程序运行效果-2\">#</a> 程序运行效果</h4>\n<p>为了验证算法的正确性和效率，我在  <code>main</code>  函数中进行了测试，分别测试了  <code>k=2, n=6</code>  和  <code>k=3, n=14</code>  的情况，并得到了预期的结果。看到程序成功运行并输出正确结果的那一刻，我感到非常欣慰，这证明了我的设计思路和实现方法是正确的。</p>\n<h4 id=\"总结与反思\"><a class=\"anchor\" href=\"#总结与反思\">#</a> 总结与反思</h4>\n<p>通过这个项目，我不仅掌握了动态规划和二分查找的结合使用方法，还提高了自己在面对复杂问题时的分析和解决能力。在解决问题的过程中，我深刻体会到算法设计的重要性和编写高效代码的技巧。此外，通过详细注释和文档编写，我也提升了自己的代码可读性和项目管理能力。</p>\n<p>总之，这次项目经历让我受益匪浅，不仅增强了我的编程能力和算法思维，也为我今后面对类似问题提供了宝贵的经验和解决思路。我相信，通过不断学习和实践，我能在编程和算法领域取得更大的进步</p>\n<h1 id=\"代码实现\"><a class=\"anchor\" href=\"#代码实现\">#</a> 代码实现</h1>\n<h2 id=\"main_1py\"><a class=\"anchor\" href=\"#main_1py\">#</a> main_1.py</h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#位于main.py文件 第一行</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cup_drop</span>(<span class=\"params\">k: <span class=\"built_in\">int</span>, n: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">    <span class=\"comment\"># 方法一：动态规划 + 二分查找</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">dp_bin_search</span>(<span class=\"params\">k, n</span>):</span><br><span class=\"line\">        memo = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dp</span>(<span class=\"params\">k, n</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> k == <span class=\"number\">1</span>: <span class=\"keyword\">return</span> n</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (k, n) <span class=\"keyword\">in</span> memo: <span class=\"keyword\">return</span> memo[(k, n)]</span><br><span class=\"line\"></span><br><span class=\"line\">            low, high = <span class=\"number\">1</span>, n</span><br><span class=\"line\">            <span class=\"keyword\">while</span> low + <span class=\"number\">1</span> &lt; high:</span><br><span class=\"line\">                mid = (low + high) // <span class=\"number\">2</span></span><br><span class=\"line\">                broken = dp(k - <span class=\"number\">1</span>, mid - <span class=\"number\">1</span>)</span><br><span class=\"line\">                not_broken = dp(k, n - mid)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> broken &gt; not_broken:</span><br><span class=\"line\">                    high = mid</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    low = mid</span><br><span class=\"line\"></span><br><span class=\"line\">            res = <span class=\"number\">1</span> + <span class=\"built_in\">min</span>(<span class=\"built_in\">max</span>(dp(k - <span class=\"number\">1</span>, low - <span class=\"number\">1</span>), dp(k, n - low)), <span class=\"built_in\">max</span>(dp(k - <span class=\"number\">1</span>, high - <span class=\"number\">1</span>), dp(k, n - high)))</span><br><span class=\"line\">            memo[(k, n)] = res</span><br><span class=\"line\">            <span class=\"keyword\">return</span> res</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp(k, n)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp_bin_search(k, n)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    number = cup_drop(k=<span class=\"number\">2</span>, n=<span class=\"number\">6</span>)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(number)  <span class=\"comment\"># 3</span></span><br><span class=\"line\">    number = cup_drop(k=<span class=\"number\">3</span>, n=<span class=\"number\">14</span>)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(number)  <span class=\"comment\"># 4</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"main_2py\"><a class=\"anchor\" href=\"#main_2py\">#</a> main_2.py</h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#位于main.py文件 第一行</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cup_drop</span>(<span class=\"params\">k: <span class=\"built_in\">int</span>, n: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">    <span class=\"comment\"># 方法二：动态规划 + 递归</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">dp_recursive</span>(<span class=\"params\">k, n</span>):</span><br><span class=\"line\">        memo = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dp</span>(<span class=\"params\">k, n</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> k == <span class=\"number\">1</span>: <span class=\"keyword\">return</span> n</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (k, n) <span class=\"keyword\">in</span> memo: <span class=\"keyword\">return</span> memo[(k, n)]</span><br><span class=\"line\"></span><br><span class=\"line\">            min_moves = <span class=\"built_in\">float</span>(<span class=\"string\">&#x27;inf&#x27;</span>)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>, n + <span class=\"number\">1</span>):</span><br><span class=\"line\">                moves = <span class=\"number\">1</span> + <span class=\"built_in\">max</span>(dp(k - <span class=\"number\">1</span>, i - <span class=\"number\">1</span>), dp(k, n - i))</span><br><span class=\"line\">                min_moves = <span class=\"built_in\">min</span>(min_moves, moves)</span><br><span class=\"line\"></span><br><span class=\"line\">            memo[(k, n)] = min_moves</span><br><span class=\"line\">            <span class=\"keyword\">return</span> min_moves</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp(k, n)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp_recursive(k, n)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    number = cup_drop(k=<span class=\"number\">2</span>, n=<span class=\"number\">6</span>)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(number)  <span class=\"comment\"># 3</span></span><br><span class=\"line\">    number = cup_drop(k=<span class=\"number\">3</span>, n=<span class=\"number\">14</span>)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(number)  <span class=\"comment\"># 4</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"re\"><a class=\"anchor\" href=\"#re\">#</a> re</h2>\n<p><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n",
            "tags": [
                "Hexo",
                "Front Matter"
            ]
        },
        {
            "id": "https://enjundu.github.io/ECEBC/%E7%94%B5%E5%BD%B1%E7%BD%91%E7%AB%99/",
            "url": "https://enjundu.github.io/ECEBC/%E7%94%B5%E5%BD%B1%E7%BD%91%E7%AB%99/",
            "title": "电影网站",
            "date_published": "2024-07-06T17:41:31.000Z",
            "content_html": "<h1 id=\"项目介绍\"><a class=\"anchor\" href=\"#项目介绍\">#</a> 项目介绍</h1>\n<h2 id=\"项目目标\"><a class=\"anchor\" href=\"#项目目标\">#</a> 项目目标</h2>\n<ul>\n<li>首页</li>\n<li>分类列表页</li>\n<li>详情页</li>\n<li>支持下载功能</li>\n<li>能够在后天进行增删改查工作</li>\n</ul>\n<h2 id=\"提交要求\"><a class=\"anchor\" href=\"#提交要求\">#</a> 提交要求</h2>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">README.md\t\t\t项目描述说明文档</span><br><span class=\"line\">requirements.txt\t项目依赖包版本号（项目需要下载到本地执行，如果有第三方依赖包，必须填写）</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"程序运行效果截图\"><a class=\"anchor\" href=\"#程序运行效果截图\">#</a> 程序运行效果截图</h2>\n<p>主页<img data-src=\"https://s2.loli.net/2024/07/09/ObTKZyozmj8SMFc.png\" alt=\"image.png\" /></p>\n<p>国内电影列表页</p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/BE4Vs6y3SCqMn8U.png\" alt=\"image.png\" /></p>\n<p>日韩电影列表页</p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/ZkBSET3NeHrn5Wx.png\" alt=\"image.png\" /></p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/mz1katXnD5Uq7js.png\" alt=\"image.png\" /></p>\n<p>电影详情页<img data-src=\"https://s2.loli.net/2024/07/09/bFvsPQ65xdhYVuC.png\" alt=\"image.png\" /></p>\n<p>后台登录页</p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/Qp2a8wVmtjz3T4U.png\" alt=\"image.png\" /></p>\n<p>后台主页</p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/PS1qV2t8TfDZ5EM.png\" alt=\"image.png\" /></p>\n<p>后台列表页</p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/bgUd3fO5DNQR2nz.png\" alt=\"image.png\" /></p>\n<p>后台详情页</p>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/8YrSWxohjGJbIeF.png\" alt=\"image.png\" /></p>\n<h1 id=\"项目开始\"><a class=\"anchor\" href=\"#项目开始\">#</a> 项目开始</h1>\n<h2 id=\"项目结构\"><a class=\"anchor\" href=\"#项目结构\">#</a> 项目结构</h2>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movie_website/</span><br><span class=\"line\">│</span><br><span class=\"line\">├── movies/</span><br><span class=\"line\">│   ├── migrations/</span><br><span class=\"line\">│   ├── templates/</span><br><span class=\"line\">│   ├── __init__.py</span><br><span class=\"line\">│   ├── admin.py</span><br><span class=\"line\">│   ├── apps.py</span><br><span class=\"line\">│   ├── forms.py</span><br><span class=\"line\">│   ├── models.py</span><br><span class=\"line\">│   ├── serializers.py</span><br><span class=\"line\">│   ├── tests.py</span><br><span class=\"line\">│   ├── urls.py</span><br><span class=\"line\">│   └── views.py</span><br><span class=\"line\">│</span><br><span class=\"line\">├── my_movie_site/</span><br><span class=\"line\">│   ├── __init__.py</span><br><span class=\"line\">│   ├── settings.py</span><br><span class=\"line\">│   ├── urls.py</span><br><span class=\"line\">│   └── wsgi.py</span><br><span class=\"line\">│</span><br><span class=\"line\">├── static/</span><br><span class=\"line\">│   ├── beijing.png</span><br><span class=\"line\">│   └── beijing_2.png</span><br><span class=\"line\">│</span><br><span class=\"line\">├── templates/</span><br><span class=\"line\">│</span><br><span class=\"line\">├── db.sqlite3</span><br><span class=\"line\">├── manage.py</span><br><span class=\"line\">└── requirements.txt</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"项目运行效果\"><a class=\"anchor\" href=\"#项目运行效果\">#</a> 项目运行效果</h2>\n<h2 id=\"界面介绍\"><a class=\"anchor\" href=\"#界面介绍\">#</a> 界面介绍</h2>\n<h3 id=\"首页\"><a class=\"anchor\" href=\"#首页\">#</a> 首页</h3>\n<ul>\n<li>\n<p>进入后显示 “首页”、” 电影推荐 “、” 下载排行 “、” 管理员入口 “、” 国内电影 “、” 日韩电影 “、” 欧美电影 “。</p>\n</li>\n<li>\n<p>底下这些框图选项往下拉会随机出现推荐的电影</p>\n</li>\n<li>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/3TnhelvLS4qIumQ.png\" alt=\"1.png\" /></p>\n</li>\n</ul>\n<h3 id=\"推荐页面\"><a class=\"anchor\" href=\"#推荐页面\">#</a> 推荐页面</h3>\n<ul>\n<li>点击电影推荐后会进入推荐页面，该页面包含了推荐的页面和简单介绍，点入详情可以跳转详情界面</li>\n<li><img data-src=\"https://s2.loli.net/2024/07/09/tJYMOnpd5zsx7RS.png\" alt=\"2.png\" /></li>\n</ul>\n<h3 id=\"下载排行\"><a class=\"anchor\" href=\"#下载排行\">#</a> 下载排行</h3>\n<ul>\n<li>点击下载排行，可以进入下载排行界面</li>\n<li>进入下载排行后，可以看到下载数量最高的电影介绍，共出现下载量前十的电影介绍</li>\n<li><img data-src=\"https://s2.loli.net/2024/07/09/KPOWhCTIGscq3pi.png\" alt=\"3.png\" /></li>\n</ul>\n<h3 id=\"详情页\"><a class=\"anchor\" href=\"#详情页\">#</a> 详情页</h3>\n<ul>\n<li>点击详情页后，可以看到电影的详细介绍</li>\n<li>包含电影的上映日期、类型、导演、演员、简介、语言、字幕、片长等</li>\n<li>点击下载电影可以跳转下载电影界面</li>\n<li><img data-src=\"https://s2.loli.net/2024/07/09/FnRTYGXf7hec8Sm.png\" alt=\"8.png\" /></li>\n</ul>\n<h3 id=\"下载页\"><a class=\"anchor\" href=\"#下载页\">#</a> 下载页</h3>\n<ul>\n<li>点击下载电影后跳转下载页</li>\n<li>可以根据需求进行电影资源的下载</li>\n<li><img data-src=\"https://s2.loli.net/2024/07/09/gaS97clmNB32DUK.png\" alt=\"9.png\" /></li>\n</ul>\n<h3 id=\"后台登录页\"><a class=\"anchor\" href=\"#后台登录页\">#</a> 后台登录页</h3>\n<ul>\n<li>点击管理员入口可以进入管理员登录页</li>\n<li><strong>账号为 jackdu，密码为 sky666666</strong></li>\n<li>输入正确账号密码后跳转后台</li>\n<li><img data-src=\"https://s2.loli.net/2024/07/09/9bTL3cgHd28feI5.png\" alt=\"4.png\" /></li>\n</ul>\n<h3 id=\"后台界面1最近操作\"><a class=\"anchor\" href=\"#后台界面1最近操作\">#</a> 后台界面 1—— 最近操作</h3>\n<ul>\n<li>进入后天会显示近期进行的操作、可以进行电影的增加和修改、电影分类的增加和修改、账户的增加和修改等</li>\n<li><img data-src=\"https://s2.loli.net/2024/07/09/fviEhwQ8u3j9GSI.png\" alt=\"5.png\" /></li>\n</ul>\n<h3 id=\"增加修改电影\"><a class=\"anchor\" href=\"#增加修改电影\">#</a> 增加 / 修改电影</h3>\n<ul>\n<li>对电影进行修改，填充电影的名字、上映日期、类型、导演、演员、简介、语言、字幕、片长、海报、下载链接等信息</li>\n<li><img data-src=\"https://s2.loli.net/2024/07/09/2qZuapxGmhyiosR.png\" alt=\"6.png\" /></li>\n</ul>\n<h3 id=\"电影列表\"><a class=\"anchor\" href=\"#电影列表\">#</a> 电影列表</h3>\n<ul>\n<li>显示电影列表，可以进行批量操作</li>\n<li><img data-src=\"https://s2.loli.net/2024/07/09/3uWH7oRcCZ9LMUO.png\" alt=\"7.png\" /></li>\n</ul>\n<h2 id=\"设计思路\"><a class=\"anchor\" href=\"#设计思路\">#</a> 设计思路</h2>\n<h3 id=\"首页设计\"><a class=\"anchor\" href=\"#首页设计\">#</a> 首页设计</h3>\n<p>首页主要展示推荐电影、电影分类以及网站的主要功能链接。顶部有导航栏，包括首页、电影推荐、下载排行、管理员入口等。电影分类和推荐电影在页面中部显示，使用不同颜色的框进行填充以便用户区分。推荐电影包括电影海报、名称和评分，电影名称和评分居中显示。</p>\n<h3 id=\"详情页设计\"><a class=\"anchor\" href=\"#详情页设计\">#</a> 详情页设计</h3>\n<p>详情页显示电影的详细信息，包括海报、名称、评分、上映日期、类别、导演、演员、简介、语言、字幕和片长。下载链接使用淡紫色框包裹，字体为蓝色，点击后变为淡红色。</p>\n<h3 id=\"管理员入口\"><a class=\"anchor\" href=\"#管理员入口\">#</a> 管理员入口</h3>\n<p>在首页顶部增加管理员入口，点击后跳转至 /admin 页面，方便管理员进行后台管理。</p>\n<h2 id=\"注意这里的管理员账号为jackdu密码为sky666666\"><a class=\"anchor\" href=\"#注意这里的管理员账号为jackdu密码为sky666666\">#</a> <strong>注意，这里的管理员账号为 jackdu, 密码为 sky666666</strong></h2>\n<h2 id=\"安装和运行\"><a class=\"anchor\" href=\"#安装和运行\">#</a> 安装和运行</h2>\n<h3 id=\"环境依赖\"><a class=\"anchor\" href=\"#环境依赖\">#</a> 环境依赖</h3>\n<p>请确保已安装以下依赖项：</p>\n<ul>\n<li>Python 3.12</li>\n<li>Django 5.0.6</li>\n</ul>\n<p>可以通过以下命令安装项目所需的 Python 依赖：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -r requirements.txt</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"数据库迁移\"><a class=\"anchor\" href=\"#数据库迁移\">#</a> 数据库迁移</h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python manage.py migrate</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"启动开发服务器\"><a class=\"anchor\" href=\"#启动开发服务器\">#</a> 启动开发服务器</h3>\n<p>使用以下命令启动开发服务器：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python manage.py runserver</span><br></pre></td></tr></table></figure></p>\n<p>如果想要让局域网的人均可看到，则以自己的 ip 地址来启动，通过 Win+R 后输入 cmd 回车后输入 ipconfig，找到自己的 ip 地址。</p>\n<p>然后在<strong> movie_website\\my_movie_site\\<span class=\"exturl\" data-url=\"aHR0cDovL3NldHRpbmdzLnB5\">settings.py</span></strong> 这个 settings.py 代码里第 17 行修改 **ALLOWED_HOSTS = []** 代码</p>\n<p>将 [] 内加上自己的 ip 地址</p>\n<p>这里以我的 ip 地址 10.193.xx.xxx 为例：（请将 ip 地址替换为实际 ip）</p>\n<p>这里我就需要修改为  <code>ALLOWED_HOSTS = ['10.193.xx.xxx']</code></p>\n<p>修改后才能运行下列代码，但是如果不共享的话我更推荐直接使用  <code>python manage.py runserver</code></p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python manage.py runserver <span class=\"number\">10.193</span>.xx.xxx:<span class=\"number\">8000</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"访问网站\"><a class=\"anchor\" href=\"#访问网站\">#</a> 访问网站</h3>\n<p>在浏览器中输入以下地址访问网站：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://<span class=\"number\">127.0</span><span class=\"number\">.0</span><span class=\"number\">.1</span>:<span class=\"number\">8000</span>/</span><br></pre></td></tr></table></figure></p>\n<p>如果以 ip 地址启动，这里以我的 ip 地址为例，则输入</p>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://10.193.xx.xxx:8000/</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"主要功能\"><a class=\"anchor\" href=\"#主要功能\">#</a> 主要功能</h2>\n<h3 id=\"首页-2\"><a class=\"anchor\" href=\"#首页-2\">#</a> 首页</h3>\n<ul>\n<li>展示推荐电影</li>\n<li>提供电影分类链接</li>\n<li>导航栏包括首页、电影推荐、下载排行、管理员入口</li>\n</ul>\n<h3 id=\"电影详情页\"><a class=\"anchor\" href=\"#电影详情页\">#</a> 电影详情页</h3>\n<ul>\n<li>展示电影详细信息：海报、名称、评分、上映日期、类别、导演、演员、简介、语言、字幕、片长</li>\n<li><strong>提供下载链接，使用淡紫色框包裹，字体为蓝色</strong></li>\n<li>点击下载链接后可以进行下载</li>\n</ul>\n<h3 id=\"管理员入口-2\"><a class=\"anchor\" href=\"#管理员入口-2\">#</a> 管理员入口</h3>\n<ul>\n<li>方便管理员进行后台管理，跳转至 /admin 页面</li>\n</ul>\n<h3 id=\"国内电影\"><a class=\"anchor\" href=\"#国内电影\">#</a> 国内电影</h3>\n<ul>\n<li>展示了国内的部分高质量电影</li>\n</ul>\n<h3 id=\"日韩电影\"><a class=\"anchor\" href=\"#日韩电影\">#</a> 日韩电影</h3>\n<ul>\n<li>展示了日本和韩国的部分高质量电影</li>\n</ul>\n<h3 id=\"欧美电影\"><a class=\"anchor\" href=\"#欧美电影\">#</a> 欧美电影</h3>\n<ul>\n<li>展示了欧美的部分高质量电影</li>\n</ul>\n<h2 id=\"设计和实现流程\"><a class=\"anchor\" href=\"#设计和实现流程\">#</a> 设计和实现流程</h2>\n<ol>\n<li><strong>初始化项目</strong>：使用 <code>django-admin startproject</code>  命令创建 Django 项目，并创建应用 <code>movies</code> 。</li>\n<li><strong>设计数据库模型</strong>：在 <code>models.py</code>  中定义电影分类和电影模型，包含电影的各种属性。</li>\n<li><strong>设置 URL 路由</strong>：在 <code>urls.py</code>  中定义各个视图的 URL 路由，包括首页、详情页、推荐页、下载排行页和分类页。</li>\n<li><strong>实现视图函数</strong>：在 <code>views.py</code>  中编写各个视图函数，处理不同的请求并渲染相应的模板。</li>\n<li><strong>设计模板</strong>：在 <code>templates</code>  目录下创建各个页面的 HTML 模板，使用 Bootstrap 进行样式美化，确保页面响应式布局。</li>\n<li><strong>配置静态文件</strong>：在 <code>static</code>  目录下存放静态资源（如图片、CSS、JS 文件），并在模板中正确引用。</li>\n<li><strong>添加导航栏和样式</strong>：在 <code>base.html</code>  中设计统一的导航栏和样式，确保各个页面的一致性。</li>\n<li><strong>测试和调试</strong>：在本地进行测试，确保各个功能正常工作，并进行必要的调试和优化。</li>\n</ol>\n<h2 id=\"项目心得\"><a class=\"anchor\" href=\"#项目心得\">#</a> 项目心得</h2>\n<p>在这个项目中，我有幸设计并实现了一个完整的电影网站，从最初的构想到最终的实现，整个过程让我收获颇丰。</p>\n<h4 id=\"项目背景与动机\"><a class=\"anchor\" href=\"#项目背景与动机\">#</a> 项目背景与动机</h4>\n<p>作为一名对电影充满热情的开发者，我一直希望能够创建一个平台，不仅可以展示我喜爱的电影，还能为其他电影爱好者提供一个方便、直观的浏览和下载电影的途径。因此，我决定利用 Django 框架来开发这个电影网站项目。</p>\n<h4 id=\"设计与实现\"><a class=\"anchor\" href=\"#设计与实现\">#</a> 设计与实现</h4>\n<p>在项目初期，我进行了详细的需求分析，明确了网站的主要功能模块：电影展示、推荐、下载排行、分类浏览以及管理员后台管理。在设计数据库模型时，我特别注重电影的各项属性，如名称、简介、上映日期、类别、评分、语言、字幕、片长等，确保能全面展示电影信息。</p>\n<p>首页的设计是项目的重点之一。我希望首页能够直观地展示推荐电影和分类导航，于是采用了不同颜色的框进行填充，使得界面更加美观和易于区分。在细节方面，我确保电影的名称、评分等信息居中显示，提升用户体验。</p>\n<p>电影详情页的设计也同样重要。我加入了详细的电影信息展示，包括导演、演员、语言、字幕、片长等。此外，下载链接使用淡紫色框包裹，蓝色字体，在用户点击时变为淡红色，增强了交互体验。</p>\n<h4 id=\"遇到的挑战\"><a class=\"anchor\" href=\"#遇到的挑战\">#</a> 遇到的挑战</h4>\n<p>在项目过程中，我遇到了不少挑战。比如，如何确保电影信息的全面展示，如何设计美观且用户友好的界面，如何处理不同页面的跳转和导航。在遇到问题时，我通过查阅文档、参考示例代码以及请教同事，逐步解决了这些问题。</p>\n<p>另外，如何实现管理员后台管理功能也是一个难点。通过 Django 自带的 admin 功能，我快速搭建了后台管理界面，实现了电影数据的增删改查，提高了管理效率。</p>\n<h4 id=\"收获与反思\"><a class=\"anchor\" href=\"#收获与反思\">#</a> 收获与反思</h4>\n<p>整个项目下来，我不仅提升了自己的 Django 开发技能，也对 Web 开发有了更深的理解。通过这个项目，我学会了如何进行需求分析、数据库设计、前端页面布局以及后台管理系统的实现。</p>\n<p>在反思过程中，我认识到项目管理和时间管理的重要性。虽然最终顺利完成了项目，但在过程中有一些地方可以做得更好，比如更详细的需求文档、更严谨的代码测试等。</p>\n<h4 id=\"未来展望\"><a class=\"anchor\" href=\"#未来展望\">#</a> 未来展望</h4>\n<p>通过这个项目，我深刻体会到了 Django 框架的强大和灵活性。未来，我希望能继续完善这个电影网站项目，加入更多功能，比如用户评论、评分系统、电影搜索等。同时，我也期待能够在更多项目中应用所学，不断提升自己的技术水平。</p>\n<p>总的来说，这次项目让我受益匪浅，既锻炼了我的技术能力，也增强了我的项目管理能力。我相信，通过不断学习和实践，我能在 Web 开发领域走得更远。</p>\n<h1 id=\"项目代码\"><a class=\"anchor\" href=\"#项目代码\">#</a> 项目代码</h1>\n<h2 id=\"movies\"><a class=\"anchor\" href=\"#movies\">#</a> /movies</h2>\n<h3 id=\"initpy\"><a class=\"anchor\" href=\"#initpy\">#</a> <strong>init</strong>.py</h3>\n<h3 id=\"adminpy\"><a class=\"anchor\" href=\"#adminpy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL2FkbWluLnB5\">admin.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.contrib <span class=\"keyword\">import</span> admin</span><br><span class=\"line\"><span class=\"keyword\">from</span> .models <span class=\"keyword\">import</span> Category, Movie</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MovieAdmin</span>(admin.ModelAdmin):</span><br><span class=\"line\">    list_display = (<span class=\"string\">&#x27;title&#x27;</span>, <span class=\"string\">&#x27;downloads&#x27;</span>, <span class=\"string\">&#x27;is_recommended&#x27;</span>)</span><br><span class=\"line\">    list_filter = (<span class=\"string\">&#x27;is_recommended&#x27;</span>,)</span><br><span class=\"line\">    search_fields = (<span class=\"string\">&#x27;title&#x27;</span>,)</span><br><span class=\"line\">    list_editable = (<span class=\"string\">&#x27;downloads&#x27;</span>, <span class=\"string\">&#x27;is_recommended&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 检查是否已经注册，如果没有则注册</span></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    admin.site.register(Category)</span><br><span class=\"line\">    admin.site.register(Movie)</span><br><span class=\"line\">    admin.site.register(Movie, MovieAdmin)</span><br><span class=\"line\"><span class=\"keyword\">except</span> admin.sites.AlreadyRegistered:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"appspy\"><a class=\"anchor\" href=\"#appspy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL2FwcHMucHk=\">apps.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.apps <span class=\"keyword\">import</span> AppConfig</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MoviesConfig</span>(<span class=\"title class_ inherited__\">AppConfig</span>):</span><br><span class=\"line\">    default_auto_field = <span class=\"string\">&#x27;django.db.models.BigAutoField&#x27;</span></span><br><span class=\"line\">    name = <span class=\"string\">&#x27;movies&#x27;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"formspy\"><a class=\"anchor\" href=\"#formspy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL2Zvcm1zLnB5\">forms.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django <span class=\"keyword\">import</span> forms</span><br><span class=\"line\"><span class=\"keyword\">from</span> .models <span class=\"keyword\">import</span> Movie</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MovieForm</span>(forms.ModelForm):</span><br><span class=\"line\">    <span class=\"keyword\">class</span> <span class=\"title class_\">Meta</span>:</span><br><span class=\"line\">        model = Movie</span><br><span class=\"line\">        fields = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;title&#x27;</span>, <span class=\"string\">&#x27;description&#x27;</span>, <span class=\"string\">&#x27;release_date&#x27;</span>, <span class=\"string\">&#x27;category&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;download_link&#x27;</span>, <span class=\"string\">&#x27;poster_url&#x27;</span>, <span class=\"string\">&#x27;director&#x27;</span>, <span class=\"string\">&#x27;actors&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;rating&#x27;</span>, <span class=\"string\">&#x27;language&#x27;</span>, <span class=\"string\">&#x27;subtitles&#x27;</span>, <span class=\"string\">&#x27;duration&#x27;</span></span><br><span class=\"line\">        ]</span><br><span class=\"line\">        widgets = &#123;</span><br><span class=\"line\">            <span class=\"string\">&#x27;description&#x27;</span>: forms.Textarea(attrs=&#123;<span class=\"string\">&#x27;rows&#x27;</span>: <span class=\"number\">3</span>&#125;),</span><br><span class=\"line\">            <span class=\"string\">&#x27;actors&#x27;</span>: forms.Textarea(attrs=&#123;<span class=\"string\">&#x27;rows&#x27;</span>: <span class=\"number\">3</span>&#125;),</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        labels = &#123;</span><br><span class=\"line\">            <span class=\"string\">&#x27;title&#x27;</span>: <span class=\"string\">&#x27;名称&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;description&#x27;</span>: <span class=\"string\">&#x27;简介&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;release_date&#x27;</span>: <span class=\"string\">&#x27;上映日期&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;category&#x27;</span>: <span class=\"string\">&#x27;类别&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;download_link&#x27;</span>: <span class=\"string\">&#x27;下载链接&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;poster_url&#x27;</span>: <span class=\"string\">&#x27;海报图片地址&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;director&#x27;</span>: <span class=\"string\">&#x27;导演&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;actors&#x27;</span>: <span class=\"string\">&#x27;演员&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;rating&#x27;</span>: <span class=\"string\">&#x27;评分&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;language&#x27;</span>: <span class=\"string\">&#x27;语言&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;subtitles&#x27;</span>: <span class=\"string\">&#x27;字幕&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;duration&#x27;</span>: <span class=\"string\">&#x27;片长&#x27;</span></span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"modelspy\"><a class=\"anchor\" href=\"#modelspy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL21vZGVscy5weQ==\">models.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.db <span class=\"keyword\">import</span> models</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Category</span>(models.Model):</span><br><span class=\"line\">    name = models.CharField(max_length=<span class=\"number\">100</span>, verbose_name=<span class=\"string\">&quot;分类名称&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__str__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.name</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">class</span> <span class=\"title class_\">Meta</span>:</span><br><span class=\"line\">        verbose_name = <span class=\"string\">&quot;电影分类&quot;</span></span><br><span class=\"line\">        verbose_name_plural = <span class=\"string\">&quot;电影分类&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Movie</span>(models.Model):</span><br><span class=\"line\">    title = models.CharField(max_length=<span class=\"number\">100</span>, verbose_name=<span class=\"string\">&quot;名称&quot;</span>)</span><br><span class=\"line\">    description = models.TextField(verbose_name=<span class=\"string\">&quot;简介&quot;</span>)</span><br><span class=\"line\">    release_date = models.DateField(verbose_name=<span class=\"string\">&quot;上映日期&quot;</span>)</span><br><span class=\"line\">    category = models.ForeignKey(Category, on_delete=models.CASCADE, verbose_name=<span class=\"string\">&quot;类别&quot;</span>)</span><br><span class=\"line\">    download_link = models.URLField(verbose_name=<span class=\"string\">&quot;下载链接&quot;</span>)</span><br><span class=\"line\">    poster_url = models.URLField(verbose_name=<span class=\"string\">&quot;海报图片地址&quot;</span>, blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    director = models.CharField(max_length=<span class=\"number\">100</span>, verbose_name=<span class=\"string\">&quot;导演&quot;</span>, blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    actors = models.TextField(verbose_name=<span class=\"string\">&quot;演员&quot;</span>, blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    rating = models.FloatField(verbose_name=<span class=\"string\">&quot;评分&quot;</span>, blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    language = models.CharField(max_length=<span class=\"number\">50</span>, verbose_name=<span class=\"string\">&quot;语言&quot;</span>, blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    subtitles = models.CharField(max_length=<span class=\"number\">50</span>, verbose_name=<span class=\"string\">&quot;字幕&quot;</span>, blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    duration = models.CharField(max_length=<span class=\"number\">50</span>, verbose_name=<span class=\"string\">&quot;片长&quot;</span>, blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    downloads = models.IntegerField(default=<span class=\"number\">0</span>)</span><br><span class=\"line\">    is_recommended = models.BooleanField(default=<span class=\"literal\">False</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__str__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.title</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">class</span> <span class=\"title class_\">Meta</span>:</span><br><span class=\"line\">        verbose_name = <span class=\"string\">&quot;电影&quot;</span></span><br><span class=\"line\">        verbose_name_plural = <span class=\"string\">&quot;电影&quot;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"serializerspy\"><a class=\"anchor\" href=\"#serializerspy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3NlcmlhbGl6ZXJzLnB5\">serializers.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> rest_framework <span class=\"keyword\">import</span> serializers</span><br><span class=\"line\"><span class=\"keyword\">from</span> .models <span class=\"keyword\">import</span> Movie</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MovieSerializer</span>(serializers.ModelSerializer):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">    电影序列化器，用于将电影模型实例转化为JSON格式</span></span><br><span class=\"line\"><span class=\"string\">    &quot;&quot;&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">class</span> <span class=\"title class_\">Meta</span>:</span><br><span class=\"line\">        model = Movie</span><br><span class=\"line\">        fields = <span class=\"string\">&#x27;__all__&#x27;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"testspy\"><a class=\"anchor\" href=\"#testspy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3Rlc3RzLnB5\">tests.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.test <span class=\"keyword\">import</span> TestCase</span><br><span class=\"line\"><span class=\"keyword\">from</span> .models <span class=\"keyword\">import</span> Category, Movie</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MovieModelTest</span>(<span class=\"title class_ inherited__\">TestCase</span>):</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">setUp</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        self.category = Category.objects.create(name=<span class=\"string\">&quot;动作&quot;</span>)</span><br><span class=\"line\">        self.movie = Movie.objects.create(</span><br><span class=\"line\">            title=<span class=\"string\">&quot;测试电影&quot;</span>,</span><br><span class=\"line\">            description=<span class=\"string\">&quot;这是一个测试电影&quot;</span>,</span><br><span class=\"line\">            release_date=<span class=\"string\">&quot;2023-01-01&quot;</span>,</span><br><span class=\"line\">            category=self.category,</span><br><span class=\"line\">            download_link=<span class=\"string\">&quot;http://example.com&quot;</span></span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">test_movie_creation</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">        测试电影创建</span></span><br><span class=\"line\"><span class=\"string\">        &quot;&quot;&quot;</span></span><br><span class=\"line\">        self.assertEqual(self.movie.title, <span class=\"string\">&quot;测试电影&quot;</span>)</span><br><span class=\"line\">        self.assertEqual(self.movie.category.name, <span class=\"string\">&quot;动作&quot;</span>)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"urlspy\"><a class=\"anchor\" href=\"#urlspy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3VybHMucHk=\">urls.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.urls <span class=\"keyword\">import</span> path</span><br><span class=\"line\"><span class=\"keyword\">from</span> . <span class=\"keyword\">import</span> views</span><br><span class=\"line\"><span class=\"keyword\">from</span> .views <span class=\"keyword\">import</span> admin_login</span><br><span class=\"line\"></span><br><span class=\"line\">urlpatterns = [</span><br><span class=\"line\">    path(<span class=\"string\">&#x27;&#x27;</span>, views.index, name=<span class=\"string\">&#x27;index&#x27;</span>),</span><br><span class=\"line\">    path(<span class=\"string\">&#x27;recommendations/&#x27;</span>, views.movie_recommendations, name=<span class=\"string\">&#x27;movie_recommendations&#x27;</span>),</span><br><span class=\"line\">    path(<span class=\"string\">&#x27;download_rank/&#x27;</span>, views.download_rank, name=<span class=\"string\">&#x27;download_rank&#x27;</span>),</span><br><span class=\"line\">    path(<span class=\"string\">&#x27;category/&lt;int:category_id&gt;/&#x27;</span>, views.category_list, name=<span class=\"string\">&#x27;category_list&#x27;</span>),</span><br><span class=\"line\">    path(<span class=\"string\">&#x27;movie/&lt;int:movie_id&gt;/&#x27;</span>, views.movie_detail, name=<span class=\"string\">&#x27;movie_detail&#x27;</span>),</span><br><span class=\"line\">    path(<span class=\"string\">&#x27;movie/new/&#x27;</span>, views.movie_detail, name=<span class=\"string\">&#x27;movie_new&#x27;</span>),  <span class=\"comment\"># 用于新增电影</span></span><br><span class=\"line\">    path(<span class=\"string\">&#x27;admin_login/&#x27;</span>, admin_login, name=<span class=\"string\">&#x27;admin_login&#x27;</span>),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"viewspy\"><a class=\"anchor\" href=\"#viewspy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3ZpZXdzLnB5\">views.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.shortcuts <span class=\"keyword\">import</span> render, get_object_or_404, redirect</span><br><span class=\"line\"><span class=\"keyword\">from</span> django.contrib.auth <span class=\"keyword\">import</span> authenticate, login</span><br><span class=\"line\"><span class=\"keyword\">from</span> django.http <span class=\"keyword\">import</span> HttpResponse</span><br><span class=\"line\"><span class=\"keyword\">from</span> .models <span class=\"keyword\">import</span> Category, Movie</span><br><span class=\"line\"><span class=\"keyword\">from</span> .forms <span class=\"keyword\">import</span> MovieForm</span><br><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">movie_detail</span>(<span class=\"params\">request, movie_id=<span class=\"literal\">None</span></span>):</span><br><span class=\"line\">    movie = get_object_or_404(Movie, <span class=\"built_in\">id</span>=movie_id)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> render(request, <span class=\"string\">&#x27;movies/movie_detail.html&#x27;</span>, &#123;<span class=\"string\">&#x27;movie&#x27;</span>: movie&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">index</span>(<span class=\"params\">request</span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">    首页视图，显示所有电影分类和推荐电影</span></span><br><span class=\"line\"><span class=\"string\">    &quot;&quot;&quot;</span></span><br><span class=\"line\">    categories = Category.objects.<span class=\"built_in\">all</span>()</span><br><span class=\"line\">    all_movies = <span class=\"built_in\">list</span>(Movie.objects.<span class=\"built_in\">all</span>())</span><br><span class=\"line\">    recommended_movies = Movie.objects.<span class=\"built_in\">filter</span>(is_recommended=<span class=\"literal\">True</span>)  <span class=\"comment\"># 选择推荐的电影</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> render(request, <span class=\"string\">&#x27;movies/index.html&#x27;</span>, &#123;<span class=\"string\">&#x27;categories&#x27;</span>: categories, <span class=\"string\">&#x27;recommended_movies&#x27;</span>: recommended_movies&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">movie_recommendations</span>(<span class=\"params\">request</span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">    电影推荐视图，显示推荐电影</span></span><br><span class=\"line\"><span class=\"string\">    &quot;&quot;&quot;</span></span><br><span class=\"line\">    recommended_movies = Movie.objects.<span class=\"built_in\">filter</span>(is_recommended=<span class=\"literal\">True</span>)  <span class=\"comment\"># 选择推荐的电影</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> render(request, <span class=\"string\">&#x27;movies/recommendations.html&#x27;</span>, &#123;<span class=\"string\">&#x27;recommended_movies&#x27;</span>: recommended_movies&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">download_rank</span>(<span class=\"params\">request</span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">    下载排行视图，显示下载排行前10的电影</span></span><br><span class=\"line\"><span class=\"string\">    &quot;&quot;&quot;</span></span><br><span class=\"line\">    top_downloaded_movies = Movie.objects.order_by(<span class=\"string\">&#x27;-downloads&#x27;</span>)[:<span class=\"number\">10</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> render(request, <span class=\"string\">&#x27;movies/download_rank.html&#x27;</span>, &#123;<span class=\"string\">&#x27;top_downloaded_movies&#x27;</span>: top_downloaded_movies&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">category_list</span>(<span class=\"params\">request, category_id</span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">    分类列表视图，显示某一分类下的所有电影</span></span><br><span class=\"line\"><span class=\"string\">    &quot;&quot;&quot;</span></span><br><span class=\"line\">    category = get_object_or_404(Category, <span class=\"built_in\">id</span>=category_id)</span><br><span class=\"line\">    movies = Movie.objects.<span class=\"built_in\">filter</span>(category=category)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> render(request, <span class=\"string\">&#x27;movies/category_list.html&#x27;</span>, &#123;<span class=\"string\">&#x27;category&#x27;</span>: category, <span class=\"string\">&#x27;movies&#x27;</span>: movies&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">admin_login</span>(<span class=\"params\">request</span>):</span><br><span class=\"line\">    <span class=\"keyword\">if</span> request.method == <span class=\"string\">&#x27;POST&#x27;</span>:</span><br><span class=\"line\">        username = request.POST[<span class=\"string\">&#x27;username&#x27;</span>]</span><br><span class=\"line\">        password = request.POST[<span class=\"string\">&#x27;password&#x27;</span>]</span><br><span class=\"line\">        user = authenticate(request, username=username, password=password)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> user <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">            login(request, user)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> redirect(<span class=\"string\">&#x27;/admin&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> HttpResponse(<span class=\"string\">&#x27;登录失败，用户名或密码错误&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> render(request, <span class=\"string\">&#x27;login.html&#x27;</span>)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"migrations\"><a class=\"anchor\" href=\"#migrations\">#</a> /migrations</h3>\n<h4 id=\"0001_initialpy\"><a class=\"anchor\" href=\"#0001_initialpy\">#</a> 0001_initial.py</h4>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Generated by Django 5.0.6 on 2024-06-22 05:47</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> django.db.models.deletion</span><br><span class=\"line\"><span class=\"keyword\">from</span> django.db <span class=\"keyword\">import</span> migrations, models</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Migration</span>(migrations.Migration):</span><br><span class=\"line\">    initial = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dependencies = []</span><br><span class=\"line\"></span><br><span class=\"line\">    operations = [</span><br><span class=\"line\">        migrations.CreateModel(</span><br><span class=\"line\">            name=<span class=\"string\">&quot;Category&quot;</span>,</span><br><span class=\"line\">            fields=[</span><br><span class=\"line\">                (</span><br><span class=\"line\">                    <span class=\"string\">&quot;id&quot;</span>,</span><br><span class=\"line\">                    models.BigAutoField(</span><br><span class=\"line\">                        auto_created=<span class=\"literal\">True</span>,</span><br><span class=\"line\">                        primary_key=<span class=\"literal\">True</span>,</span><br><span class=\"line\">                        serialize=<span class=\"literal\">False</span>,</span><br><span class=\"line\">                        verbose_name=<span class=\"string\">&quot;ID&quot;</span>,</span><br><span class=\"line\">                    ),</span><br><span class=\"line\">                ),</span><br><span class=\"line\">                (<span class=\"string\">&quot;name&quot;</span>, models.CharField(max_length=<span class=\"number\">100</span>, verbose_name=<span class=\"string\">&quot;分类名称&quot;</span>)),</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            options=&#123;</span><br><span class=\"line\">                <span class=\"string\">&quot;verbose_name&quot;</span>: <span class=\"string\">&quot;电影分类&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;verbose_name_plural&quot;</span>: <span class=\"string\">&quot;电影分类&quot;</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.CreateModel(</span><br><span class=\"line\">            name=<span class=\"string\">&quot;Movie&quot;</span>,</span><br><span class=\"line\">            fields=[</span><br><span class=\"line\">                (</span><br><span class=\"line\">                    <span class=\"string\">&quot;id&quot;</span>,</span><br><span class=\"line\">                    models.BigAutoField(</span><br><span class=\"line\">                        auto_created=<span class=\"literal\">True</span>,</span><br><span class=\"line\">                        primary_key=<span class=\"literal\">True</span>,</span><br><span class=\"line\">                        serialize=<span class=\"literal\">False</span>,</span><br><span class=\"line\">                        verbose_name=<span class=\"string\">&quot;ID&quot;</span>,</span><br><span class=\"line\">                    ),</span><br><span class=\"line\">                ),</span><br><span class=\"line\">                (<span class=\"string\">&quot;title&quot;</span>, models.CharField(max_length=<span class=\"number\">100</span>, verbose_name=<span class=\"string\">&quot;电影标题&quot;</span>)),</span><br><span class=\"line\">                (<span class=\"string\">&quot;description&quot;</span>, models.TextField(verbose_name=<span class=\"string\">&quot;电影描述&quot;</span>)),</span><br><span class=\"line\">                (<span class=\"string\">&quot;release_date&quot;</span>, models.DateField(verbose_name=<span class=\"string\">&quot;上映日期&quot;</span>)),</span><br><span class=\"line\">                (<span class=\"string\">&quot;download_link&quot;</span>, models.URLField(verbose_name=<span class=\"string\">&quot;下载链接&quot;</span>)),</span><br><span class=\"line\">                (</span><br><span class=\"line\">                    <span class=\"string\">&quot;category&quot;</span>,</span><br><span class=\"line\">                    models.ForeignKey(</span><br><span class=\"line\">                        on_delete=django.db.models.deletion.CASCADE,</span><br><span class=\"line\">                        to=<span class=\"string\">&quot;movies.category&quot;</span>,</span><br><span class=\"line\">                        verbose_name=<span class=\"string\">&quot;电影分类&quot;</span>,</span><br><span class=\"line\">                    ),</span><br><span class=\"line\">                ),</span><br><span class=\"line\">            ],</span><br><span class=\"line\">            options=&#123;</span><br><span class=\"line\">                <span class=\"string\">&quot;verbose_name&quot;</span>: <span class=\"string\">&quot;电影&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;verbose_name_plural&quot;</span>: <span class=\"string\">&quot;电影&quot;</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">        ),</span><br><span class=\"line\">    ]</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"0002_movie_actors_movie_director_movie_duration_and_morepy\"><a class=\"anchor\" href=\"#0002_movie_actors_movie_director_movie_duration_and_morepy\">#</a> 0002_movie_actors_movie_director_movie_duration_and_more.py</h4>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Generated by Django 5.0.6 on 2024-06-22 07:07</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> django.db.models.deletion</span><br><span class=\"line\"><span class=\"keyword\">from</span> django.db <span class=\"keyword\">import</span> migrations, models</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Migration</span>(migrations.Migration):</span><br><span class=\"line\">    dependencies = [</span><br><span class=\"line\">        (<span class=\"string\">&quot;movies&quot;</span>, <span class=\"string\">&quot;0001_initial&quot;</span>),</span><br><span class=\"line\">    ]</span><br><span class=\"line\"></span><br><span class=\"line\">    operations = [</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;actors&quot;</span>,</span><br><span class=\"line\">            field=models.TextField(blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>, verbose_name=<span class=\"string\">&quot;演员&quot;</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;director&quot;</span>,</span><br><span class=\"line\">            field=models.CharField(</span><br><span class=\"line\">                blank=<span class=\"literal\">True</span>, max_length=<span class=\"number\">100</span>, null=<span class=\"literal\">True</span>, verbose_name=<span class=\"string\">&quot;导演&quot;</span></span><br><span class=\"line\">            ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;duration&quot;</span>,</span><br><span class=\"line\">            field=models.CharField(</span><br><span class=\"line\">                blank=<span class=\"literal\">True</span>, max_length=<span class=\"number\">50</span>, null=<span class=\"literal\">True</span>, verbose_name=<span class=\"string\">&quot;片长&quot;</span></span><br><span class=\"line\">            ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;language&quot;</span>,</span><br><span class=\"line\">            field=models.CharField(</span><br><span class=\"line\">                blank=<span class=\"literal\">True</span>, max_length=<span class=\"number\">50</span>, null=<span class=\"literal\">True</span>, verbose_name=<span class=\"string\">&quot;语言&quot;</span></span><br><span class=\"line\">            ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;poster_url&quot;</span>,</span><br><span class=\"line\">            field=models.URLField(blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>, verbose_name=<span class=\"string\">&quot;海报图片地址&quot;</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;rating&quot;</span>,</span><br><span class=\"line\">            field=models.FloatField(blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>, verbose_name=<span class=\"string\">&quot;评分&quot;</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;subtitles&quot;</span>,</span><br><span class=\"line\">            field=models.CharField(</span><br><span class=\"line\">                blank=<span class=\"literal\">True</span>, max_length=<span class=\"number\">50</span>, null=<span class=\"literal\">True</span>, verbose_name=<span class=\"string\">&quot;字幕&quot;</span></span><br><span class=\"line\">            ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;category&quot;</span>,</span><br><span class=\"line\">            field=models.ForeignKey(</span><br><span class=\"line\">                on_delete=django.db.models.deletion.CASCADE,</span><br><span class=\"line\">                to=<span class=\"string\">&quot;movies.category&quot;</span>,</span><br><span class=\"line\">                verbose_name=<span class=\"string\">&quot;类别&quot;</span>,</span><br><span class=\"line\">            ),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;description&quot;</span>,</span><br><span class=\"line\">            field=models.TextField(verbose_name=<span class=\"string\">&quot;简介&quot;</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;title&quot;</span>,</span><br><span class=\"line\">            field=models.CharField(max_length=<span class=\"number\">100</span>, verbose_name=<span class=\"string\">&quot;名称&quot;</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">    ]</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"0003_movie_downloads_movie_is_recommended_and_morepy\"><a class=\"anchor\" href=\"#0003_movie_downloads_movie_is_recommended_and_morepy\">#</a> 0003_movie_downloads_movie_is_recommended_and_more.py</h4>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Generated by Django 5.0.6 on 2024-06-22 11:03</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> django.db <span class=\"keyword\">import</span> migrations, models</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Migration</span>(migrations.Migration):</span><br><span class=\"line\">    dependencies = [</span><br><span class=\"line\">        (<span class=\"string\">&quot;movies&quot;</span>, <span class=\"string\">&quot;0002_movie_actors_movie_director_movie_duration_and_more&quot;</span>),</span><br><span class=\"line\">    ]</span><br><span class=\"line\"></span><br><span class=\"line\">    operations = [</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;downloads&quot;</span>,</span><br><span class=\"line\">            field=models.IntegerField(default=<span class=\"number\">0</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AddField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;is_recommended&quot;</span>,</span><br><span class=\"line\">            field=models.BooleanField(default=<span class=\"literal\">False</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;description&quot;</span>,</span><br><span class=\"line\">            field=models.TextField(),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;poster_url&quot;</span>,</span><br><span class=\"line\">            field=models.URLField(),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;title&quot;</span>,</span><br><span class=\"line\">            field=models.CharField(max_length=<span class=\"number\">100</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">    ]</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"0004_alter_movie_description_alter_movie_poster_url_and_morepy\"><a class=\"anchor\" href=\"#0004_alter_movie_description_alter_movie_poster_url_and_morepy\">#</a> 0004_alter_movie_description_alter_movie_poster_url_and_more.py</h4>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Generated by Django 5.0.6 on 2024-06-22 13:08</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> django.db <span class=\"keyword\">import</span> migrations, models</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Migration</span>(migrations.Migration):</span><br><span class=\"line\">    dependencies = [</span><br><span class=\"line\">        (<span class=\"string\">&quot;movies&quot;</span>, <span class=\"string\">&quot;0003_movie_downloads_movie_is_recommended_and_more&quot;</span>),</span><br><span class=\"line\">    ]</span><br><span class=\"line\"></span><br><span class=\"line\">    operations = [</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;description&quot;</span>,</span><br><span class=\"line\">            field=models.TextField(verbose_name=<span class=\"string\">&quot;简介&quot;</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;poster_url&quot;</span>,</span><br><span class=\"line\">            field=models.URLField(blank=<span class=\"literal\">True</span>, null=<span class=\"literal\">True</span>, verbose_name=<span class=\"string\">&quot;海报图片地址&quot;</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">        migrations.AlterField(</span><br><span class=\"line\">            model_name=<span class=\"string\">&quot;movie&quot;</span>,</span><br><span class=\"line\">            name=<span class=\"string\">&quot;title&quot;</span>,</span><br><span class=\"line\">            field=models.CharField(max_length=<span class=\"number\">100</span>, verbose_name=<span class=\"string\">&quot;名称&quot;</span>),</span><br><span class=\"line\">        ),</span><br><span class=\"line\">    ]</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"initpy-2\"><a class=\"anchor\" href=\"#initpy-2\">#</a> <strong>init</strong>.py</h4>\n<h3 id=\"templates\"><a class=\"anchor\" href=\"#templates\">#</a> /templates</h3>\n<h4 id=\"movies-2\"><a class=\"anchor\" href=\"#movies-2\">#</a> /movies</h4>\n<h5 id=\"basehtml\"><a class=\"anchor\" href=\"#basehtml\">#</a> base.html</h5>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">body</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;/static/beijing_2.png&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-size</span>: cover;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-repeat</span>: no-repeat;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-family</span>: <span class=\"string\">&#x27;Arial&#x27;</span>, sans-serif;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.movie-title</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-family</span>: <span class=\"string\">&#x27;KaiTi&#x27;</span>, cursive;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#32C5E9</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">2em</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.movie-rating</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.movie-rating-green</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.movie-rating-black</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: black;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.navbar-brand</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">4em</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: black;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: pink;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: inline-block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-top</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.nav-link</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">2em</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: black <span class=\"meta\">!important</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: inline-block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.nav-home</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: lightblue;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.nav-recommendations</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: lightgreen;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.nav-download</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: lightcoral;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.nav-admin</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: lightyellow;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.category-link</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-size</span>: <span class=\"number\">2em</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: black <span class=\"meta\">!important</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: inline-block;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span> <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.nav-container</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-wrap</span>: wrap;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.category-china</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: lightblue;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.category-japan-korea</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: lightgreen;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.category-europe-america</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: lightcoral;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>电影网站<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    &#123;% load static %&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% static &#x27;css/bootstrap.min.css&#x27; %&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% static &#x27;css/style.css&#x27; %&#125;&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">header</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;navbar-brand&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;index&#x27; %&#125;&quot;</span>&gt;</span>电影网站<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-container&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-link nav-home&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;index&#x27; %&#125;&quot;</span>&gt;</span>首页<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-link nav-recommendations&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;movie_recommendations&#x27; %&#125;&quot;</span>&gt;</span>电影推荐<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-link nav-download&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;download_rank&#x27; %&#125;&quot;</span>&gt;</span>下载排行<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nav-link nav-admin&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/admin&quot;</span>&gt;</span>管理员入口<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">main</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;container mt-4 content-wrapper&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;% block content %&#125;</span><br><span class=\"line\">        &#123;% endblock %&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">main</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">footer</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;bg-dark text-white text-center py-3&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"symbol\">&amp;copy;</span> 2024 电影网站——made by Enjun Du<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">footer</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;% static &#x27;js/jquery.min.js&#x27; %&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;% static &#x27;js/bootstrap.bundle.min.js&#x27; %&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;% static &#x27;js/main.js&#x27; %&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h5 id=\"category_listhtml\"><a class=\"anchor\" href=\"#category_listhtml\">#</a> category_list.html</h5>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% extends &#x27;movies/base.html&#x27; %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% block content %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123; category.name &#125;&#125;电影列表<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;row&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;% for movie in movies %&#125;</span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;col-md-3&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card mb-3&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; movie.poster_url &#125;&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-img-top&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&#123;&#123; movie.title &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-body&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">h5</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-title&quot;</span>&gt;</span>&#123;&#123; movie.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h5</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-text&quot;</span>&gt;</span>&#123;&#123; movie.rating &#125;&#125; / 10<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;movie_detail&#x27; movie.id %&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-primary&quot;</span>&gt;</span>详情<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    &#123;% endfor %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"download_rankhtml\"><a class=\"anchor\" href=\"#download_rankhtml\">#</a> download_rank.html</h5>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% extends &#x27;movies/base.html&#x27; %&#125;</span><br><span class=\"line\">&#123;% load static %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% block content %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;mt-5&quot;</span>&gt;</span>下载排行<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;row&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;% for movie in top_downloaded_movies %&#125;</span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;col-md-3&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card mb-3&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; movie.poster_url &#125;&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-img-top&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&#123;&#123; movie.title &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-body&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">h5</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-title&quot;</span>&gt;</span>&#123;&#123; movie.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h5</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-text&quot;</span>&gt;</span>&#123;&#123; movie.description|truncatewords:10 &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-text&quot;</span>&gt;</span>下载次数: &#123;&#123; movie.downloads &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;movie_detail&#x27; movie.id %&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-primary&quot;</span>&gt;</span>详情<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    &#123;% endfor %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"indexhtml\"><a class=\"anchor\" href=\"#indexhtml\">#</a> index.html</h5>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% extends &#x27;movies/base.html&#x27; %&#125;</span><br><span class=\"line\">&#123;% load static %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% block content %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;text-center&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;font-size: 2em;&quot;</span>&gt;</span>电影分类<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;d-flex justify-content-center mb-4&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;% for category in categories %&#125;</span><br><span class=\"line\">        &#123;% if category.name == &#x27;国内电影&#x27; %&#125;</span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;category_list&#x27; category.id %&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;category-link category-china&quot;</span>&gt;</span>&#123;&#123; category.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        &#123;% elif category.name == &#x27;日韩电影&#x27; %&#125;</span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;category_list&#x27; category.id %&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;category-link category-japan-korea&quot;</span>&gt;</span>&#123;&#123; category.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        &#123;% elif category.name == &#x27;欧美电影&#x27; %&#125;</span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;category_list&#x27; category.id %&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;category-link category-europe-america&quot;</span>&gt;</span>&#123;&#123; category.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        &#123;% else %&#125;</span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;category_list&#x27; category.id %&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;category-link&quot;</span>&gt;</span>&#123;&#123; category.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        &#123;% endif %&#125;</span><br><span class=\"line\">    &#123;% endfor %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;carouselExampleIndicators&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;carousel slide&quot;</span> <span class=\"attr\">data-ride</span>=<span class=\"string\">&quot;carousel&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;carousel-inner&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;% for movie in recommended_movies|slice:&quot;:4&quot; %&#125;</span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;carousel-item &#123;% if forloop.first %&#125;active&#123;% endif %&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;d-block w-100&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; movie.poster_url &#125;&#125;&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&#123;&#123; movie.title &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;carousel-caption d-none d-md-block&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">h5</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-title&quot;</span>&gt;</span>&#123;&#123; movie.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h5</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        &#123;% endfor %&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;carousel-control-prev&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#carouselExampleIndicators&quot;</span> <span class=\"attr\">role</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">data-slide</span>=<span class=\"string\">&quot;prev&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;carousel-control-prev-icon&quot;</span> <span class=\"attr\">aria-hidden</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;sr-only&quot;</span>&gt;</span>Previous<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;carousel-control-next&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;#carouselExampleIndicators&quot;</span> <span class=\"attr\">role</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">data-slide</span>=<span class=\"string\">&quot;next&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;carousel-control-next-icon&quot;</span> <span class=\"attr\">aria-hidden</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;sr-only&quot;</span>&gt;</span>Next<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;mt-5 text-center&quot;</span>&gt;</span>推荐电影<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;row justify-content-center&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;% for movie in recommended_movies|slice:&quot;4:&quot; %&#125;</span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;col-md-3&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card mb-3 text-center&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; movie.poster_url &#125;&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-img-top mx-auto d-block&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&#123;&#123; movie.title &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-body&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">h5</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-title movie-title&quot;</span>&gt;</span>&#123;&#123; movie.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h5</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating-green&quot;</span>&gt;</span>&#123;&#123; movie.rating|floatformat:1|stringformat:&quot;d&quot; &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>/<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating-black&quot;</span>&gt;</span>&#123;&#123; movie.rating|add:&quot;1&quot;|floatformat:1|stringformat:&quot;d&quot; &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;movie_detail&#x27; movie.id %&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-primary&quot;</span>&gt;</span>详情<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    &#123;% endfor %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>\n<h5 id=\"movie_detailhtml\"><a class=\"anchor\" href=\"#movie_detailhtml\">#</a> movie_detail.html</h5>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% extends &#x27;movies/base.html&#x27; %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% block content %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;container&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;row justify-content-center&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;col-md-4 text-center&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; movie.poster_url &#125;&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-fluid mx-auto d-block&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&#123;&#123; movie.title &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;col-md-8 text-center&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-title&quot;</span>&gt;</span>&#123;&#123; movie.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating-green&quot;</span>&gt;</span>&#123;&#123; movie.rating|floatformat:1|stringformat:&quot;d&quot; &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>/<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating-black&quot;</span>&gt;</span>&#123;&#123; movie.rating|add:&quot;1&quot;|floatformat:&quot;d&quot; &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>上映日期:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.release_date &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>类别:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.category.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>导演:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.director &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>演员:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.actors &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>语言:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.language &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>字幕:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.subtitles &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>片长:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.duration &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>简介:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.description &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;&#123; movie.download_link &#125;&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">style</span>=<span class=\"string\">&quot;display: inline-block;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                          font-size: 3em;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                          color: blue;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                          background-color: lavender;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                          padding: 20px;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                          border: 2px solid purple;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                          border-radius: 5px;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                          text-decoration: none;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                          transition: background-color 0.3s ease;&quot;</span>&gt;</span></span><br><span class=\"line\">                    下载电影</span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;a&#x27;</span>).<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span> = <span class=\"string\">&#x27;lightcoral&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>\n<p>#####recommendations.html</p>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% extends &#x27;movies/base.html&#x27; %&#125;</span><br><span class=\"line\">&#123;% load static %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% block content %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;mt-5&quot;</span>&gt;</span>电影推荐<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;row&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;% for movie in recommended_movies %&#125;</span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;col-md-3&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card mb-3&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; movie.poster_url &#125;&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-img-top&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&#123;&#123; movie.title &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-body&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">h5</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-title&quot;</span>&gt;</span>&#123;&#123; movie.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h5</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;card-text&quot;</span>&gt;</span>&#123;&#123; movie.description|truncatewords:10 &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;movie_detail&#x27; movie.id %&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-primary&quot;</span>&gt;</span>详情<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    &#123;% endfor %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"static\"><a class=\"anchor\" href=\"#static\">#</a> /static</h4>\n<h5 id=\"css\"><a class=\"anchor\" href=\"#css\">#</a> /css</h5>\n<h5 id=\"images\"><a class=\"anchor\" href=\"#images\">#</a> /images</h5>\n<h5 id=\"js\"><a class=\"anchor\" href=\"#js\">#</a> /js</h5>\n<h2 id=\"my_movie_site\"><a class=\"anchor\" href=\"#my_movie_site\">#</a> /my_movie_site</h2>\n<h3 id=\"initpy-3\"><a class=\"anchor\" href=\"#initpy-3\">#</a> <strong>init</strong>.py</h3>\n<h3 id=\"settingspy\"><a class=\"anchor\" href=\"#settingspy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3NldHRpbmdzLnB5\">settings.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">Django settings for my_movie_site project.</span></span><br><span class=\"line\"><span class=\"string\">Generated by &#x27;django-admin startproject&#x27; using Django 3.2.</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">from</span> pathlib <span class=\"keyword\">import</span> Path</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Build paths inside the project like this: BASE_DIR / &#x27;subdir&#x27;.</span></span><br><span class=\"line\">BASE_DIR = Path(__file__).resolve().parent.parent</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># SECURITY WARNING: keep the secret key used in production secret!</span></span><br><span class=\"line\">SECRET_KEY = <span class=\"string\">&#x27;your-secret-key&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># SECURITY WARNING: don&#x27;t run with debug turned on in production!</span></span><br><span class=\"line\">DEBUG = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">ALLOWED_HOSTS = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Application definition</span></span><br><span class=\"line\">INSTALLED_APPS = [</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;movies&#x27;</span>,  <span class=\"comment\"># 注册movies应用</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;rest_framework&#x27;</span>,  <span class=\"comment\"># 注册DRF</span></span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\">MIDDLEWARE = [</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.middleware.security.SecurityMiddleware&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.middleware.common.CommonMiddleware&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.auth.middleware.AuthenticationMiddleware&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.contrib.messages.middleware.MessageMiddleware&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;django.middleware.clickjacking.XFrameOptionsMiddleware&#x27;</span>,</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\">ROOT_URLCONF = <span class=\"string\">&#x27;my_movie_site.urls&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">TEMPLATES = [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;BACKEND&#x27;</span>: <span class=\"string\">&#x27;django.template.backends.django.DjangoTemplates&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;DIRS&#x27;</span>: [BASE_DIR / <span class=\"string\">&#x27;templates&#x27;</span>],</span><br><span class=\"line\">        <span class=\"string\">&#x27;APP_DIRS&#x27;</span>: <span class=\"literal\">True</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;OPTIONS&#x27;</span>: &#123;</span><br><span class=\"line\">            <span class=\"string\">&#x27;context_processors&#x27;</span>: [</span><br><span class=\"line\">                <span class=\"string\">&#x27;django.template.context_processors.debug&#x27;</span>,</span><br><span class=\"line\">                <span class=\"string\">&#x27;django.template.context_processors.request&#x27;</span>,</span><br><span class=\"line\">                <span class=\"string\">&#x27;django.contrib.auth.context_processors.auth&#x27;</span>,</span><br><span class=\"line\">                <span class=\"string\">&#x27;django.contrib.messages.context_processors.messages&#x27;</span>,</span><br><span class=\"line\">            ],</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\">WSGI_APPLICATION = <span class=\"string\">&#x27;my_movie_site.wsgi.application&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Database</span></span><br><span class=\"line\"><span class=\"comment\"># https://docs.djangoproject.com/en/3.2/ref/settings/#databases</span></span><br><span class=\"line\"></span><br><span class=\"line\">DATABASES = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;default&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;ENGINE&#x27;</span>: <span class=\"string\">&#x27;django.db.backends.sqlite3&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;NAME&#x27;</span>: BASE_DIR / <span class=\"string\">&#x27;db.sqlite3&#x27;</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Password validation</span></span><br><span class=\"line\"><span class=\"comment\"># https://docs.djangoproject.com/en/3.2/ref/settings/#auth-password-validators</span></span><br><span class=\"line\"></span><br><span class=\"line\">AUTH_PASSWORD_VALIDATORS = [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;NAME&#x27;</span>: <span class=\"string\">&#x27;django.contrib.auth.password_validation.UserAttributeSimilarityValidator&#x27;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;NAME&#x27;</span>: <span class=\"string\">&#x27;django.contrib.auth.password_validation.MinimumLengthValidator&#x27;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;NAME&#x27;</span>: <span class=\"string\">&#x27;django.contrib.auth.password_validation.CommonPasswordValidator&#x27;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;NAME&#x27;</span>: <span class=\"string\">&#x27;django.contrib.auth.password_validation.NumericPasswordValidator&#x27;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Internationalization</span></span><br><span class=\"line\"><span class=\"comment\"># https://docs.djangoproject.com/en/3.2/topics/i18n/</span></span><br><span class=\"line\"></span><br><span class=\"line\">LANGUAGE_CODE = <span class=\"string\">&#x27;zh-hans&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">TIME_ZONE = <span class=\"string\">&#x27;Asia/Shanghai&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">USE_I18N = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">USE_L10N = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">USE_TZ = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Static files (CSS, JavaScript, Images)</span></span><br><span class=\"line\"><span class=\"comment\"># https://docs.djangoproject.com/en/3.2/howto/static-files/</span></span><br><span class=\"line\"></span><br><span class=\"line\">STATIC_URL = <span class=\"string\">&#x27;/static/&#x27;</span></span><br><span class=\"line\">STATICFILES_DIRS = [os.path.join(BASE_DIR, <span class=\"string\">&#x27;static&#x27;</span>)]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Default primary key field type</span></span><br><span class=\"line\"><span class=\"comment\"># https://docs.djangoproject.com/en/3.2/ref/settings/#default-auto-field</span></span><br><span class=\"line\"></span><br><span class=\"line\">DEFAULT_AUTO_FIELD = <span class=\"string\">&#x27;django.db.models.BigAutoField&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 媒体文件设置</span></span><br><span class=\"line\">MEDIA_URL = <span class=\"string\">&#x27;/media/&#x27;</span></span><br><span class=\"line\">MEDIA_ROOT = BASE_DIR / <span class=\"string\">&#x27;media&#x27;</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"urlspy-2\"><a class=\"anchor\" href=\"#urlspy-2\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3VybHMucHk=\">urls.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.contrib <span class=\"keyword\">import</span> admin</span><br><span class=\"line\"><span class=\"keyword\">from</span> django.urls <span class=\"keyword\">import</span> path, include</span><br><span class=\"line\"><span class=\"keyword\">from</span> django.conf <span class=\"keyword\">import</span> settings</span><br><span class=\"line\"><span class=\"keyword\">from</span> django.conf.urls.static <span class=\"keyword\">import</span> static</span><br><span class=\"line\"></span><br><span class=\"line\">urlpatterns = [</span><br><span class=\"line\">    path(<span class=\"string\">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class=\"line\">    path(<span class=\"string\">&#x27;&#x27;</span>, include(<span class=\"string\">&#x27;movies.urls&#x27;</span>)),  <span class=\"comment\"># 包含movies应用的URL</span></span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> settings.DEBUG:</span><br><span class=\"line\">    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"wsgipy\"><a class=\"anchor\" href=\"#wsgipy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3dzZ2kucHk=\">wsgi.py</span></h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">WSGI config for my_movie_site project.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">It exposes the WSGI callable as a module-level variable named ``application``.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">For more information on this file, see</span></span><br><span class=\"line\"><span class=\"string\">https://docs.djangoproject.com/en/3.2/howto/deployment/wsgi/</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">from</span> django.core.wsgi <span class=\"keyword\">import</span> get_wsgi_application</span><br><span class=\"line\"></span><br><span class=\"line\">os.environ.setdefault(<span class=\"string\">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class=\"string\">&#x27;my_movie_site.settings&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">application = get_wsgi_application()</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"static-2\"><a class=\"anchor\" href=\"#static-2\">#</a> static</h2>\n<h3 id=\"beijingpng\"><a class=\"anchor\" href=\"#beijingpng\">#</a> beijing.png</h3>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/EDmIaj6UHxV3uAC.png\" alt=\"QQ_1720458218392.png\" /></p>\n<h3 id=\"beijing_2png\"><a class=\"anchor\" href=\"#beijing_2png\">#</a> beijing_2.png</h3>\n<p><img data-src=\"https://s2.loli.net/2024/07/09/B2yCMhPQUi7xukV.jpg\" alt=\"beijing_2.png\" /></p>\n<h2 id=\"templates-2\"><a class=\"anchor\" href=\"#templates-2\">#</a> /templates</h2>\n<h3 id=\"admin\"><a class=\"anchor\" href=\"#admin\">#</a> /admin</h3>\n<h4 id=\"dashboardhtml\"><a class=\"anchor\" href=\"#dashboardhtml\">#</a> dashboard.html</h4>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% extends &#x27;admin/base.html&#x27; %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% block content %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>后台管理主页<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;admin:movies_movie_changelist&#x27; %&#125;&quot;</span>&gt;</span>电影管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;admin:movies_category_changelist&#x27; %&#125;&quot;</span>&gt;</span>分类管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"loginhtml\"><a class=\"anchor\" href=\"#loginhtml\">#</a> login.html</h4>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>管理员登录<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">body</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">font-family</span>: <span class=\"string\">&#x27;Arial&#x27;</span>, sans-serif;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: <span class=\"number\">#f4f4f4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex-direction</span>: column;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">align-items</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">justify-content</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100vh</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">&#x27;/static/beijing.png&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-size</span>: cover;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-repeat</span>: no-repeat;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">h1</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: <span class=\"number\">#4682B4</span>; <span class=\"comment\">/* 钢蓝色 */</span></span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">form</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">max-width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: <span class=\"number\">#fff</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">10px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.1</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">text-align</span>: center;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">input</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-sizing</span>: border-box;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#ccc</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">input</span><span class=\"selector-attr\">[type=<span class=\"string\">&quot;submit&quot;</span>]</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: <span class=\"number\">#4682B4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">color</span>: white;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">cursor</span>: pointer;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">input</span><span class=\"selector-attr\">[type=<span class=\"string\">&quot;submit&quot;</span>]</span><span class=\"selector-pseudo\">:hover</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: <span class=\"number\">#4169E1</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>管理员登录<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">method</span>=<span class=\"string\">&quot;post&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;% csrf_token %&#125;</span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">&quot;username&quot;</span>&gt;</span>用户名:<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">required</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">&quot;password&quot;</span>&gt;</span>密码:<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">required</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;submit&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;登录&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"movie_detailhtml-2\"><a class=\"anchor\" href=\"#movie_detailhtml-2\">#</a> movie_detail.html</h4>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% extends &#x27;movies/base.html&#x27; %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% block content %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;container&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;row justify-content-center&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;col-md-4 text-center&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; movie.poster_url &#125;&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-fluid mx-auto d-block&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&#123;&#123; movie.title &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;col-md-8 text-center&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-title&quot;</span>&gt;</span>&#123;&#123; movie.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating-green&quot;</span>&gt;</span>&#123;&#123; movie.rating|floatformat:1|stringformat:&quot;d&quot; &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>/<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;movie-rating-black&quot;</span>&gt;</span>&#123;&#123; movie.rating|add:&quot;1&quot;|floatformat:1|stringformat:&quot;d&quot; &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>上映日期:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.release_date &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>类别:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.category.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>导演:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.director &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>演员:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.actors &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>语言:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.language &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>字幕:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.subtitles &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>片长:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.duration &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>简介:<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span> &#123;&#123; movie.description &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;&#123; movie.download_link &#125;&#125;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn btn-primary&quot;</span>&gt;</span>下载电影<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"movie_listhtml\"><a class=\"anchor\" href=\"#movie_listhtml\">#</a> movie_list.html</h4>\n<p><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% extends &#x27;admin/base.html&#x27; %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#123;% block content %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>电影列表<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>标题<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>分类<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>上映日期<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>操作<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">        &#123;% for movie in movies %&#125;</span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>&#123;&#123; movie.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>&#123;&#123; movie.category.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>&#123;&#123; movie.release_date &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;admin:movies_movie_change&#x27; movie.id %&#125;&quot;</span>&gt;</span>编辑<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;% url &#x27;admin:movies_movie_delete&#x27; movie.id %&#125;&quot;</span>&gt;</span>删除<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        &#123;% endfor %&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"dbsqlite3\"><a class=\"anchor\" href=\"#dbsqlite3\">#</a> db.sqlite3</h2>\n<p>生成的数据库</p>\n<h2 id=\"managepy\"><a class=\"anchor\" href=\"#managepy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL21hbmFnZS5weQ==\">manage.py</span></h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;Django&#x27;s command-line utility for administrative tasks.&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">main</span>():</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;Run administrative tasks.&quot;&quot;&quot;</span></span><br><span class=\"line\">    os.environ.setdefault(<span class=\"string\">&#x27;DJANGO_SETTINGS_MODULE&#x27;</span>, <span class=\"string\">&#x27;my_movie_site.settings&#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        <span class=\"keyword\">from</span> django.core.management <span class=\"keyword\">import</span> execute_from_command_line</span><br><span class=\"line\">    <span class=\"keyword\">except</span> ImportError <span class=\"keyword\">as</span> exc:</span><br><span class=\"line\">        <span class=\"keyword\">raise</span> ImportError(</span><br><span class=\"line\">            <span class=\"string\">&quot;Couldn&#x27;t import Django. Are you sure it&#x27;s installed and &quot;</span></span><br><span class=\"line\">            <span class=\"string\">&quot;available on your PYTHONPATH environment variable? Did you &quot;</span></span><br><span class=\"line\">            <span class=\"string\">&quot;forget to activate a virtual environment?&quot;</span></span><br><span class=\"line\">        ) <span class=\"keyword\">from</span> exc</span><br><span class=\"line\">    execute_from_command_line(sys.argv)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    main()</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"requirements\"><a class=\"anchor\" href=\"#requirements\">#</a> requirements</h2>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Django==5.0.6</span><br><span class=\"line\">djangorestframework==3.15.2</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"over\"><a class=\"anchor\" href=\"#over\">#</a> Over</h2>\n",
            "tags": [
                "Hexo",
                "Front Matter"
            ]
        },
        {
            "id": "https://enjundu.github.io/ECEBC/%E5%9B%BE%E5%83%8F%E9%9A%90%E5%86%99/",
            "url": "https://enjundu.github.io/ECEBC/%E5%9B%BE%E5%83%8F%E9%9A%90%E5%86%99/",
            "title": "图像隐写",
            "date_published": "2024-07-06T17:41:31.000Z",
            "content_html": "<h1 id=\"实验介绍\"><a class=\"anchor\" href=\"#实验介绍\">#</a> 实验介绍</h1>\n<h2 id=\"实践简介\"><a class=\"anchor\" href=\"#实践简介\">#</a> 实践简介</h2>\n<p>LSB 隐写术是一种图像隐写术技术，其中通过将每个像素的最低有效位替换为要隐藏的消息位来将消息隐藏在图像中。</p>\n<p>本实践需要同学们了解基本的图像处理以及图像隐写技术，使用 Python 或 C 语言编写 LSB 图像 <code>加密程序</code> 和 <code>解密程序</code> 。</p>\n<h2 id=\"相关概念\"><a class=\"anchor\" href=\"#相关概念\">#</a> 相关概念</h2>\n<p>为了更好地理解，让我们将数字图像视为像素的二维阵列，每个像素包含取决于其类型和深度的值，使用最广泛的颜色模式 RGB，这些值的范围为 0–255 之间。</p>\n<p>可以使用 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY3MuY211LmVkdS9+cGF0dGlzLzE1LTFYWC9jb21tb24vaGFuZG91dHMvYXNjaWkuaHRtbA==\">ASCII Table</span> 将消息转换为十进制值，然后再转换为二进制。</p>\n<p>然后，我们逐个迭代像素值，将它们转换为二进制后，我们将每个最低有效位替换为序列中的消息位。</p>\n<p>要解码编码图像，我们只需反转该过程。收集并存储每个像素的最后一位，然后将它们分成 8 组，并将其转换回 ASCII 字符以获取隐藏消息。</p>\n<h2 id=\"提交文件说明\"><a class=\"anchor\" href=\"#提交文件说明\">#</a> 提交文件说明</h2>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C</span><br><span class=\"line\">\t- LSB_decode.c \t解密程序编写文件</span><br><span class=\"line\">\t- LSB_encode.c \t加密程序编写文件</span><br><span class=\"line\">Python</span><br><span class=\"line\">\t- LSB_decode.py 解密程序编写文件</span><br><span class=\"line\">\t- LSB_encode.py\t加密程序编写文件</span><br><span class=\"line\">encode_image.png\t一张程序测试图片</span><br><span class=\"line\">encode_text.txt\t\t一张程序测试文本</span><br><span class=\"line\">README.md\t\t\t项目描述说明文档</span><br><span class=\"line\">requirements.txt\t项目依赖包版本号（项目需要下载到本地执行，如果有第三方依赖包，必须填写）</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"提交内容\"><a class=\"anchor\" href=\"#提交内容\">#</a> 提交内容</h2>\n<p>C 或 Python 语言相关程序代码，加解密程序读写文件使用相对路径，因为需要下载到本地运行评判，评判过程中不会修改代码。</p>\n<h2 id=\"如何评判\"><a class=\"anchor\" href=\"#如何评判\">#</a> 如何评判</h2>\n<ul>\n<li>程序是否能够执行</li>\n<li>能否进行图像加密</li>\n<li>能否进行图像解密</li>\n<li>程度代码是否规范</li>\n</ul>\n<h1 id=\"实验心得\"><a class=\"anchor\" href=\"#实验心得\">#</a> 实验心得</h1>\n<p>项目心得</p>\n<p>在这次项目中，我学习并实现了 LSB（最低有效位）隐写术，用于将消息隐藏在图像中。通过阅读项目要求和研究相关概念，我对图像处理和隐写技术有了更深入的理解。</p>\n<p>实践背景</p>\n<p>LSB 隐写术是一种简单且有效的图像隐写技术。它的原理是通过修改图像像素的最低有效位（即最后一位）来嵌入信息。由于最低有效位的变化对图像整体视觉效果的影响微乎其微，因此这种方法可以隐藏信息而不被察觉。</p>\n<p>学习与实现过程</p>\n<p>在项目中，我编写了两个主要的 Python 脚本：LSB_encode.py 和 LSB_decode.py。这两个脚本分别用于对消息进行加密和解密操作。</p>\n<p>LSB_encode.py 的实现步骤如下：</p>\n<p>读取图像：使用 Pillow 库读取输入的 PNG 图像文件。</p>\n<p>读取消息：读取要隐藏的消息文本，并将其转换为二进制形式。</p>\n<p>嵌入信息：逐个遍历图像像素，将每个像素的最低有效位替换为消息的二进制位。</p>\n<p>保存图像：将处理后的图像保存为新的 PNG 文件。</p>\n<p>在实现过程中，最大挑战是确保消息能够正确地嵌入到图像中，并且处理后的图像仍然能够正确显示。通过测试和调试，我成功实现了这一点。</p>\n<p>LSB_decode.py 的实现步骤如下：</p>\n<p>读取图像：同样使用 Pillow 库读取加密后的 PNG 图像文件。</p>\n<p>提取信息：逐个遍历图像像素，提取每个像素的最低有效位，并将这些位组合成二进制字符串。</p>\n<p>恢复消息：将二进制字符串按 8 位一组转换回 ASCII 字符，最终恢复出原始隐藏的消息。</p>\n<p>解密过程的关键在于如何正确地提取和还原隐藏的信息，这需要对嵌入信息时的每一步都理解透彻，并反向操作。</p>\n<p>代码编写与规范</p>\n<p>在代码编写过程中，我注意了以下几点：</p>\n<p>代码规范：遵循 PEP 8 规范，保持代码的可读性和维护性。</p>\n<p>模块化：将功能划分为独立的函数，增强代码的模块化。</p>\n<p>注释与文档：为主要功能和逻辑添加详细的注释，并编写 README 文件，说明项目的使用方法和依赖。</p>\n<p>项目依赖</p>\n<p>项目中使用了 Pillow 库进行图像处理，并在 requirements.txt 中详细列出了项目的依赖项，确保他人在本地环境中能够顺利运行代码。</p>\n<p>心得体会</p>\n<p>通过这次项目，我深刻体会到隐写术的魅力和应用潜力。虽然 LSB 隐写术相对简单，但它展示了信息隐藏技术的基本原理和实现方法。这次实践不仅提高了我的 Python 编程能力，还增强了我对图像处理技术的理解。</p>\n<p>此外，我还认识到，隐写术在信息安全领域有着重要的应用前景，但也存在一些挑战，例如如何提高隐写信息的隐蔽性和安全性。未来，我希望能进一步研究更复杂的隐写术算法，并探索其在不同领域中的应用。</p>\n<p>总的来说，这次项目实践让我收获颇丰，不仅巩固了理论知识，还提高了实际动手能力。我期待在未来的学习和工作中，能将这些知识和技能应用到更广泛的场景中，解决更多实际问题。</p>\n<h1 id=\"实验代码\"><a class=\"anchor\" href=\"#实验代码\">#</a> 实验代码</h1>\n<h2 id=\"lsb_decodepy\"><a class=\"anchor\" href=\"#lsb_decodepy\">#</a> LSB_decode.py</h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> PIL <span class=\"keyword\">import</span> Image</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.primitives.ciphers <span class=\"keyword\">import</span> Cipher, algorithms, modes</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.primitives.kdf.pbkdf2 <span class=\"keyword\">import</span> PBKDF2HMAC</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.primitives <span class=\"keyword\">import</span> hashes</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.backends <span class=\"keyword\">import</span> default_backend</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.primitives <span class=\"keyword\">import</span> padding</span><br><span class=\"line\"><span class=\"keyword\">import</span> base64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 定义固定的盐和IV</span></span><br><span class=\"line\">FIXED_SALT = <span class=\"string\">b&quot;fixed_salt_12345&quot;</span></span><br><span class=\"line\">FIXED_IV = <span class=\"string\">b&quot;fixed_iv_1234567&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">generate_key</span>(<span class=\"params\">password: <span class=\"built_in\">str</span>, salt: <span class=\"built_in\">bytes</span></span>) -&gt; <span class=\"built_in\">bytes</span>:</span><br><span class=\"line\">    kdf = PBKDF2HMAC(</span><br><span class=\"line\">        algorithm=hashes.SHA256(),</span><br><span class=\"line\">        length=<span class=\"number\">32</span>,</span><br><span class=\"line\">        salt=salt,</span><br><span class=\"line\">        iterations=<span class=\"number\">100000</span>,</span><br><span class=\"line\">        backend=default_backend()</span><br><span class=\"line\">    )</span><br><span class=\"line\">    <span class=\"keyword\">return</span> kdf.derive(password.encode())</span><br><span class=\"line\"><span class=\"comment\"># 从图像中提取嵌入的文本</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">decrypt</span>(<span class=\"params\">encrypted_text: <span class=\"built_in\">str</span>, password: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"built_in\">str</span>:</span><br><span class=\"line\">    encrypted_data = base64.b64decode(encrypted_text)</span><br><span class=\"line\">    key = generate_key(password, FIXED_SALT)</span><br><span class=\"line\">    cipher = Cipher(algorithms.AES(key), modes.CBC(FIXED_IV), backend=default_backend())</span><br><span class=\"line\">    decryptor = cipher.decryptor()</span><br><span class=\"line\">    decrypted_padded_data = decryptor.update(encrypted_data) + decryptor.finalize()</span><br><span class=\"line\">    unpadder = padding.PKCS7(algorithms.AES.block_size).unpadder()</span><br><span class=\"line\">    decrypted_data = unpadder.update(decrypted_padded_data) + unpadder.finalize()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> decrypted_data.decode()</span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">extract_text_from_image</span>(<span class=\"params\">image_path</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 打开图像文件</span></span><br><span class=\"line\">    image = Image.<span class=\"built_in\">open</span>(image_path)</span><br><span class=\"line\">    <span class=\"comment\"># 获取图像的宽度和高度</span></span><br><span class=\"line\">    width, height = image.size</span><br><span class=\"line\">    <span class=\"comment\"># 将图像数据转换为NumPy数组，以便进行像素级别的操作</span></span><br><span class=\"line\">    pixel_data = np.array(image)</span><br><span class=\"line\">    <span class=\"comment\"># 从像素中提取LSB，构建二进制文本</span></span><br><span class=\"line\">    extracted_text = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">    binary_text = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(height):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(width):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">3</span>):  <span class=\"comment\"># 三个颜色通道：红、绿、蓝</span></span><br><span class=\"line\">                <span class=\"comment\"># 从LSB中提取位并构建二进制文本</span></span><br><span class=\"line\">                extracted_bit = pixel_data[i][j][k] &amp; <span class=\"number\">1</span></span><br><span class=\"line\">                binary_text += <span class=\"built_in\">str</span>(extracted_bit)</span><br><span class=\"line\">                <span class=\"comment\"># 每8位构成一个字符，提取字符并添加到提取的文本中</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(binary_text) == <span class=\"number\">8</span>:</span><br><span class=\"line\">                    char_code = <span class=\"built_in\">int</span>(binary_text, <span class=\"number\">2</span>)</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> char_code == <span class=\"number\">0</span>:</span><br><span class=\"line\">                        <span class=\"comment\"># 遇到空字符，表示文本结束</span></span><br><span class=\"line\">                        <span class=\"keyword\">return</span> extracted_text</span><br><span class=\"line\">                    extracted_text += <span class=\"built_in\">chr</span>(char_code)</span><br><span class=\"line\">                    binary_text = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> extracted_text</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    <span class=\"comment\"># 指定嵌入文本的图像路径</span></span><br><span class=\"line\">    image_path = <span class=\"string\">&quot;encoded_image.png&quot;</span></span><br><span class=\"line\">    <span class=\"comment\"># 调用函数从图像中提取文本</span></span><br><span class=\"line\">    extracted_text = extract_text_from_image(image_path)</span><br><span class=\"line\">    password = <span class=\"string\">&quot;please_give_me_one_hundred_for_this_project_love_you&quot;</span></span><br><span class=\"line\">    final_text = decrypt(extracted_text,password)</span><br><span class=\"line\">    <span class=\"comment\"># 打印提取的文本</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;提取的文本：&quot;</span>,final_text)</span><br><span class=\"line\">    <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(<span class=\"string\">&quot;decode_text.txt&quot;</span>, <span class=\"string\">&quot;w&quot;</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">        <span class=\"comment\"># 写入字符串</span></span><br><span class=\"line\">        file.write(final_text)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;解码完成&quot;</span>)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"lsb_encodepy\"><a class=\"anchor\" href=\"#lsb_encodepy\">#</a> LSB_encode.py</h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> PIL <span class=\"keyword\">import</span> Image  <span class=\"comment\"># 导入PIL库中的Image模块，以便处理图像</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np  <span class=\"comment\"># 导入NumPy库并将其重命名为np，以便进行数组操作</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.primitives.ciphers <span class=\"keyword\">import</span> Cipher, algorithms, modes</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.primitives.kdf.pbkdf2 <span class=\"keyword\">import</span> PBKDF2HMAC</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.primitives <span class=\"keyword\">import</span> hashes</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.backends <span class=\"keyword\">import</span> default_backend</span><br><span class=\"line\"><span class=\"keyword\">from</span> cryptography.hazmat.primitives <span class=\"keyword\">import</span> padding</span><br><span class=\"line\"><span class=\"keyword\">import</span> base64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 定义固定的盐和IV</span></span><br><span class=\"line\">FIXED_SALT = <span class=\"string\">b&quot;fixed_salt_12345&quot;</span></span><br><span class=\"line\">FIXED_IV = <span class=\"string\">b&quot;fixed_iv_1234567&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">generate_key</span>(<span class=\"params\">password: <span class=\"built_in\">str</span>, salt: <span class=\"built_in\">bytes</span></span>) -&gt; <span class=\"built_in\">bytes</span>:</span><br><span class=\"line\">    kdf = PBKDF2HMAC(</span><br><span class=\"line\">        algorithm=hashes.SHA256(),</span><br><span class=\"line\">        length=<span class=\"number\">32</span>,</span><br><span class=\"line\">        salt=salt,</span><br><span class=\"line\">        iterations=<span class=\"number\">100000</span>,</span><br><span class=\"line\">        backend=default_backend()</span><br><span class=\"line\">    )</span><br><span class=\"line\">    <span class=\"keyword\">return</span> kdf.derive(password.encode())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">encrypt</span>(<span class=\"params\">text: <span class=\"built_in\">str</span>, password: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"built_in\">str</span>:</span><br><span class=\"line\">    key = generate_key(password, FIXED_SALT)</span><br><span class=\"line\">    cipher = Cipher(algorithms.AES(key), modes.CBC(FIXED_IV), backend=default_backend())</span><br><span class=\"line\">    encryptor = cipher.encryptor()</span><br><span class=\"line\">    padder = padding.PKCS7(algorithms.AES.block_size).padder()</span><br><span class=\"line\">    padded_data = padder.update(text.encode()) + padder.finalize()</span><br><span class=\"line\">    encrypted_data = encryptor.update(padded_data) + encryptor.finalize()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> base64.b64encode(encrypted_data).decode()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 嵌入文本到图像的RGB末尾像素点</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">embed_text_in_image</span>(<span class=\"params\">text, image_path</span>):</span><br><span class=\"line\">    <span class=\"comment\"># 打开图像文件</span></span><br><span class=\"line\">    image = Image.<span class=\"built_in\">open</span>(image_path)</span><br><span class=\"line\">    <span class=\"comment\"># 获取图像的宽度和高度</span></span><br><span class=\"line\">    width, height = image.size</span><br><span class=\"line\">    <span class=\"comment\"># 将图像数据转换为NumPy数组，以便进行像素级别的操作</span></span><br><span class=\"line\">    pixel_data = np.array(image)</span><br><span class=\"line\">    <span class=\"comment\"># 将要嵌入的文本转换为二进制形式</span></span><br><span class=\"line\">    binary_text = <span class=\"string\">&#x27;&#x27;</span>.join(<span class=\"built_in\">format</span>(<span class=\"built_in\">ord</span>(char), <span class=\"string\">&#x27;08b&#x27;</span>) <span class=\"keyword\">for</span> char <span class=\"keyword\">in</span> text) <span class=\"comment\">#08b：转换成8位二进制，不足8位的地方用0补齐</span></span><br><span class=\"line\">    <span class=\"comment\"># 检查是否文本太长以至于无法嵌入到图像中</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(binary_text) &gt; width * height * <span class=\"number\">3</span>:</span><br><span class=\"line\">        <span class=\"keyword\">raise</span> ValueError(<span class=\"string\">&quot;文本太长，无法嵌入到图像中。&quot;</span>)</span><br><span class=\"line\">    <span class=\"comment\"># 先将每个像素的RGB通道的LSB设为0</span></span><br><span class=\"line\">    pixel_data = pixel_data &amp; <span class=\"number\">0xFE</span> <span class=\"comment\">#该数是1111110，除了末尾均为1，进行&amp;后可以使末尾均为0</span></span><br><span class=\"line\">    index = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"comment\"># 迭代图像的每个像素</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(height):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(width):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">3</span>):  <span class=\"comment\"># 三个颜色通道：红、绿、蓝</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> index &lt; <span class=\"built_in\">len</span>(binary_text):</span><br><span class=\"line\">                    <span class=\"comment\"># 将文本的二进制位逐一嵌入到像素的最低有效位（LSB）</span></span><br><span class=\"line\">                    pixel_data[i][j][k] = (pixel_data[i][j][k] &amp; <span class=\"number\">0xFE</span>) | <span class=\"built_in\">int</span>(binary_text[index])</span><br><span class=\"line\">                    index += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"comment\"># 创建嵌入了文本的新图像</span></span><br><span class=\"line\">    embedded_image = Image.fromarray(pixel_data)</span><br><span class=\"line\">    <span class=\"comment\"># 将新图像保存为&quot;encoded_image.png&quot;</span></span><br><span class=\"line\">    embedded_image.save(<span class=\"string\">&quot;encoded_image.png&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    <span class=\"comment\"># 用户输入要加密并嵌入的文本</span></span><br><span class=\"line\">    original_text = <span class=\"built_in\">open</span>(<span class=\"string\">&quot;encode_text.txt&quot;</span>).read()</span><br><span class=\"line\">    password = <span class=\"string\">&quot;please_give_me_one_hundred_for_this_project_love_you&quot;</span></span><br><span class=\"line\">    coded_text = encrypt(original_text, password)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(coded_text)</span><br><span class=\"line\">    <span class=\"comment\"># 调用函数将文本嵌入到指定路径的图像中</span></span><br><span class=\"line\">    embed_text_in_image(coded_text, <span class=\"string\">&quot;encode_image.png&quot;</span>)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;写入完成&quot;</span>)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"encode_texttxt\"><a class=\"anchor\" href=\"#encode_texttxt\">#</a> encode_text.txt</h2>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Welcome <span class=\"built_in\">all</span> students to this <span class=\"string\">&quot;BITNSC2023 First Public Class and&quot;</span> Daxian Pool <span class=\"string\">&quot;Plan Recruitment&quot;</span> activity</span><br><span class=\"line\">The Cybersecurity Club <span class=\"keyword\">is</span> a technical organization guided by Professor Luo Linlin, dedicated to technological research <span class=\"keyword\">and</span> knowledge inheritance <span class=\"keyword\">in</span> the field of cyberspace security. We aim to create a capable, cultural, <span class=\"keyword\">and</span> heritage team <span class=\"keyword\">with</span> the theme of CTF competition <span class=\"keyword\">and</span> network protection.</span><br><span class=\"line\">The Cybersecurity Club consists of five departments: Office, Propaganda Department, Logistics Department, Activity Department, <span class=\"keyword\">and</span> Technical Department. Responsible <span class=\"keyword\">for</span> the management <span class=\"keyword\">and</span> operation of the club. Each department member needs to choose a department based on their strengths to join. (Note: The technical department <span class=\"keyword\">is</span> only the management organization <span class=\"keyword\">for</span> technical activities, <span class=\"keyword\">and</span> <span class=\"built_in\">all</span> department members can participate <span class=\"keyword\">in</span> technical activities)</span><br><span class=\"line\">The club will hold regular lectures like today<span class=\"string\">&#x27;s. The teaching forms are diverse and diverse, specifically divided into public lectures, summer training, and internal lectures.</span></span><br><span class=\"line\"><span class=\"string\">We focus on the development and inheritance of the club, and under the guidance of numerous experiences and teachers, we have established the &quot;Da Xian Chi&quot; program. The project aims to establish a closely connected community to promote the progress and growth of its members. The specific measures are as follows:</span></span><br><span class=\"line\"><span class=\"string\">1. All members of the Daxian Pool Planning Department will be directly assigned to a minister or deputy minister for leadership, with an average of 2-3 members led by one minister/deputy minister responsible for leading their learning and growth.</span></span><br><span class=\"line\"><span class=\"string\">2. All members of the Daxian Pool department will receive the key attention of club members, and can enjoy exclusive Q&amp;A services after each assessment, with responsible senior students leading one-on-one.</span></span><br><span class=\"line\"><span class=\"string\">3. The members of the Daxian Pool program will be given priority consideration when the club head changes in the next academic year.</span></span><br><span class=\"line\"><span class=\"string\">4. Members of the Daxian Pool program can obtain internal teaching and training qualifications.</span></span><br><span class=\"line\"><span class=\"string\">Joining method: All freshman students can participate in the Daxian Pool program. After participating in the public teaching and training, we will conduct some simple assessments. Those who pass the assessment can be selected to participate in the Daxian Pool.</span></span><br><span class=\"line\"><span class=\"string\">Let&#x27;</span>s actively join hands to participate <span class=\"keyword\">in</span> the Da Xian Pool Program <span class=\"keyword\">and</span> swim <span class=\"keyword\">in</span> the knowledge ocean of NetEase, <span class=\"string\">&quot;Da Xian Pool, the pinnacle of excellence first&quot;</span>!</span><br></pre></td></tr></table></figure></p>\n<p>## 项目思路</p>\n<p>通过学习 LSB 隐写术，我学习到了该项目的基本原理，决定用 python 来写该项目，并且设计了如下几个过程。</p>\n<ul>\n<li>我使用 decode_text.txt 来写入需要加密的字符串，然后通过将其隐藏在 encode_image.png 中并且另存为 encoded_image.png, 最后通过 LSB_decode.py 将 encoded_image.png 里隐藏的消息读取出来并进行解密，再输出到 decode_text.txt 中。<br />\n## 字符串加解密代码</li>\n</ul>\n<p>该工具使用 AES 算法对字符串进行加密和解密。工具要求用户提供一个字符串和一个密钥即可进行加解密操作。</p>\n<h2 id=\"特性\"><a class=\"anchor\" href=\"#特性\">#</a> 特性</h2>\n<ul>\n<li>使用固定的盐和初始向量，确保加解密操作一致。</li>\n<li>基于 AES 算法和 CBC 模式，保证数据安全性。</li>\n<li>使用 PKCS7 填充，处理任意长度的字符串。</li>\n</ul>\n<h2 id=\"安装\"><a class=\"anchor\" href=\"#安装\">#</a> 安装</h2>\n<p>在使用该工具之前，需要安装 <code>cryptography</code>  库。可以使用以下命令进行安装：</p>\n<p><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">bash</span></span><br><span class=\"line\"><span class=\"keyword\"></span>pip <span class=\"keyword\">install </span>cryptography</span><br></pre></td></tr></table></figure></p>\n<p>加密思路：</p>\n<ul>\n<li>1. 生成密钥：通过 PBKDF2HMAC 方法，使用用户提供的密码和固定的盐生成一个 32 字节长的密钥。</li>\n<li>2. 创建加密器：使用 AES 算法和 CBC 模式，并结合生成的密钥和固定的初始向量（IV）创建一个加密器。</li>\n<li>3. 填充数据：使用 PKCS7 填充方法将明文数据填充到适合 AES 块大小的长度。</li>\n<li>4. 加密数据：将填充后的数据进行 AES 加密操作。</li>\n<li>5. 编码结果：将加密后的数据进行 Base64 编码，以便生成字符串格式的密文。</li>\n</ul>\n<p>解密思路：</p>\n<ul>\n<li>1. 生成密钥：通过 PBKDF2HMAC 方法，使用用户提供的密码和固定的盐生成一个 32 字节长的密钥。</li>\n<li>2. 创建解密器：使用 AES 算法和 CBC 模式，并结合生成的密钥和固定的初始向量（IV）创建一个解密器。</li>\n<li>3. 解码数据：将 Base64 编码的密文解码为二进制数据。</li>\n<li>4. 解密数据：将解码后的数据进行 AES 解密操作。</li>\n<li>5. 去除填充：使用 PKCS7 方法去除填充数据，恢复原始明文。</li>\n</ul>\n<p>## 对于加密程序</p>\n<ul>\n<li>1. 我们需要在 encode_text.txt 里写入自己想要隐藏的文本，随后在\tLSB_encode.py 中通过 <code>original_text = open(&quot;encode_text.txt&quot;).read()</code>  这串代码读入。</li>\n<li>2. 我使用了<br />\n if len (binary_text) &gt; width * height * 3:<br />\nraise \tValueError (&quot; 文本太长，无法嵌入到图像中。)</li>\n</ul>\n<p>这个程序来判断写入的字符串是否超出图片限制，如果超出，则返回报错。</p>\n<ul>\n<li>3. 之后我先将 RGB 三通道以 8 个二进制数为一组，每个像素通道的末尾数均使用 <code>  pixel_data = pixel_data &amp; 0xFE</code>  函数来设置成 0. 这样可以使信息写入更加方便，同时也为信息的读取增加便利。</li>\n<li>4. 最后将加密后的二进制字符串写入图片 RGB 通道中。</li>\n</ul>\n<p>## 对于解密程序</p>\n<ul>\n<li>1. 然后我们再在像素中提取 LSB，构建二进制文本，由于前面我们使得所有末尾字符都为 0，<strong>所以当我们读到一个为 00000000 的八位二进制数时即代表读取结束</strong></li>\n<li>2. 把读取的文本转为十进制，然后代入解密程序<em> shift_decrypt (decrypted_text)</em>，得到最终的字符串，将其输出出来，并创建一个名为 decode_text.txt 的文档来存储它。</li>\n</ul>\n<p>## 小结<br />\n在本次大作业中，我通过深入研究 LSB 隐写术，成功地设计和实现了一个文本加密和嵌入系统，以及相应的解密程序。以下是本次大作业的主要要点：</p>\n<ul>\n<li>1. 加密程序设计： 我首先创建了一个加密程序，允许我指定要隐藏的文本，并对文本进行多次位移加密。这个多重加密策略增加了文本的安全性，使其更难以破解。</li>\n<li>2. 文本嵌入到图像中： 我将加密后的文本巧妙地嵌入到图像的 RGB 通道的 LSB 中，确保每个像素的 LSB 都被设置为 0，以容纳文本信息。这种隐写术技术使得嵌入的信息在视觉上几乎不可察觉。</li>\n<li>3. 解密程序设计： 针对加密程序，我编写了一个解密程序，通过将文本逐一解密，然后提取和重建二进制文本，最终还原出原始文本。这个过程成功地反转了加密过程。</li>\n<li>4. 项目思路概述： 我在项目中详细描述了我的思路和设计，包括文本嵌入图像的方法、加密和解密的逻辑，以及文本的存储和提取过程。这有助于我更好地理解项目的工作原理。</li>\n<li>5. 总的来说，这次大作业为我提供了一个宝贵的学习机会，使我深入了解了 LSB 隐写术的原理和应用。通过成功地将文本隐藏在图像中并实现可靠的解密，我获得了有关加密和隐写术的实际经验。这个项目也为我未来的安全性和隐私保护领域的学习和探索奠定了坚实的基础。</li>\n</ul>\n",
            "tags": [
                "Hexo",
                "Front Matter"
            ]
        },
        {
            "id": "https://enjundu.github.io/ECEBC/redis-dict.c%20%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/",
            "url": "https://enjundu.github.io/ECEBC/redis-dict.c%20%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/",
            "title": "DICT.C源码阅读报告",
            "date_published": "2024-07-02T17:43:21.000Z",
            "content_html": "<h1 id=\"一-各函数分部解析\"><a class=\"anchor\" href=\"#一-各函数分部解析\">#</a> 一、各函数分部解析</h1>\n<ul>\n<li>\n<p>struct dictEntry 结构体：</p>\n<ol>\n<li>用于表示字典中的键值对。</li>\n<li>成员变量：</li>\n<li>void *key：键的指针。</li>\n<li>union：联合体，可以存储值的不同类型（void *val, uint64_t u64, int64_t s64, double d）。</li>\n<li>struct dictEntry *next：指向下一个相同哈希槽中的 entry 的指针。</li>\n</ol>\n</li>\n<li>\n<p>typedef struct dictEntryNoValue 结构体：</p>\n<ol>\n<li>表示字典中的无值 entry。</li>\n<li>成员变量：\n<ol>\n<li>void *key：键的指针。</li>\n<li>dictEntry *next：指向下一个相同哈希槽中的 entry 的指针。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>static dictResizeEnable dict_can_resize：</p>\n<ol>\n<li>\n<ul>\n<li>全局变量，表示字典是否允许进行大小调整的标志。</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>\n<p>static unsigned int dict_force_resize_ratio：</p>\n<ol>\n<li>全局变量，表示强制调整大小的比例阈值。</li>\n</ol>\n</li>\n<li>\n<p>哈希函数相关：</p>\n<ol>\n<li>static uint8_t dict_hash_function_seed [16]：字典哈希函数的种子。</li>\n<li>void dictSetHashFunctionSeed (uint8_t *seed)：设置哈希函数的种子。</li>\n<li>uint8_t *dictGetHashFunctionSeed (void)：获取哈希函数的种子。</li>\n<li>uint64_t dictGenHashFunction (const void *key, size_t len)：字典使用的哈希函数。</li>\n<li>uint64_t dictGenCaseHashFunction (const unsigned char *buf, size_t len)：字典使用的哈希函数，不区分大小写。</li>\n</ol>\n</li>\n<li>\n<p>字典指针位操作相关：</p>\n<ol>\n<li>#define ENTRY_PTR_MASK 7：用于掩码操作的位掩码，表示字典指针的最低 3 位。</li>\n<li>#define ENTRY_PTR_NORMAL 0 和 #define ENTRY_PTR_NO_VALUE 2：表示不同类型的字典 entry。</li>\n<li>一系列辅助函数用于判断和操作不同类型的 entry。</li>\n</ol>\n</li>\n<li>\n<p>哈希表相关函数：</p>\n<ol>\n<li>_dictExpandIfNeeded (dict *d)：如果需要，扩展字典的哈希表大小的内部函数。</li>\n<li>_dictNextExp (unsigned long size)：返回大于等于给定大小的最小的 2 的整数次幂的对数的函数。</li>\n<li>_dictInit (dict *d, dictType *type)：初始化字典的内部函数。</li>\n</ol>\n</li>\n<li>\n<p>API 实现相关：</p>\n<ol>\n<li>_dictReset (dict *d, int htidx)：重置已使用 _dictInit () 初始化的哈希表参数。</li>\n<li>dictCreate (dictType *type)：创建一个新的哈希表。</li>\n<li>dictCreateMultiple (dictType *type, int count)：创建包含多个字典的数组。</li>\n<li>int _dictInit (dict *d, dictType *type)：初始化哈希表。</li>\n<li>int dictResize (dict *d)：调整表的大小，使其包含所有元素，且满足 USED/BUCKETS 比率接近 &lt;= 1 的不变式。</li>\n</ol>\n</li>\n<li>\n<p>int _dictExpand(dict *d, unsigned long size, int *malloc_failed)：</p>\n<ol>\n<li>这个函数用于扩展或创建哈希表，增加或初始化新的哈希表。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>size：新的哈希表大小。</li>\n<li>malloc_failed：如果为非空指针，则在分配内存失败时设置为 1。</li>\n</ol>\n</li>\n<li>返回值：\n<ol>\n<li>如果执行成功，返回 DICT_OK；否则返回 DICT_ERR。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>int dictExpand(dict *d, unsigned long size)：</p>\n<ol>\n<li>对外部接口的封装，用于扩展字典的哈希表。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>size：新的哈希表大小。</li>\n</ol>\n</li>\n<li>返回值：\n<ol>\n<li>如果执行成功，返回 DICT_OK；否则返回 DICT_ERR。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>int dictTryExpand(dict *d, unsigned long size)：</p>\n<ol>\n<li>对外部接口的封装，用于尝试扩展字典的哈希表，当内存分配失败时返回 DICT_ERR。\n<ol>\n<li>参数：</li>\n<li>d：字典。</li>\n<li>size：新的哈希表大小。</li>\n</ol>\n</li>\n<li>返回值：\n<ol>\n<li>如果内存分配失败，返回 DICT_ERR；否则返回 DICT_OK。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>int dictRehash(dict *d, int n)：</p>\n<ol>\n<li>执行 N 步的增量重新哈希。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>n：步数。</li>\n</ol>\n</li>\n<li>返回值：\n<ol>\n<li>如果还有从旧哈希表移动到新哈希表的键，则返回 1；否则返回 0。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>long long timeInMilliseconds(void)：</p>\n<ol>\n<li>返回当前时间戳，以毫秒为单位。</li>\n</ol>\n</li>\n<li>\n<p>int dictRehashMilliseconds(dict *d, unsigned int ms)：</p>\n<ol>\n<li>在指定的时间内（毫秒为单位）执行重新哈希。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>ms：指定的时间（毫秒）。</li>\n</ol>\n</li>\n<li>返回值：\n<ol>\n<li>返回实际进行的重新哈希步数。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>void _dictRehashStep(dict *d)：</p>\n<ol>\n<li>执行一步的增量重新哈希，仅在哈希表的重新哈希未暂停时执行。</li>\n</ol>\n</li>\n<li>\n<p>int dictAdd(dict *d, void *key, void *val)：</p>\n<ol>\n<li>向字典中添加键值对。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>key：键。</li>\n<li>val：值。</li>\n</ol>\n</li>\n<li>返回值：\n<ol>\n<li>如果成功，返回 DICT_OK；否则返回 DICT_ERR。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>dictEntry *dictAddRaw(dict *d, void *key, dictEntry **existing)：</p>\n<ol>\n<li>低级别的添加或查找函数，返回一个指向新键的 dictEntry 结构体。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>key：键。</li>\n<li>existing：如果键已经存在，则存储现有条目的指针。</li>\n</ol>\n</li>\n<li>返回值：\n<ol>\n<li>如果键已经存在，返回 NULL；否则返回指向新键的 dictEntry 结构体。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>dictEntry *dictInsertAtPosition(dict *d, void *key, void *position)：</p>\n<ol>\n<li>在指定位置插入键，该位置通常由 dictFindPositionForInsert 函数返回。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>key：键。</li>\n<li>position：插入位置。</li>\n</ol>\n</li>\n<li>返回值：\n<ol>\n<li>返回指向新键的 dictEntry 结构体。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>int dictReplace(dict *d, void *key, void *val)：</p>\n<ol>\n<li>尝试向字典中添加一个元素。如果键不存在，dictAddRaw 将成功。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>key：要添加或替换的键。</li>\n<li>val：要设置的值。</li>\n</ol>\n</li>\n<li>返回：\n<ol>\n<li>如果添加成功，返回 1；否则，如果键已存在，则返回 0。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>dictEntry *dictAddOrFind(dict *d, void *key)：</p>\n<ol>\n<li>是 dictAddRaw 的一个版本，始终返回指定键的哈希条目，即使键已存在且无法添加。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>key：要添加或查找的键。</li>\n</ol>\n</li>\n<li>返回：\n<ol>\n<li>如果添加成功，返回新的字典条目；如果键已存在，返回已存在的字典条目。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>static dictEntry *dictGenericDelete(dict *d, const void *key, int nofree)：</p>\n<ol>\n<li>用于在字典中搜索并删除元素。这是 dictDelete () 和 dictUnlink () 的辅助函数。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>key：要删除的键。</li>\n<li>nofree：指示是否释放内存的标志。</li>\n</ol>\n</li>\n<li>返回：\n<ol>\n<li>如果找到并删除元素，返回被删除的字典条目；如果未找到，返回 NULL。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>int dictDelete(dict *ht, const void *key)：</p>\n<ol>\n<li>从字典中删除元素，成功返回 DICT_OK，否则返回 DICT_ERR。</li>\n</ol>\n</li>\n<li>\n<p>dictEntry *dictUnlink(dict *d, const void *key)：</p>\n<ol>\n<li>从字典中删除元素，但不实际释放键、值和字典条目。返回被找到并从表中解链的字典条目。</li>\n</ol>\n</li>\n<li>\n<p>void dictFreeUnlinkedEntry(dict *d, dictEntry *he)：</p>\n<ol>\n<li>用于真正释放调用 dictUnlink () 后的字典条目。</li>\n</ol>\n</li>\n<li>\n<p>int _dictClear(dict <em>d, int htidx, void(callback)(dict</em>))：</p>\n<ol>\n<li>释放字典中的所有元素。</li>\n<li>参数：\n<ol>\n<li>d：字典。</li>\n<li>htidx：要清除的哈希表索引。</li>\n<li>callback：可选的回调函数。</li>\n</ol>\n</li>\n<li>返回：\n<ol>\n<li>成功返回 DICT_OK。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>void dictRelease(dict *d)：</p>\n<ol>\n<li>清空并释放哈希表。首先通过 _dictClear 清空两个哈希表，然后释放字典结构体占用的内存。</li>\n</ol>\n</li>\n<li>\n<p>dictEntry *dictFind(dict *d, const void *key)：</p>\n<ol>\n<li>在字典中查找给定键对应的字典条目。</li>\n<li>如果字典为空，返回 NULL。</li>\n<li>如果字典正在进行 rehash，执行一步 rehash 操作。</li>\n<li>遍历两个哈希表，查找匹配的键，找到则返回对应的字典条目。</li>\n</ol>\n</li>\n<li>\n<p>void *dictFetchValue(dict *d, const void *key)：</p>\n<ol>\n<li>获取字典中给定键对应的值。</li>\n<li>调用 dictFind 查找字典条目，如果找到则返回对应的值，否则返回 NULL。</li>\n</ol>\n</li>\n<li>\n<p>dictEntry *dictTwoPhaseUnlinkFind(dict *d, const void *key, dictEntry ***plink, int *table_index)：</p>\n<ol>\n<li>在字典中查找给定键对应的字典条目，并获取该条目的前一项的指针地址（plink）和哈希表索引（table_index）。</li>\n<li>这是一种两阶段解链的操作，用于在可能的 rehash 过程中执行解链。</li>\n</ol>\n</li>\n<li>\n<p>void dictTwoPhaseUnlinkFree(dict *d, dictEntry *he, dictEntry **plink, int table_index)：</p>\n<ol>\n<li>两阶段解链并释放字典条目的函数。</li>\n<li>通过修改前一项的指针实现解链，然后释放键、值和字典条目的内存。</li>\n<li>恢复 rehash 过程。</li>\n</ol>\n</li>\n<li>\n<p>一系列用于设置和获取字典条目键值的辅助函数：</p>\n<ol>\n<li>dictSetKey、dictSetVal、dictSetSignedIntegerVal、dictSetUnsignedIntegerVal、dictSetDoubleVal 用于设置字典条目的键和值。</li>\n<li>dictIncrSignedIntegerVal、dictIncrUnsignedIntegerVal、dictIncrDoubleVal 用于自增字典条目的整数值和浮点数值。</li>\n<li>dictGetKey、dictGetVal、dictGetSignedIntegerVal、dictGetUnsignedIntegerVal、dictGetDoubleVal 用于获取字典条目的键和值。</li>\n</ol>\n</li>\n<li>\n<p>static dictEntry *dictGetNext(const dictEntry *de)：</p>\n<ol>\n<li>返回字典条目的 next 字段或 NULL，如果条目没有 next 字段则返回 NULL。</li>\n</ol>\n</li>\n<li>\n<p>static dictEntry **dictGetNextRef(dictEntry *de)：</p>\n</li>\n</ul>\n<ol>\n<li>返回指向字典条目的 next 字段的指针，或 NULL，如果条目没有 next 字段则返回 NULL。</li>\n</ol>\n<ul>\n<li>\n<p>static void dictSetNext(dictEntry *de, dictEntry *next)：</p>\n<ol>\n<li>设置字典条目的 next 字段。</li>\n</ol>\n</li>\n<li>\n<p>size_t dictMemUsage(const dict *d)：</p>\n<ol>\n<li>返回字典的内存使用，不包括键和值的大小。</li>\n</ol>\n</li>\n<li>\n<p>size_t dictEntryMemUsage(void)：</p>\n<ol>\n<li>返回字典条目的内存使用。</li>\n</ol>\n</li>\n<li>\n<p>unsigned long long dictFingerprint(dict *d)：</p>\n<ol>\n<li>生成字典的指纹，用于检测在迭代期间是否对字典进行了禁止的操作。</li>\n</ol>\n</li>\n<li>\n<p>void dictInitIterator(dictIterator *iter, dict *d)：</p>\n<ol>\n<li>初始化字典迭代器。</li>\n</ol>\n</li>\n<li>\n<p>void dictInitSafeIterator(dictIterator *iter, dict *d)：</p>\n</li>\n</ul>\n<ol>\n<li>初始化安全字典迭代器，用于在迭代过程中可能进行 rehash 操作的情况。</li>\n</ol>\n<ul>\n<li>\n<p>void dictResetIterator(dictIterator *iter)：</p>\n<ol>\n<li>重置字典迭代器。</li>\n</ol>\n</li>\n<li>\n<p>dictIterator *dictGetIterator(dict *d)：</p>\n<ol>\n<li>获取普通字典迭代器。</li>\n</ol>\n</li>\n<li>\n<p>dictIterator *dictGetSafeIterator(dict *d)：</p>\n</li>\n</ul>\n<ol>\n<li>获取安全字典迭代器，用于在迭代过程中可能进行 rehash 操作的情况。</li>\n</ol>\n<ul>\n<li>\n<p>dictEntry *dictNext(dictIterator *iter)：</p>\n<ol>\n<li>获取字典中的下一个条目。</li>\n</ol>\n</li>\n<li>\n<p>void dictReleaseIterator(dictIterator *iter)：</p>\n<ol>\n<li>释放字典迭代器。</li>\n</ol>\n</li>\n<li>\n<p>dictEntry *dictGetRandomKey(dict *d)：</p>\n<ol>\n<li>返回字典中的随机条目，用于实现随机算法。</li>\n</ol>\n</li>\n<li>\n<p>unsigned int dictGetSomeKeys(dict *d, dictEntry **des, unsigned int count)：</p>\n<ol>\n<li>从字典中获取一些随机条目，用于采样目的。</li>\n</ol>\n</li>\n<li>\n<p>static void dictDefragBucket(dictEntry **bucketref, dictDefragFunctions *defragfns)：</p>\n<ol>\n<li>使用提供的分配函数，重新分配字典条目、键和值在一个桶中的内存，以进行碎片整理。</li>\n<li>defragfns 是一个包含碎片整理分配函数的结构。</li>\n<li>dictEntry *dictGetFairRandomKey(dict *d)：</li>\n<li>类似于 dictGetRandomKey ()，但尝试确保返回元素的更好分布。</li>\n<li>通过考虑哈希表中可能由不同链长度组成的 N 个桶，选择范围内的一个随机元素，以平滑解决不同链长度的问题。</li>\n</ol>\n</li>\n<li>\n<p>static unsigned long rev(unsigned long v)：</p>\n<ol>\n<li>位反转函数，用于迭代器中。</li>\n</ol>\n</li>\n<li>\n<p>unsigned long dictScan(dict *d, unsigned long v, dictScanFunction *fn, void *privdata)：</p>\n<ol>\n<li>用于迭代字典中的元素，以确保在迭代开始和结束之间返回字典中的所有元素。</li>\n<li>通过反向游标迭代，以处理哈希表可能在迭代调用之间发生大小更改的情况。</li>\n</ol>\n</li>\n<li>\n<p>unsigned long dictScanDefrag(dict *d, unsigned long v, dictScanFunction *fn, dictDefragFunctions *defragfns, void *privdata)：</p>\n<ol>\n<li>类似于 dictScan ()，但额外使用提供的分配函数重新分配字典条目的内存。</li>\n<li>defragfns 包含用于碎片整理的分配函数。</li>\n</ol>\n</li>\n<li>\n<p>static int dictTypeExpandAllowed(dict *d)：</p>\n<ol>\n<li>检查字典类型是否允许进行扩展。</li>\n<li>如果允许扩展，且达到了扩展的条件，调用 dictExpand 进行扩展。</li>\n</ol>\n</li>\n<li>\n<p>static int _dictExpandIfNeeded(dict *d)：</p>\n<ol>\n<li>如果正在进行渐进式 rehashing，直接返回。</li>\n<li>如果哈希表为空，将其扩展到初始大小。</li>\n<li>如果达到 1:1 的比率，并且允许调整哈希表大小，或者应该避免调整但元素 / 桶的比率超过安全阈值，就以两倍的速度扩展哈希表。</li>\n</ol>\n</li>\n<li>\n<p>static signed char _dictNextExp(unsigned long size)：</p>\n<ol>\n<li>返回给定大小的下一个有效的哈希表大小的指数。哈希表的大小是 2 的幂。</li>\n</ol>\n</li>\n<li>\n<p>void *dictFindPositionForInsert(dict *d, const void *key, dictEntry **existing)：</p>\n<ol>\n<li>查找插入位置，如果键已存在，则返回 NULL 并填充 existing，否则返回桶的引用。</li>\n</ol>\n</li>\n<li>\n<p>void dictEmpty(dict <em>d, void(callback)(dict</em>))：</p>\n<ol>\n<li>清空字典，包括两个哈希表。可提供回调函数处理被删除的元素。</li>\n</ol>\n</li>\n<li>\n<p>void dictSetResizeEnabled(dictResizeEnable enable)：</p>\n<ol>\n<li>设置是否允许字典调整大小。</li>\n</ol>\n</li>\n<li>\n<p>uint64_t dictGetHash(dict *d, const void *key)：</p>\n<ol>\n<li>获取键的哈希值。</li>\n</ol>\n</li>\n<li>\n<p>dictEntry *dictFindEntryByPtrAndHash(dict *d, const void *oldptr, uint64_t hash)：</p>\n<ol>\n<li>通过指针和预计算的哈希查找字典中的条目，用于查找特定指针的元素。</li>\n</ol>\n</li>\n<li>\n<p>void dictRehashingInfo(dict *d, unsigned long long *from_size, unsigned long long *to_size)：</p>\n<ol>\n<li>提供正在进行 rehashing 的字典的旧哈希表大小和新哈希表大小信息。</li>\n<li>Debugging 相关函数：\n<ol>\n<li>void dictFreeStats (dictStats *stats)：释放字典统计信息的内存。</li>\n<li>void dictCombineStats (dictStats *from, dictStats *into)：将两个字典统计信息合并。</li>\n<li>dictStats *dictGetStatsHt (dict *d, int htidx, int full)：获取指定哈希表的统计信息。</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>size_t dictGetStatsMsg(char *buf, size_t bufsize, dictStats *stats, int full)：</p>\n<ol>\n<li>生成字典统计信息的人类可读消息。</li>\n<li>如果字典为空，返回相关提示信息。</li>\n<li>如果 full 为真，还包括详细的统计信息。</li>\n</ol>\n</li>\n<li>\n<p>void dictGetStats(char *buf, size_t bufsize, dict *d, int full)：</p>\n<ol>\n<li>获取字典的统计信息，包括主哈希表和（如果正在进行 rehashing）rehash 哈希表的信息。</li>\n</ol>\n</li>\n<li>\n<p>Benchmark 相关函数：1.</p>\n<ol>\n<li>BenchmarkDictType 结构体：定义了用于性能测试的字典类型。</li>\n<li>uint64_t hashCallback (const void *key)：哈希回调函数，计算键的哈希值。</li>\n<li>int compareCallback (dict *d, const void *key1, const void *key2)：比较回调函数，比较两个键是否相等。</li>\n<li>void freeCallback (dict *d, void *val)：释放回调函数，释放值的内存。</li>\n<li>char *stringFromLongLong (long long value)：将长长整型值转换为字符串。</li>\n<li>#define start_benchmark ()：宏定义，用于开始计时。</li>\n<li>#define end_benchmark (msg)：宏定义，用于结束计时并输出性能测试结果。</li>\n<li>int dictTest (int argc, char **argv, int flags)：主要的性能测试函数，用于测试字典的插入、访问、删除等操作的性能。</li>\n</ol>\n</li>\n</ul>\n<h1 id=\"二-dictc的主要代码思路\"><a class=\"anchor\" href=\"#二-dictc的主要代码思路\">#</a> 二、dict.c 的主要代码思路</h1>\n<h2 id=\"字典的创建和初始化\"><a class=\"anchor\" href=\"#字典的创建和初始化\">#</a> 字典的创建和初始化：</h2>\n<ul>\n<li>使用 dictCreate 函数创建一个新的字典。</li>\n<li>初始化字典的字段，包括两个哈希表、字典类型等。</li>\n<li>通过 dictSetHashFunctionSeed 设置哈希函数种子。</li>\n</ul>\n<h2 id=\"字典的扩容和-rehash\"><a class=\"anchor\" href=\"#字典的扩容和-rehash\">#</a> 字典的扩容和 rehash：</h2>\n<ul>\n<li>使用 _dictExpandIfNeeded 函数检查是否需要扩容。</li>\n<li>如果需要扩容，调用 dictExpand 进行扩容。</li>\n<li>扩容时，可能触发 rehash 操作，将原哈希表的数据逐步迁移到新哈希表。</li>\n<li>通过 _dictRehashStep 函数完成一步 rehash 操作。</li>\n<li>在 rehash 过程中，遍历原哈希表的每个桶，将其中的元素逐个迁移到新哈希表。</li>\n</ul>\n<h2 id=\"插入元素\"><a class=\"anchor\" href=\"#插入元素\">#</a> 插入元素：</h2>\n<ul>\n<li>使用 dictAdd 函数插入键值对。</li>\n<li>计算键的哈希值，找到对应的哈希桶。</li>\n<li>如果字典正在 rehash，先进行一步 rehash 操作。</li>\n<li>检查是否存在相同的键，如果存在，返回错误。</li>\n<li>创建一个新的 dictEntry，插入到哈希桶的链表中。</li>\n</ul>\n<h2 id=\"查找元素\"><a class=\"anchor\" href=\"#查找元素\">#</a> 查找元素：</h2>\n<ul>\n<li>使用 dictFind 函数查找指定键的条目。</li>\n<li>计算键的哈希值，找到对应的哈希桶。</li>\n<li>在哈希桶的链表中遍历，比较键的值找到相应的条目。</li>\n</ul>\n<h2 id=\"删除元素\"><a class=\"anchor\" href=\"#删除元素\">#</a> 删除元素：</h2>\n<ul>\n<li>使用 dictDelete 函数删除指定键的条目。</li>\n<li>计算键的哈希值，找到对应的哈希桶。</li>\n<li>在哈希桶的链表中遍历，找到并删除相应的条目。</li>\n</ul>\n<h2 id=\"迭代元素\"><a class=\"anchor\" href=\"#迭代元素\">#</a> 迭代元素 ##：</h2>\n<ul>\n<li>使用 dictGetRandomKey 函数随机获取一个键。</li>\n<li>使用 dictScan 函数迭代字典中的所有元素。</li>\n</ul>\n<h2 id=\"性能测试和统计信息\"><a class=\"anchor\" href=\"#性能测试和统计信息\">#</a> 性能测试和统计信息：</h2>\n<ul>\n<li>提供了一系列的性能测试函数，例如 dictTest，用于测试字典操作的性能。</li>\n<li>提供了函数用于获取字典的统计信息，如 dictGetStats。</li>\n</ul>\n<p><strong>总体来说，dict.c 中的代码主要围绕字典的创建、扩容、插入、查找、删除等基本操作展开，同时提供了性能测试和统计信息功能。字典的实现采用了哈希表，支持渐进式 rehash，以确保字典的高效性能。</strong></p>\n<h1 id=\"三-dictc在-redis-中的主要运用方式和作用\"><a class=\"anchor\" href=\"#三-dictc在-redis-中的主要运用方式和作用\">#</a> 三、dict.c 在 Redis 中的主要运用方式和作用#</h1>\n<h2 id=\"存储键值对\"><a class=\"anchor\" href=\"#存储键值对\">#</a> 存储键值对：</h2>\n<ul>\n<li>Redis 中的数据结构，如哈希表、有序集合等，都依赖于 dict.c 实现的字典结构。</li>\n<li>键值对是 Redis 数据模型的基础，而 dict.c 提供了高效的字典实现，用于存储这些键值对。</li>\n</ul>\n<h2 id=\"快速查找\"><a class=\"anchor\" href=\"#快速查找\">#</a> 快速查找：</h2>\n<ul>\n<li>Redis 中经常需要根据键快速查找对应的值，例如通过键获取字符串对象、获取哈希表中的字段等。</li>\n<li>dict.c 提供了高效的查找算法，使得在字典中查找元素的时间复杂度为 O (1)。</li>\n</ul>\n<h2 id=\"哈希算法\"><a class=\"anchor\" href=\"#哈希算法\">#</a> 哈希算法：</h2>\n<ul>\n<li>dict.c 中包含了用于计算键的哈希值的算法，通过哈希值将键均匀地散列到哈希表的各个桶中。</li>\n<li>这有助于保持字典的高效性能，减少哈希冲突的可能性。</li>\n</ul>\n<h2 id=\"动态扩容和-rehash\"><a class=\"anchor\" href=\"#动态扩容和-rehash\">#</a> 动态扩容和 rehash：</h2>\n<ul>\n<li>dict.c 提供了动态扩容的机制，当字典中的元素数量增加时，自动调整哈希表的大小以保持性能。</li>\n<li>在扩容时，dict.c 还实现了渐进式 rehash，逐步将数据从旧哈希表迁移到新哈希表，避免了一次性大规模的数据迁移。</li>\n</ul>\n<h2 id=\"迭代器支持\"><a class=\"anchor\" href=\"#迭代器支持\">#</a> 迭代器支持：</h2>\n<ul>\n<li>dict.c 提供了字典的迭代器，支持按顺序或随机遍历字典中的元素。</li>\n<li>迭代器的实现使得在 Redis 中可以轻松地实现像 HSCAN 这样的命令。</li>\n</ul>\n<h2 id=\"统计信息和性能测试\"><a class=\"anchor\" href=\"#统计信息和性能测试\">#</a> 统计信息和性能测试：</h2>\n<ul>\n<li>dict.c 提供了获取字典统计信息的功能，这对于监控和调优 Redis 实例至关重要。</li>\n<li>性能测试函数，如 dictTest，用于验证字典操作的性能。</li>\n</ul>\n<h2 id=\"在-redis-服务器中的引用\"><a class=\"anchor\" href=\"#在-redis-服务器中的引用\">#</a> 在 Redis 服务器中的引用：</h2>\n<ul>\n<li>Redis 服务器的核心功能，包括数据存储、命令执行等，都依赖于字典结构。</li>\n<li>在 Redis 服务器的核心源码中，大量引用了 dict.c 中提供的字典操作函数，确保数据的高效存储和检索。</li>\n</ul>\n<h2 id=\"在-redis-模块中的引用\"><a class=\"anchor\" href=\"#在-redis-模块中的引用\">#</a> 在 Redis 模块中的引用：</h2>\n<ul>\n<li>Redis 允许用户通过编写模块扩展其功能，而许多模块也需要使用字典结构来管理自己的数据。</li>\n<li>模块开发者可以直接引用 dict.c 中的字典实现，以方便地处理键值对数据。</li>\n</ul>\n<p><strong>总体来说，dict.c 在 Redis 中扮演了关键的角色，为 Redis 提供了高效的键值对存储和检索能力，是 Redis 数据库引擎的重要组成部分。</strong></p>\n",
            "tags": [
                "Hexo",
                "Front Matter"
            ]
        },
        {
            "id": "https://enjundu.github.io/ECEBC/Request%E9%98%85%E8%AF%BB%E6%8A%A5%E5%91%8A/",
            "url": "https://enjundu.github.io/ECEBC/Request%E9%98%85%E8%AF%BB%E6%8A%A5%E5%91%8A/",
            "title": "Request阅读报告",
            "date_published": "2024-07-02T17:41:31.000Z",
            "content_html": "<h1 id=\"requests-html-项目阅读报告\"><a class=\"anchor\" href=\"#requests-html-项目阅读报告\">#</a> Requests-HTML 项目阅读报告</h1>\n<h2 id=\"项目概述\"><a class=\"anchor\" href=\"#项目概述\">#</a> 项目概述</h2>\n<p><strong>requests-html</strong> 是一个用于简化 HTML 解析和网页抓取的 Python 库。它通过结合 requests 库的简单和强大，与<strong> pyquery、beautifulsoup4 和 lxml</strong> 等工具进行二次封装，提供了一个直观的 API，使得网页抓取和 HTML 解析变得更容易。该库不仅支持同步请求，还支持异步请求，能够处理由 JavaScript 驱动的动态内容。</p>\n<h2 id=\"关键特性\"><a class=\"anchor\" href=\"#关键特性\">#</a> 关键特性</h2>\n<ul>\n<li><strong>完整的 JavaScript 支持</strong>：通过 pyppeteer 支持渲染和解析由 JavaScript 动态生成的内容。</li>\n<li><strong>CSS 选择器</strong>：使用 pyquery 提供类似 jQuery 的选择器语法，方便选择 HTML 元素。</li>\n<li><strong>XPath 选择器</strong>：提供对 XPath 的支持，方便使用 XPath 语法选择元素。</li>\n<li><strong>模拟用户代理</strong>：模拟真实的浏览器用户代理，避免被反爬虫机制检测到。</li>\n<li><strong>自动重定向</strong>：自动处理 HTTP 重定向，保持会话的连续性。</li>\n<li><strong>连接池和 Cookie 持久化</strong>：高效的连接处理，保持会话中的 Cookie 持久化。</li>\n<li><strong>异步支持</strong>：允许异步的 HTTP 请求和渲染，提升爬虫的效率。</li>\n</ul>\n<h2 id=\"安装\"><a class=\"anchor\" href=\"#安装\">#</a> 安装</h2>\n<p>根据<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZXF1ZXN0cy1odG1sLmtlbm5ldGhyZWl0ei5vcmcv\"> requests-html 项目文档</span>可知安装方法为：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pipenv install requests-html</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>仅支持 python3.6 版本 ——Only <strong>Python 3.6</strong> is supported.</li>\n</ul>\n<h2 id=\"设计思路\"><a class=\"anchor\" href=\"#设计思路\">#</a> 设计思路</h2>\n<p>requests-html 设计的核心思想是将常见的 HTML 解析和网页抓取任务简化为直观且强大的 API 操作。它通过结合现有的流行库（如 requests、pyquery、beautifulsoup4 和 lxml），增强了处理复杂网页抓取任务的能力。其主要设计理念包括：</p>\n<ul>\n<li><strong>统一接口</strong>：提供一个统一的接口来处理 HTTP 请求、HTML 解析和 JavaScript 渲染。</li>\n<li><strong>异步支持</strong>：允许用户以异步方式处理网页抓取任务，提高了效率。</li>\n<li><strong>模拟浏览器行为</strong>：通过模拟用户代理和处理重定向，使其行为更像真实浏览器。</li>\n<li><strong>全面的选择器支持</strong>：结合 CSS 和 XPath 选择器，使用户可以灵活地选择和解析 HTML 元素。</li>\n</ul>\n<h2 id=\"源代码分析核心类和函数\"><a class=\"anchor\" href=\"#源代码分析核心类和函数\">#</a> 源代码分析 (核心类和函数)</h2>\n<h3 id=\"htmlsession\"><a class=\"anchor\" href=\"#htmlsession\">#</a> HTMLSession</h3>\n<h4 id=\"用于同步请求的会话类继承自-requestssession\"><a class=\"anchor\" href=\"#用于同步请求的会话类继承自-requestssession\">#</a> 用于同步请求的会话类，继承自 requests.Session。</h4>\n<ul>\n<li><strong>get(url, **kwargs)</strong>：发送 GET 请求，返回 HTMLResponse 对象。</li>\n<li><strong>close()</strong>：关闭会话并关闭浏览器。</li>\n</ul>\n<h3 id=\"asynchtmlsession\"><a class=\"anchor\" href=\"#asynchtmlsession\">#</a> AsyncHTMLSession</h3>\n<h4 id=\"用于异步请求的会话类继承自-requestssession\"><a class=\"anchor\" href=\"#用于异步请求的会话类继承自-requestssession\">#</a> 用于异步请求的会话类，继承自 <strong>requests.Session</strong>。</h4>\n<ul>\n<li><strong>run(*coros)</strong>：运行多个协程，返回结果列表。</li>\n<li><strong>close()</strong>：关闭会话并关闭浏览器。</li>\n</ul>\n<h3 id=\"html\"><a class=\"anchor\" href=\"#html\">#</a> HTML</h3>\n<h4 id=\"表示一个-html-文档提供解析功能\"><a class=\"anchor\" href=\"#表示一个-html-文档提供解析功能\">#</a> 表示一个 HTML 文档，提供解析功能。</h4>\n<ul>\n<li><strong>find(selector,*, containing=None, clean=False, first=False)</strong>：使用 CSS 选择器查找元素。</li>\n<li><strong>xpath(selector, *, clean=False, first=False)</strong>：使用 XPath 选择器查找元素。</li>\n<li><strong>render(**kwargs)</strong>：渲染 JavaScript 内容。</li>\n<li><strong>next(fetch=False, next_symbol=None)</strong>：查找分页链接。</li>\n</ul>\n<h3 id=\"element\"><a class=\"anchor\" href=\"#element\">#</a> Element</h3>\n<h4 id=\"表示一个-html-元素继承自-baseparser\"><a class=\"anchor\" href=\"#表示一个-html-元素继承自-baseparser\">#</a> 表示一个 HTML 元素，继承自 BaseParser。</h4>\n<ul>\n<li><strong>attrs</strong>：返回元素的属性字典。</li>\n<li><strong>text</strong>：返回元素的文本内容。</li>\n<li><strong>full_text</strong>：返回元素的完整文本内容。</li>\n</ul>\n<h2 id=\"设置和配置\"><a class=\"anchor\" href=\"#设置和配置\">#</a> 设置和配置</h2>\n<h3 id=\"setuppy\"><a class=\"anchor\" href=\"#setuppy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3NldHVwLnB5\">setup.py</span> 文件包含项目的元数据和依赖项：</h3>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setup(</span><br><span class=\"line\">name=<span class=\"string\">&#x27;requests-html&#x27;</span>,</span><br><span class=\"line\">version=<span class=\"string\">&#x27;0.10.0&#x27;</span>,</span><br><span class=\"line\">description=<span class=\"string\">&#x27;HTML Parsing for Humans.&#x27;</span>,</span><br><span class=\"line\">author=<span class=\"string\">&#x27;Kenneth Reitz&#x27;</span>,</span><br><span class=\"line\">author_email=<span class=\"string\">&#x27;me@kennethreitz.org&#x27;</span>,</span><br><span class=\"line\">url=<span class=\"string\">&#x27;https://github.com/psf/requests-html&#x27;</span>,</span><br><span class=\"line\">python_requires=<span class=\"string\">&#x27;&gt;=3.6.0&#x27;</span>,</span><br><span class=\"line\">install_requires=[</span><br><span class=\"line\">\t<span class=\"string\">&#x27;requests&#x27;</span>, <span class=\"string\">&#x27;pyquery&#x27;</span>, <span class=\"string\">&#x27;fake-useragent&#x27;</span>, <span class=\"string\">&#x27;parse&#x27;</span>, <span class=\"string\">&#x27;beautifulsoup4&#x27;</span>, <span class=\"string\">&#x27;w3lib&#x27;</span>, <span class=\"string\">&#x27;pyppeteer&gt;=0.0.14&#x27;</span></span><br><span class=\"line\">],</span><br><span class=\"line\">packages=[<span class=\"string\">&#x27;requests_html&#x27;</span>],</span><br><span class=\"line\">license=<span class=\"string\">&#x27;MIT&#x27;</span>,</span><br><span class=\"line\">classifiers=[</span><br><span class=\"line\">\t<span class=\"string\">&#x27;License :: OSI Approved :: MIT License&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;Programming Language :: Python :: 3.6&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;Programming Language :: Python :: Implementation :: CPython&#x27;</span>,</span><br><span class=\"line\">],</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"测试\"><a class=\"anchor\" href=\"#测试\">#</a> 测试</h3>\n<p>项目包含同步和异步操作的测试，确保分页、属性提取和 JavaScript 渲染的健壮性。例如：</p>\n<h4 id=\"同步分页测试\"><a class=\"anchor\" href=\"#同步分页测试\">#</a> 同步分页测试</h4>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pytest</span><br><span class=\"line\"><span class=\"keyword\">from</span> requests_html <span class=\"keyword\">import</span> HTMLSession</span><br><span class=\"line\"></span><br><span class=\"line\">urls = [</span><br><span class=\"line\"><span class=\"string\">&#x27;https://xkcd.com/1957/&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;https://www.reddit.com/&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;https://github.com/psf/requests-html/issues&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;https://discord.com/category/engineering&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;https://stackoverflow.com/&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;https://www.frontiersin.org/&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;https://azure.microsoft.com/en-us&#x27;</span></span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@pytest.mark.parametrize(<span class=\"params\"><span class=\"string\">&#x27;url&#x27;</span>, urls</span>)</span></span><br><span class=\"line\"><span class=\"meta\">@pytest.mark.internet</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">test_pagination</span>(<span class=\"params\">url: <span class=\"built_in\">str</span></span>):</span><br><span class=\"line\">\tsession = HTMLSession()</span><br><span class=\"line\">\tr = session.get(url)</span><br><span class=\"line\">\t<span class=\"keyword\">assert</span> <span class=\"built_in\">next</span>(r.html)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"异步分页测试\"><a class=\"anchor\" href=\"#异步分页测试\">#</a> 异步分页测试</h4>\n<pre><code>import pytest\nfrom requests_html import AsyncHTMLSession\n\nurls = [\n\t'https://xkcd.com/1957/',\n\t'https://www.reddit.com/',\n\t'https://github.com/psf/requests-html/issues',\n\t'https://discord.com/category/engineering',\n\t'https://stackoverflow.com/',\n\t'https://www.frontiersin.org/',\n\t'https://azure.microsoft.com/en-us'\n]\n\n@pytest.mark.parametrize('url', urls)\n@pytest.mark.internet\n@pytest.mark.asyncio\nasync def test_async_pagination(event_loop, url):\n\tasession = AsyncHTMLSession()\n\tr = await asession.get(url)\n\tassert await r.html.__anext__()\n</code></pre>\n<h4 id=\"文件请求测试\"><a class=\"anchor\" href=\"#文件请求测试\">#</a> 文件请求测试</h4>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">from</span> requests_html <span class=\"keyword\">import</span> HTMLSession</span><br><span class=\"line\"></span><br><span class=\"line\">session = HTMLSession()</span><br><span class=\"line\">session.mount(<span class=\"string\">&#x27;file://&#x27;</span>, FileAdapter())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">get</span>():</span><br><span class=\"line\">\tpath = os.path.sep.join((os.path.dirname(os.path.abspath(__file__)), <span class=\"string\">&#x27;python.html&#x27;</span>))</span><br><span class=\"line\">\turl = <span class=\"string\">f&#x27;file://<span class=\"subst\">&#123;path&#125;</span>&#x27;</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> session.get(url)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">test_file_get</span>():</span><br><span class=\"line\">\tr = get()</span><br><span class=\"line\">\t<span class=\"keyword\">assert</span> r.status_code == <span class=\"number\">200</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"文档配置\"><a class=\"anchor\" href=\"#文档配置\">#</a> 文档配置</h3>\n<h4 id=\"confpy\"><a class=\"anchor\" href=\"#confpy\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL2NvbmYucHk=\">conf.py</span> 文件设置了 Sphinx 文档，包括扩展和项目信息：</h4>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> requests_html</span><br><span class=\"line\"></span><br><span class=\"line\">project = <span class=\"string\">&#x27;requests-HTML&#x27;</span></span><br><span class=\"line\">author = <span class=\"string\">&#x27;Kenneth Reitz&#x27;</span></span><br><span class=\"line\">version = <span class=\"string\">&#x27;v0.3.4&#x27;</span></span><br><span class=\"line\">extensions = [</span><br><span class=\"line\">\t<span class=\"string\">&#x27;sphinx.ext.autodoc&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;sphinx.ext.doctest&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;sphinx.ext.intersphinx&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;sphinx.ext.todo&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;sphinx.ext.coverage&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;sphinx.ext.viewcode&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"string\">&#x27;sphinx.ext.githubpages&#x27;</span>,</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"使用方法\"><a class=\"anchor\" href=\"#使用方法\">#</a> 使用方法</h2>\n<h3 id=\"同步请求\"><a class=\"anchor\" href=\"#同步请求\">#</a> 同步请求</h3>\n<ul>\n<li>\n<p>向 <span class=\"exturl\" data-url=\"aHR0cDovL3B5dGhvbi5vcmc=\">python.org</span> 发起同步 GET 请求并提取链接：<br />\nfrom requests_html import HTMLSession</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">session = HTMLSession()</span><br><span class=\"line\">r = session.get(<span class=\"string\">&#x27;https://python.org/&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提取所有链接</span></span><br><span class=\"line\">links = r.html.links</span><br><span class=\"line\"><span class=\"built_in\">print</span>(links)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提取绝对链接</span></span><br><span class=\"line\">absolute_links = r.html.absolute_links</span><br><span class=\"line\"><span class=\"built_in\">print</span>(absolute_links)</span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>示例结果为：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"string\">&#x27;//docs.python.org/3/tutorial/&#x27;</span>, <span class=\"string\">&#x27;/about/apps/&#x27;</span>, <span class=\"string\">&#x27;https://github.com/python/pythondotorg/issues&#x27;</span>, ...&#125;</span><br><span class=\"line\">&#123;<span class=\"string\">&#x27;https://docs.python.org/3/tutorial/&#x27;</span>, <span class=\"string\">&#x27;https://www.python.org/about/apps/&#x27;</span>, <span class=\"string\">&#x27;https://github.com/python/pythondotorg/issues&#x27;</span>, ...&#125;</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h3 id=\"异步请求\"><a class=\"anchor\" href=\"#异步请求\">#</a> 异步请求</h3>\n<ul>\n<li>\n<p>通过 requests_html 库发起异步 GET 请求并运行多个协程：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> requests_html <span class=\"keyword\">import</span> AsyncHTMLSession</span><br><span class=\"line\">\tasession = AsyncHTMLSession()</span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"keyword\">def</span> <span class=\"title function_\">get_python</span>():  </span><br><span class=\"line\">\t  r = <span class=\"keyword\">await</span> asession.get(<span class=\"string\">&#x27;https://python.org/&#x27;</span>)  </span><br><span class=\"line\">\t  <span class=\"keyword\">return</span> r  </span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"keyword\">async</span> <span class=\"keyword\">def</span> <span class=\"title function_\">get_reddit</span>():</span><br><span class=\"line\">\t  r = <span class=\"keyword\">await</span> asession.get(<span class=\"string\">&#x27;https://reddit.com/&#x27;</span>)</span><br><span class=\"line\">\t  <span class=\"keyword\">return</span> r </span><br><span class=\"line\">\tresults = asession.run(get_python, get_reddit)</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> result <span class=\"keyword\">in</span> results:</span><br><span class=\"line\">  <span class=\"built_in\">print</span>(result.html.url)  </span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>异步请求结果示例</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://www.python.org/  </span><br><span class=\"line\">https://www.reddit.com/</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h3 id=\"解析html\"><a class=\"anchor\" href=\"#解析html\">#</a> 解析 HTML</h3>\n<ul>\n<li>\n<p>选择元素并提取属性</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">r = session.get(<span class=\"string\">&#x27;https://python.org/&#x27;</span>)</span><br><span class=\"line\">about = r.html.find(<span class=\"string\">&#x27;#about&#x27;</span>, first=<span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提取文本</span></span><br><span class=\"line\">text = about.text</span><br><span class=\"line\"><span class=\"built_in\">print</span>(text)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提取属性</span></span><br><span class=\"line\">attributes = about.attrs</span><br><span class=\"line\"><span class=\"built_in\">print</span>(attributes)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 渲染 HTML</span></span><br><span class=\"line\">html_content = about.html</span><br><span class=\"line\"><span class=\"built_in\">print</span>(html_content)</span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>解析 HTML 结果示例</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">About</span><br><span class=\"line\">Applications</span><br><span class=\"line\">Quotes</span><br><span class=\"line\">Getting Started</span><br><span class=\"line\">Help</span><br><span class=\"line\">Python Brochure</span><br><span class=\"line\">&#123;<span class=\"string\">&#x27;id&#x27;</span>: <span class=\"string\">&#x27;about&#x27;</span>, <span class=\"string\">&#x27;class&#x27;</span>: (<span class=\"string\">&#x27;tier-1&#x27;</span>, <span class=\"string\">&#x27;element-1&#x27;</span>), <span class=\"string\">&#x27;aria-haspopup&#x27;</span>: <span class=\"string\">&#x27;true&#x27;</span>&#125;</span><br><span class=\"line\">&lt;li aria-haspopup=<span class=\"string\">&quot;true&quot;</span> <span class=\"keyword\">class</span>=<span class=\"string\">&quot;tier-1 element-1 &quot;</span> <span class=\"built_in\">id</span>=<span class=\"string\">&quot;about&quot;</span>&gt;\\n&lt;a <span class=\"keyword\">class</span>=<span class=\"string\">&quot;&quot;</span> href=<span class=\"string\">&quot;/about/&quot;</span> title=<span class=\"string\">&quot;&quot;</span>&gt;About&lt;/a&gt;\\n&lt;ul aria-hidden=<span class=\"string\">&quot;true&quot;</span> <span class=\"keyword\">class</span>=<span class=\"string\">&quot;subnav menu&quot;</span> role=<span class=\"string\">&quot;menu&quot;</span>&gt;\\n&lt;li <span class=\"keyword\">class</span>=<span class=\"string\">&quot;tier-2 element-1&quot;</span> role=<span class=\"string\">&quot;treeitem&quot;</span>&gt;&lt;a href=<span class=\"string\">&quot;/about/apps/&quot;</span> title=<span class=\"string\">&quot;&quot;</span>&gt;Applications&lt;/a&gt;&lt;/li&gt;\\n&lt;li <span class=\"keyword\">class</span>=<span class=\"string\">&quot;tier-2 element-2&quot;</span> role=<span class=\"string\">&quot;treeitem&quot;</span>&gt;&lt;a href=<span class=\"string\">&quot;/about/quotes/&quot;</span> title=<span class=\"string\">&quot;&quot;</span>&gt;Quotes&lt;/a&gt;&lt;/li&gt;\\n&lt;li <span class=\"keyword\">class</span>=<span class=\"string\">&quot;tier-2 element-3&quot;</span> role=<span class=\"string\">&quot;treeitem&quot;</span>&gt;&lt;a href=<span class=\"string\">&quot;/about/gettingstarted/&quot;</span> title=<span class=\"string\">&quot;&quot;</span>&gt;Getting Started&lt;/a&gt;&lt;/li&gt;\\n&lt;li <span class=\"keyword\">class</span>=<span class=\"string\">&quot;tier-2 element-4&quot;</span> role=<span class=\"string\">&quot;treeitem&quot;</span>&gt;&lt;a href=<span class=\"string\">&quot;/about/help/&quot;</span> title=<span class=\"string\">&quot;&quot;</span>&gt;Help&lt;/a&gt;&lt;/li&gt;\\n&lt;li <span class=\"keyword\">class</span>=<span class=\"string\">&quot;tier-2 element-5&quot;</span> role=<span class=\"string\">&quot;treeitem&quot;</span>&gt;&lt;a href=<span class=\"string\">&quot;http://brochure.getpython.info/&quot;</span> title=<span class=\"string\">&quot;&quot;</span>&gt;Python Brochure&lt;/a&gt;&lt;/li&gt;\\n&lt;/ul&gt;\\n&lt;/li&gt;</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h3 id=\"xpath选择器\"><a class=\"anchor\" href=\"#xpath选择器\">#</a> XPath 选择器</h3>\n<ul>\n<li>\n<p>提取 html 指定元素的 XPath</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">r = session.get(<span class=\"string\">&#x27;https://python.org/&#x27;</span>)</span><br><span class=\"line\">about = r.html.xpath(<span class=\"string\">&#x27;//div[@id=&quot;about&quot;]&#x27;</span>, first=<span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提取文本</span></span><br><span class=\"line\">text = about.text</span><br><span class=\"line\"><span class=\"built_in\">print</span>(text)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提取属性</span></span><br><span class=\"line\">attributes = about.attrs</span><br><span class=\"line\"><span class=\"built_in\">print</span>(attributes)</span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>XPath 选择器结果示例：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">About</span><br><span class=\"line\">Applications</span><br><span class=\"line\">Quotes</span><br><span class=\"line\">Getting Started</span><br><span class=\"line\">Help</span><br><span class=\"line\">Python Brochure</span><br><span class=\"line\">&#123;<span class=\"string\">&#x27;id&#x27;</span>: <span class=\"string\">&#x27;about&#x27;</span>, <span class=\"string\">&#x27;class&#x27;</span>: (<span class=\"string\">&#x27;tier-1&#x27;</span>, <span class=\"string\">&#x27;element-1&#x27;</span>), <span class=\"string\">&#x27;aria-haspopup&#x27;</span>: <span class=\"string\">&#x27;true&#x27;</span>&#125;</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h3 id=\"渲染-javascript-内容\"><a class=\"anchor\" href=\"#渲染-javascript-内容\">#</a> 渲染 JavaScript 内容</h3>\n<ul>\n<li>\n<p>示例代码：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">r = session.get(<span class=\"string\">&#x27;http://python-requests.org/&#x27;</span>)</span><br><span class=\"line\">r.html.render()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 搜索渲染后的内容</span></span><br><span class=\"line\">months = r.html.search(<span class=\"string\">&#x27;Python 2 will retire in only &#123;months&#125; months!&#x27;</span>)[<span class=\"string\">&#x27;months&#x27;</span>]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(months)</span><br></pre></td></tr></table></figure></p>\n</li>\n<li>\n<p>结果示例：</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">25</span></span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h3 id=\"处理分页\"><a class=\"anchor\" href=\"#处理分页\">#</a> 处理分页</h3>\n<ul>\n<li>\n<p>代码示例</p>\n<p>r = session.get('<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yZWRkaXQuY29t\">https://reddit.com</span>')<br />\nfor html in r.html:<br />\nprint(html)</p>\n</li>\n<li>\n<p>结果示例</p>\n<p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;HTML url=<span class=\"string\">&#x27;https://www.reddit.com/&#x27;</span>&gt;</span><br><span class=\"line\">&lt;HTML url=<span class=\"string\">&#x27;https://www.reddit.com/?count=25&amp;after=t3_81puu5&#x27;</span>&gt;</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h2 id=\"结论\"><a class=\"anchor\" href=\"#结论\">#</a> 结论</h2>\n<p>requests-html 是一个功能强大且易于使用的库，通过集成 JavaScript 渲染和异步请求，扩展了传统 HTML 解析和网页抓取的能力。它与 requests 库的无缝集成，使其成为处理复杂网页抓取任务的绝佳选择。无论是处理简单的静态页面还是复杂的动态内容，requests-html 都提供了一个直观且高效的解决方案。</p>\n<h2 id=\"项目心得\"><a class=\"anchor\" href=\"#项目心得\">#</a> 项目心得</h2>\n<p>在这个项目中，我深入研究了 requests-html 库，并对其功能和设计进行了详细分析和实践。通过这个项目，我不仅熟悉了 requests-html 的使用方法，还掌握了一些高级的网页抓取技巧。</p>\n<p><strong>学习与使用</strong></p>\n<p>首先，我被 requests-html 库的简洁性和强大功能所吸引。这个库基于 requests 构建，结合了 pyquery、beautifulsoup4 和 lxml 等工具，使得 HTML 解析和网页抓取变得更加直观和高效。安装和设置过程也非常简单，只需几行命令即可开始使用。</p>\n<p><strong>同步与异步请求</strong></p>\n<p>在实际使用中，我发现 requests-html 对同步和异步请求的支持非常实用。通过 HTMLSession 和 AsyncHTMLSession，我可以轻松地发起同步和异步的 HTTP 请求，并处理由 JavaScript 动态生成的内容。特别是在处理大量请求时，异步支持显著提高了效率。</p>\n<p><strong>JavaScript 渲染</strong></p>\n<p>一个令我印象深刻的功能是 requests-html 对 JavaScript 渲染的支持。通过 pyppeteer，我能够渲染和解析动态生成的内容，这在现代网页抓取中是至关重要的。我尝试了多个网站，包括一些使用复杂 JavaScript 生成内容的网站，requests-html 都能顺利完成任务。</p>\n<p><strong>CSS 与 XPath 选择器</strong></p>\n<p>在解析 HTML 内容时，requests-html 提供的 CSS 和 XPath 选择器极大地方便了我的工作。我可以使用类似 jQuery 的语法快速定位和提取网页中的元素，同时也可以使用 XPath 进行更复杂的查询。这使得解析和处理网页内容变得更加灵活和高效。</p>\n<p><strong>模拟用户代理与自动重定向</strong></p>\n<p>在实际应用中，避免被反爬虫机制检测到是一个重要的考虑因素。requests-html 通过模拟真实的浏览器用户代理，有效减少了被封禁的风险。此外，它还自动处理 HTTP 重定向，保持会话的连续性，确保抓取过程顺利进行。</p>\n<p><strong>代码实现与测试</strong></p>\n<p>在编写和测试代码的过程中，我进一步理解了 requests-html 的内部机制。通过阅读和分析源码，我了解到每个核心类和函数的具体实现原理。这不仅提升了我的编程技能，也让我对网页抓取有了更深入的认识。</p>\n<p>我编写了一些测试用例，包括同步和异步分页测试、文件请求测试等，确保了代码的健壮性和可靠性。通过这些测试，我验证了 requests-html 在不同场景下的表现，发现它确实是一个功能强大且易于使用的库。</p>\n<p><strong>结论</strong></p>\n<p>总的来说，这次项目经历让我受益匪浅。requests-html 不仅简化了网页抓取的复杂性，还提供了强大的功能，满足了我在处理动态内容和大量请求时的需求。通过这个项目，我对网页抓取技术有了更全面的理解，也积累了丰富的实践经验。今后，我会继续探索和使用这个库，进一步提升我的技术能力。</p>\n",
            "tags": [
                "Hexo",
                "Front Matter"
            ]
        }
    ]
}